[{"id":"ec8eb6e9.490218","type":"range","z":"2b9d19c4.0b3436","minin":"0","maxin":"50","minout":"0","maxout":"1000","action":"scale","round":false,"property":"payload","name":"","x":940,"y":220,"wires":[["c8874e00.94018","f5a50ec8.418be"]]},{"id":"24888ad8.21e416","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"temp3","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":560,"y":900,"wires":[["5d7a814.1cbcf8"]]},{"id":"264262d3.11472e","type":"debug","z":"2b9d19c4.0b3436","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1010,"y":1220,"wires":[]},{"id":"e6890dc8.a1403","type":"switch","z":"2b9d19c4.0b3436","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":650,"y":1200,"wires":[["ece6ac5e.61019"]]},{"id":"59e05f32.fcc08","type":"switch","z":"2b9d19c4.0b3436","name":"false","property":"payload","propertyType":"msg","rules":[{"t":"false"}],"checkall":"true","repair":false,"outputs":1,"x":650,"y":1240,"wires":[["ece6ac5e.61019"]]},{"id":"8f496460.b18908","type":"function","z":"2b9d19c4.0b3436","name":"T1","func":"global.set(\"T1\",msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":370,"y":140,"wires":[[]]},{"id":"89ca4cbf.3c6ee","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"75","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":190,"y":160,"wires":[["8f496460.b18908"]]},{"id":"6e09f8d1.a79cd8","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"57","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":190,"y":320,"wires":[["1e7e6dc7.c43a72"]]},{"id":"eda1d214.d6893","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"62","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":190,"y":360,"wires":[["1e7e6dc7.c43a72"]]},{"id":"10ae9d26.fd3d73","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"67","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":190,"y":400,"wires":[["1e7e6dc7.c43a72"]]},{"id":"1e7e6dc7.c43a72","type":"function","z":"2b9d19c4.0b3436","name":"T3","func":"global.set(\"T3\",msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":370,"y":420,"wires":[[]]},{"id":"c9d6b38e.42b15","type":"function","z":"2b9d19c4.0b3436","name":"P1","func":"global.set(\"P1\",msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":720,"wires":[[]]},{"id":"db4e5019.f27d1","type":"function","z":"2b9d19c4.0b3436","name":"P2","func":"global.set(\"P2\",msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":800,"wires":[[]]},{"id":"12467a02.aadb56","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"start","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":170,"y":80,"wires":[["c3601cfe.b0745"]]},{"id":"905c92b3.195bc","type":"function","z":"2b9d19c4.0b3436","name":"T1 > 70   -   R1-ON","func":"var data    =   global.get(\"T1\")\nif (data > 70) {\n    global.set(\"R1\",false)\n    msg.payload = true\n    global.set(\"start\",false)\n    return msg;\n}\nelse {\n    msg.payload = false\n    return msg;\n}","outputs":1,"noerr":0,"x":470,"y":80,"wires":[["4daf11a0.1dc0f"]]},{"id":"4daf11a0.1dc0f","type":"delay","z":"2b9d19c4.0b3436","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":640,"y":80,"wires":[["9577b8a.29ae348"]]},{"id":"dbfe9a0c.3ef0f8","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"65","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":190,"y":120,"wires":[["8f496460.b18908"]]},{"id":"3ad43f59.d12b6","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1290,"y":1980,"wires":[["2592698a.4be616"]]},{"id":"2592698a.4be616","type":"function","z":"2b9d19c4.0b3436","name":"Relay","func":"global.set(\"R1\",true)\nglobal.set(\"R2\",true)\nglobal.set(\"R4\",true)\nglobal.set(\"reset\",false)\nreturn msg;","outputs":1,"noerr":0,"x":1450,"y":1980,"wires":[[]]},{"id":"b5710954.b92f48","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1290,"y":2020,"wires":[["4b4485b8.0415dc"]]},{"id":"4b4485b8.0415dc","type":"function","z":"2b9d19c4.0b3436","name":"driver - driverf - driverg","func":"global.set(\"driver\",0)\nglobal.set(\"driverf\",false)\nglobal.set(\"driverg\",false)\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":2020,"wires":[[]]},{"id":"bd822487.b22ca8","type":"rpi-gpio out","z":"2b9d19c4.0b3436","name":"R1","pin":"7","set":"","level":"0","freq":"","out":"out","x":990,"y":1760,"wires":[]},{"id":"2871fbbe.45d184","type":"rpi-gpio out","z":"2b9d19c4.0b3436","name":"R2","pin":"11","set":"","level":"0","freq":"","out":"out","x":990,"y":1860,"wires":[]},{"id":"a6b2ee66.dc446","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"R1","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":810,"y":1820,"wires":[["bd822487.b22ca8","3a9fa3ae.8d18ac"]]},{"id":"6b7c71cc.12ca4","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"R2","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":810,"y":1920,"wires":[["2871fbbe.45d184","28c96fb0.61518"]]},{"id":"9577b8a.29ae348","type":"function","z":"2b9d19c4.0b3436","name":"set driver  \"5\"","func":"var data = msg.payload\nif (data === true) {\n    global.set(\"driver\",5)\n    global.set(\"check1\",true)\n    msg.payload = true\n    return msg;\n    \n}","outputs":1,"noerr":0,"x":790,"y":80,"wires":[[]]},{"id":"21e0c5.15953f3c","type":"delay","z":"2b9d19c4.0b3436","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1080,"y":80,"wires":[["9c5aa12.c3fa46"]]},{"id":"965f073e.bcd288","type":"function","z":"2b9d19c4.0b3436","name":"R2-ON","func":"var data = msg.payload\nif (data === true) {\n    global.set(\"R2\",false)\n    msg.payload = true\n    return msg;\n    \n}","outputs":1,"noerr":0,"x":1370,"y":80,"wires":[["29efb77f.f84778"]]},{"id":"29efb77f.f84778","type":"delay","z":"2b9d19c4.0b3436","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1500,"y":80,"wires":[["c593bef4.810f"]]},{"id":"c593bef4.810f","type":"function","z":"2b9d19c4.0b3436","name":"R2-OFF","func":"var data = msg.payload\nif (data === true) {\n    global.set(\"R2\",true)\n    global.set(\"temp1\",true)\n    global.set(\"temp2\",true)\n    global.set(\"temp3\",true)\n    global.set(\"pres1\",true)\n    global.set(\"pres2\",true)\n    global.set(\"pres3\",true)\n    msg.payload = true\n    return msg;\n    \n}","outputs":1,"noerr":0,"x":1640,"y":80,"wires":[["baffc0f3.70ad6"]]},{"id":"3a9fa3ae.8d18ac","type":"function","z":"2b9d19c4.0b3436","name":"","func":"var data = msg.payload\nif (data === true) {\n    msg.payload = \"Kapalı\"\n    return msg;\n}\nelse if (data === false) {\n    msg.payload = \"Açık\"\n    return msg;\n}\n","outputs":1,"noerr":0,"x":970,"y":1820,"wires":[["b13f3147.22a99"]]},{"id":"28c96fb0.61518","type":"function","z":"2b9d19c4.0b3436","name":"","func":"var data = msg.payload\nif (data === true) {\n    msg.payload = \"Kapalı\"\n    return msg;\n}\nelse if (data === false) {\n    msg.payload = \"Açık\"\n    return msg;\n}\n","outputs":1,"noerr":0,"x":970,"y":1920,"wires":[["dcd9028a.81486"]]},{"id":"b13f3147.22a99","type":"ui_text","z":"2b9d19c4.0b3436","group":"ec20d83b.3318d8","order":1,"width":"5","height":"1","name":"","label":"R1","format":"{{msg.payload}}","layout":"row-spread","x":1090,"y":1820,"wires":[]},{"id":"dcd9028a.81486","type":"ui_text","z":"2b9d19c4.0b3436","group":"ec20d83b.3318d8","order":2,"width":"5","height":"1","name":"","label":"R2","format":"{{msg.payload}}","layout":"row-spread","x":1090,"y":1920,"wires":[]},{"id":"bef903a6.7f145","type":"ui_gauge","z":"2b9d19c4.0b3436","name":"","group":"fbbf5187.4b2fe","order":1,"width":"4","height":"4","gtype":"gage","title":"T1","label":"units","format":"{{value}}","min":0,"max":"120","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1090,"y":1980,"wires":[]},{"id":"240f428d.3ad5ee","type":"ui_gauge","z":"2b9d19c4.0b3436","name":"","group":"fbbf5187.4b2fe","order":2,"width":"4","height":"4","gtype":"gage","title":"T3","label":"units","format":"{{value}}","min":0,"max":"120","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1090,"y":2020,"wires":[]},{"id":"8a2c0622.29e8e8","type":"ui_gauge","z":"2b9d19c4.0b3436","name":"","group":"fbbf5187.4b2fe","order":3,"width":"4","height":"4","gtype":"gage","title":"P1","label":"units","format":"{{value}}","min":0,"max":"40","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1090,"y":2060,"wires":[]},{"id":"ad6f4c06.eb4fe","type":"ui_gauge","z":"2b9d19c4.0b3436","name":"","group":"fbbf5187.4b2fe","order":4,"width":"4","height":"4","gtype":"gage","title":"P2","label":"units","format":"{{value}}","min":0,"max":"40","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1090,"y":2100,"wires":[]},{"id":"7a620eba.c84c1","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"T1","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":930,"y":1980,"wires":[["bef903a6.7f145"]]},{"id":"73f6e94a.8389e8","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"T3","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":930,"y":2020,"wires":[["240f428d.3ad5ee"]]},{"id":"15eba039.e89a9","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"P1","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":930,"y":2060,"wires":[["8a2c0622.29e8e8"]]},{"id":"b95c93be.ca76f","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"P2","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":930,"y":2100,"wires":[["ad6f4c06.eb4fe"]]},{"id":"714761bc.6ec13","type":"ui_gauge","z":"2b9d19c4.0b3436","name":"","group":"2c910beb.23eac4","order":1,"width":"4","height":"4","gtype":"gage","title":"Sürücü","label":"units","format":"{{value}}","min":0,"max":"60","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1100,"y":2140,"wires":[]},{"id":"80e2d292.71a63","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"driver","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":920,"y":2140,"wires":[["714761bc.6ec13"]]},{"id":"4b9fa775.2939a8","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1290,"y":2220,"wires":[["b1255ef4.ff781"]]},{"id":"b1255ef4.ff781","type":"function","z":"2b9d19c4.0b3436","name":"set \"0\" (T1 - T3 - P1 - P2 - P2S - PS )","func":"global.set(\"T1\",0)\nglobal.set(\"T3\",0)\nglobal.set(\"P1\",0)\nglobal.set(\"P2\",0)\nglobal.set(\"P2S\",0)\nglobal.set(\"PS\",0)\n\nreturn msg;","outputs":1,"noerr":0,"x":1550,"y":2220,"wires":[[]]},{"id":"5c0a714e.05e1","type":"switch","z":"2b9d19c4.0b3436","name":"","property":"payload","propertyType":"msg","rules":[{"t":"btwn","v":"50","vt":"num","v2":"55","v2t":"num"},{"t":"btwn","v":"56","vt":"num","v2":"60","v2t":"num"},{"t":"btwn","v":"61","vt":"num","v2":"65","v2t":"num"},{"t":"btwn","v":"66","vt":"num","v2":"70","v2t":"num"},{"t":"btwn","v":"71","vt":"num","v2":"75","v2t":"num"},{"t":"btwn","v":"76","vt":"num","v2":"80","v2t":"num"},{"t":"btwn","v":"81","vt":"num","v2":"85","v2t":"num"},{"t":"btwn","v":"86","vt":"num","v2":"90","v2t":"num"},{"t":"btwn","v":"91","vt":"num","v2":"95","v2t":"num"}],"checkall":"true","repair":false,"outputs":9,"x":1170,"y":460,"wires":[["285abb87.7539a4"],["e182a8bb.a18fa8"],["65df6de7.a78c84"],["e2232eac.99dbe"],["b6d5d30a.b72f5"],["5b579cb6.5e0ee4"],["a96acbd.b65fe38"],["749f957b.1b25ac"],["7514ba54.2e60e4"]]},{"id":"65df6de7.a78c84","type":"function","z":"2b9d19c4.0b3436","name":"set \"18\" bar","func":"global.set(\"P2S\",18);\nglobal.set(\"temp1\",false)\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":380,"wires":[[]]},{"id":"e2232eac.99dbe","type":"function","z":"2b9d19c4.0b3436","name":"set \"20\" bar","func":"global.set(\"P2S\",20);\nglobal.set(\"temp1\",false)\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":420,"wires":[[]]},{"id":"b6d5d30a.b72f5","type":"function","z":"2b9d19c4.0b3436","name":"set \"22\" bar","func":"global.set(\"P2S\",22);\nglobal.set(\"temp1\",false)\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":460,"wires":[[]]},{"id":"a96acbd.b65fe38","type":"function","z":"2b9d19c4.0b3436","name":"set \"26\" bar","func":"global.set(\"P2S\",26);\nglobal.set(\"temp1\",false)\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":540,"wires":[[]]},{"id":"e182a8bb.a18fa8","type":"function","z":"2b9d19c4.0b3436","name":"set \"16\" bar","func":"global.set(\"P2S\",16);\nglobal.set(\"temp1\",false)\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":340,"wires":[[]]},{"id":"285abb87.7539a4","type":"function","z":"2b9d19c4.0b3436","name":"set \"14\" bar","func":"global.set(\"P2S\",14);\nglobal.set(\"temp1\",false)\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":300,"wires":[[]]},{"id":"749f957b.1b25ac","type":"function","z":"2b9d19c4.0b3436","name":"set \"28\" bar","func":"global.set(\"P2S\",28);\nglobal.set(\"temp1\",false)\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":580,"wires":[[]]},{"id":"7514ba54.2e60e4","type":"function","z":"2b9d19c4.0b3436","name":"set \"30\" bar","func":"global.set(\"P2S\",30);\nglobal.set(\"temp1\",false)\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":620,"wires":[[]]},{"id":"5b579cb6.5e0ee4","type":"function","z":"2b9d19c4.0b3436","name":"set \"24\" bar","func":"global.set(\"P2S\",24);\nglobal.set(\"temp1\",false)\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":500,"wires":[[]]},{"id":"e240c24f.4b1d6","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"72","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":190,"y":440,"wires":[["1e7e6dc7.c43a72"]]},{"id":"9cc54507.fbb9d8","type":"function","z":"2b9d19c4.0b3436","name":"driver up down","func":"var p2s = global.get(\"P2S\");\nvar ps   = global.get(\"PS\");\n\nif (p2s > ps) {\n    msg.payload = true;\n    return msg;\n\n    \n}\nelse if (p2s < ps) {\n    msg.payload = false;\n    return msg;\n}\nelse if (p2s == ps) {\n    global.set(\"driverf\",false)\n    global.set(\"sensor\",false)\n    global.set(\"temp1\",true)\n}\n\n\n","outputs":1,"noerr":0,"x":480,"y":1220,"wires":[["e6890dc8.a1403","59e05f32.fcc08"]]},{"id":"d1198b5f.674d58","type":"function","z":"2b9d19c4.0b3436","name":"driver","func":"global.set(\"driver\",msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":840,"wires":[[]]},{"id":"9ad935ae.70e118","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"82","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":190,"y":520,"wires":[["1e7e6dc7.c43a72"]]},{"id":"5cb99e2f.95509","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"87","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":190,"y":560,"wires":[["1e7e6dc7.c43a72"]]},{"id":"9bf74abb.930ce8","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"driverf","payloadType":"global","repeat":"5","crontab":"","once":false,"onceDelay":0.1,"x":180,"y":1220,"wires":[["9713ab0d.30d2b8"]]},{"id":"eb785c58.825e3","type":"function","z":"2b9d19c4.0b3436","name":"msg.payload = T3","func":"var data    =   global.get(\"T3\");\nmsg.payload =   data\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":460,"wires":[["5c0a714e.05e1"]]},{"id":"93386bc7.db5248","type":"switch","z":"2b9d19c4.0b3436","name":"is true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":850,"y":460,"wires":[["eb785c58.825e3"]]},{"id":"7a7a0e04.f9912","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"temp1","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":700,"y":460,"wires":[["93386bc7.db5248"]]},{"id":"45b84f5a.af03f","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1290,"y":2060,"wires":[["f9e1e78c.4d9058"]]},{"id":"f9e1e78c.4d9058","type":"function","z":"2b9d19c4.0b3436","name":"start","func":"global.set(\"start\",true)\nreturn msg;","outputs":1,"noerr":0,"x":1450,"y":2060,"wires":[[]]},{"id":"c3601cfe.b0745","type":"switch","z":"2b9d19c4.0b3436","name":"is true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":310,"y":80,"wires":[["905c92b3.195bc"]]},{"id":"3bfff603.c0200a","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1290,"y":2100,"wires":[["6dd77d2b.23ffa4"]]},{"id":"6dd77d2b.23ffa4","type":"function","z":"2b9d19c4.0b3436","name":"temp1 - temp2 - temp3","func":"global.set(\"temp1\",false)\nglobal.set(\"temp2\",false)\nglobal.set(\"temp3\",false)\nglobal.set(\"temp4\",false)\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":2100,"wires":[[]]},{"id":"b5c67dc8.27f54","type":"function","z":"2b9d19c4.0b3436","name":"msg.payload = T3","func":"var data    =   global.get(\"T3\");\nmsg.payload =   data\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":1000,"wires":[["4a842725.e013a8"]]},{"id":"4a842725.e013a8","type":"switch","z":"2b9d19c4.0b3436","name":"T3 > 95","property":"payload","propertyType":"msg","rules":[{"t":"gt","v":"95","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":660,"y":1000,"wires":[["50039e33.41c77"]]},{"id":"bb923ea.ea544c","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"temp2","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":180,"y":1000,"wires":[["e24e5801.44d978"]]},{"id":"e9649950.ca1568","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"77","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":190,"y":480,"wires":[["1e7e6dc7.c43a72"]]},{"id":"e24e5801.44d978","type":"switch","z":"2b9d19c4.0b3436","name":"is true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":330,"y":1000,"wires":[["b5c67dc8.27f54"]]},{"id":"fda5e0a.d15b82","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"P2S","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":930,"y":2180,"wires":[["c03f825b.97a5b"]]},{"id":"c03f825b.97a5b","type":"ui_gauge","z":"2b9d19c4.0b3436","name":"","group":"fbbf5187.4b2fe","order":5,"width":"4","height":"4","gtype":"gage","title":"P2S","label":"units","format":"{{value}}","min":0,"max":"60","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1090,"y":2180,"wires":[]},{"id":"191047ae.d2e828","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1290,"y":2140,"wires":[["a618b6fe.c82678"]]},{"id":"a618b6fe.c82678","type":"function","z":"2b9d19c4.0b3436","name":"pres1 - pres2","func":"global.set(\"pres1\",false)\nglobal.set(\"pres2\",false)\nglobal.set(\"pres3\",false)\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":2140,"wires":[[]]},{"id":"b7306410.ba6568","type":"function","z":"2b9d19c4.0b3436","name":"msg.payload = P1","func":"var data    =   global.get(\"P1\");\nmsg.payload =   data\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":1040,"wires":[["ed5b28df.0ee558"]]},{"id":"3790564e.3987da","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"pres1","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":180,"y":1040,"wires":[["85dffe0b.79381"]]},{"id":"85dffe0b.79381","type":"switch","z":"2b9d19c4.0b3436","name":"is true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":330,"y":1040,"wires":[["b7306410.ba6568"]]},{"id":"da3dded1.0a214","type":"function","z":"2b9d19c4.0b3436","name":"msg.payload = P2","func":"var data    =   global.get(\"P2\");\nmsg.payload =   data\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":1080,"wires":[["20bd6e34.bd1a42"]]},{"id":"43b19039.638cb","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"pres2","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":180,"y":1080,"wires":[["afacf27.e29f61"]]},{"id":"afacf27.e29f61","type":"switch","z":"2b9d19c4.0b3436","name":"is true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":330,"y":1080,"wires":[["da3dded1.0a214"]]},{"id":"50039e33.41c77","type":"function","z":"2b9d19c4.0b3436","name":"R1 - OFF","func":"global.set(\"R1\",true);\nglobal.set(\"R4\",true);\nglobal.set(\"driverf\",false)\nglobal.set(\"temp1\",false)\nglobal.set(\"temp2\",false)\nglobal.set(\"temp3\",false)\nglobal.set(\"pres1\",false)\nglobal.set(\"pres2\",false)\nglobal.set(\"pres3\",false)\nglobal.set(\"check\",false)\nglobal.set(\"check1\",false)\nglobal.set(\"check2\",false)\nglobal.set(\"check3\",false)\nreturn msg;","outputs":1,"noerr":0,"x":820,"y":1040,"wires":[["562df81a.52dac8"]]},{"id":"562df81a.52dac8","type":"delay","z":"2b9d19c4.0b3436","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":960,"y":1040,"wires":[["d408b1a4.79a06"]]},{"id":"d408b1a4.79a06","type":"function","z":"2b9d19c4.0b3436","name":"set driver \"0\"","func":"global.set(\"driver\",0);\nglobal.set(\"check3\",true)\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":1040,"wires":[[]]},{"id":"ed5b28df.0ee558","type":"switch","z":"2b9d19c4.0b3436","name":"P1 > 20","property":"payload","propertyType":"msg","rules":[{"t":"gt","v":"20","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":660,"y":1040,"wires":[["50039e33.41c77"]]},{"id":"20bd6e34.bd1a42","type":"switch","z":"2b9d19c4.0b3436","name":"P2 > 30","property":"payload","propertyType":"msg","rules":[{"t":"gt","v":"30","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":660,"y":1080,"wires":[["50039e33.41c77"]]},{"id":"5d7a814.1cbcf8","type":"switch","z":"2b9d19c4.0b3436","name":"is true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":710,"y":900,"wires":[["ea0589ea.f6bd08"]]},{"id":"ea0589ea.f6bd08","type":"function","z":"2b9d19c4.0b3436","name":"T3 < 50","func":"var data = global.get(\"T3\")\nif (data < 50) {\n    msg.payload = false\n    global.set(\"temp4\",true)\n    global.set(\"driverf\",false)\n    global.set(\"driver\",5)\n    global.set(\"check2\",true)\n    return msg;\n}\n","outputs":1,"noerr":0,"x":860,"y":900,"wires":[[]]},{"id":"a5ef8694.d5b1e8","type":"switch","z":"2b9d19c4.0b3436","name":"","property":"payload","propertyType":"msg","rules":[{"t":"btwn","v":"12.1","vt":"num","v2":"14","v2t":"num"},{"t":"btwn","v":"14.1","vt":"num","v2":"16","v2t":"num"},{"t":"btwn","v":"16.1","vt":"num","v2":"18","v2t":"num"},{"t":"btwn","v":"18.1","vt":"num","v2":"20","v2t":"num"},{"t":"btwn","v":"20.1","vt":"num","v2":"22","v2t":"num"},{"t":"btwn","v":"22.1","vt":"num","v2":"24","v2t":"num"},{"t":"btwn","v":"24.1","vt":"num","v2":"26","v2t":"num"},{"t":"btwn","v":"26.1","vt":"num","v2":"28","v2t":"num"},{"t":"btwn","v":"28.1","vt":"num","v2":"30","v2t":"num"}],"checkall":"true","repair":false,"outputs":9,"x":650,"y":1520,"wires":[["1fa993d3.36531c"],["4074d536.25a0ac"],["cb238fa9.4b3de"],["698795c6.378dec"],["ce5e8ada.272568"],["9996667d.04bf08"],["cf76b931.ad85e8"],["7e80b451.41fffc"],["94f91c4a.899a7"]]},{"id":"d287413b.084bf","type":"function","z":"2b9d19c4.0b3436","name":"msg.payload = P2","func":"var data    =   global.get(\"P2\");\nmsg.payload =   data\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":1520,"wires":[["a5ef8694.d5b1e8"]]},{"id":"2f3266b1.8602ca","type":"debug","z":"2b9d19c4.0b3436","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1630,"y":1340,"wires":[]},{"id":"d9b17048.2ea0b","type":"debug","z":"2b9d19c4.0b3436","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":530,"y":1800,"wires":[]},{"id":"1fa993d3.36531c","type":"function","z":"2b9d19c4.0b3436","name":"","func":"global.set(\"PS\",14);\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1360,"wires":[[]]},{"id":"2a2c81d9.3dd60e","type":"ui_text_input","z":"2b9d19c4.0b3436","name":"","label":"","tooltip":"","group":"24fa9067.a529c","order":1,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":150,"y":840,"wires":[["851bd761.b8a368","5fdc65e2.76ed5c"]]},{"id":"851bd761.b8a368","type":"ui_button","z":"2b9d19c4.0b3436","name":"","group":"24fa9067.a529c","order":2,"width":0,"height":0,"passthru":false,"label":"UYGULA","tooltip":"","color":"","bgcolor":"","icon":"","payload":"number","payloadType":"global","topic":"","x":200,"y":800,"wires":[["db4e5019.f27d1"]]},{"id":"5fdc65e2.76ed5c","type":"function","z":"2b9d19c4.0b3436","name":"","func":"global.set(\"number\",msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":190,"y":900,"wires":[[]]},{"id":"4074d536.25a0ac","type":"function","z":"2b9d19c4.0b3436","name":"","func":"global.set(\"PS\",16);\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1400,"wires":[[]]},{"id":"cb238fa9.4b3de","type":"function","z":"2b9d19c4.0b3436","name":"","func":"global.set(\"PS\",18);\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1440,"wires":[[]]},{"id":"698795c6.378dec","type":"function","z":"2b9d19c4.0b3436","name":"","func":"global.set(\"PS\",20);\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1480,"wires":[[]]},{"id":"ce5e8ada.272568","type":"function","z":"2b9d19c4.0b3436","name":"","func":"global.set(\"PS\",22);\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1520,"wires":[[]]},{"id":"9996667d.04bf08","type":"function","z":"2b9d19c4.0b3436","name":"","func":"global.set(\"PS\",24);\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1560,"wires":[[]]},{"id":"cf76b931.ad85e8","type":"function","z":"2b9d19c4.0b3436","name":"","func":"global.set(\"PS\",26);\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1600,"wires":[[]]},{"id":"7e80b451.41fffc","type":"function","z":"2b9d19c4.0b3436","name":"","func":"global.set(\"PS\",28);\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1640,"wires":[[]]},{"id":"94f91c4a.899a7","type":"function","z":"2b9d19c4.0b3436","name":"","func":"global.set(\"PS\",30);\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1680,"wires":[[]]},{"id":"65337d9.4f82784","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"PS","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":930,"y":2220,"wires":[["dbbcd692.51abc8"]]},{"id":"dbbcd692.51abc8","type":"ui_gauge","z":"2b9d19c4.0b3436","name":"","group":"fbbf5187.4b2fe","order":6,"width":"4","height":"4","gtype":"gage","title":"PS","label":"units","format":"{{value}}","min":0,"max":"60","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1090,"y":2220,"wires":[]},{"id":"5ca0a903.41ac68","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"sensor","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":180,"y":1520,"wires":[["494ebd08.eefa44"]]},{"id":"4dd0f996.4bba38","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"AS","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":1290,"y":980,"wires":[["72628b51.d10684"]]},{"id":"9713ab0d.30d2b8","type":"switch","z":"2b9d19c4.0b3436","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":330,"y":1220,"wires":[["9cc54507.fbb9d8"]]},{"id":"72628b51.d10684","type":"switch","z":"2b9d19c4.0b3436","name":"is true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1430,"y":980,"wires":[["c47afa42.52d678"]]},{"id":"c47afa42.52d678","type":"function","z":"2b9d19c4.0b3436","name":"T3<95 & P1<10 & P2<25","func":"var t3 = global.get(\"T3\")\nvar p1 = global.get(\"P1\")\nvar p2 = global.get(\"P2\")\n\nif ( t3 < 95 && p1 < 10 && p2 < 25) {\n    msg.payload = true\n    global.set(\"start\",true)\n    global.set(\"AS\",false)\n    global.set(\"start\",true)\n    return msg;\n}\nelse {\n    msg.payload = false\n    return msg;\n}","outputs":1,"noerr":0,"x":1610,"y":980,"wires":[[]]},{"id":"d516a2c6.47fb3","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1290,"y":2180,"wires":[["187fac08.e30724"]]},{"id":"187fac08.e30724","type":"function","z":"2b9d19c4.0b3436","name":"sensor","func":"global.set(\"sensor\",false)\nreturn msg;","outputs":1,"noerr":0,"x":1450,"y":2180,"wires":[[]]},{"id":"494ebd08.eefa44","type":"switch","z":"2b9d19c4.0b3436","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":330,"y":1520,"wires":[["d287413b.084bf"]]},{"id":"14bb288b.ff66e7","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"52","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":190,"y":280,"wires":[["1e7e6dc7.c43a72"]]},{"id":"3648f4d8.44565c","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"92","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":190,"y":600,"wires":[["1e7e6dc7.c43a72"]]},{"id":"aa154712.22ff28","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"105","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":190,"y":640,"wires":[["1e7e6dc7.c43a72"]]},{"id":"9c992001.ed226","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"40","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":190,"y":240,"wires":[["1e7e6dc7.c43a72"]]},{"id":"d8e813dc.eff74","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"5","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":190,"y":700,"wires":[["c9d6b38e.42b15"]]},{"id":"d95d953a.7fac38","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"35","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":190,"y":740,"wires":[["c9d6b38e.42b15"]]},{"id":"225af0ca.8eb4d","type":"function","z":"2b9d19c4.0b3436","name":"T3 < 100","func":"var t3 = global.get(\"T3\")\nvar p1 = global.get(\"P1\")\nvar p2 = global.get(\"P2\")\n\nif (t3 < 100 && p1 < 10 && p2 < 25) {\n    msg.payload = true\n    global.set(\"start\",true)\n    global.set(\"T3K\",false)\n    return msg;\n}\n\nelse {\n    msg.payload = false\n    return msg;\n}","outputs":1,"noerr":0,"x":260,"y":2060,"wires":[[]]},{"id":"f849ac52.5c308","type":"function","z":"2b9d19c4.0b3436","name":"P1 < 10","func":"var t3 = global.get(\"T3\")\nvar p1 = global.get(\"P1\")\nvar p2 = global.get(\"P2\")\n\nif (t3 < 100 && p1 < 10 && p2 < 25) {\n    msg.payload = true\n    global.set(\"start\",true)\n    global.set(\"P1K\",false)\n    return msg;\n}\n\nelse {\n    msg.payload = false\n    return msg;\n}","outputs":1,"noerr":0,"x":260,"y":2100,"wires":[[]]},{"id":"3b8995c3.f9bf3a","type":"function","z":"2b9d19c4.0b3436","name":"P2 < 25","func":"var t3 = global.get(\"T3\")\nvar p1 = global.get(\"P1\")\nvar p2 = global.get(\"P2\")\n\nif (t3 < 100 && p1 < 10 && p2 < 25) {\n    msg.payload = true\n    global.set(\"start\",true)\n    global.set(\"P2K\",false)\n    return msg;\n}\n\nelse {\n    msg.payload = false\n    return msg;\n}","outputs":1,"noerr":0,"x":260,"y":2140,"wires":[[]]},{"id":"ece6ac5e.61019","type":"function","z":"2b9d19c4.0b3436","name":"Up Down \"driver\"","func":"\nvar Value = global.get(\"driver\");\n\nif(msg.payload === true && Value <50){\n    global.set('driver', Value + 1)\n    global.set(\"check\",true)\n    global.set(\"driverf\",false)\n} \n\nif(msg.payload === false && Value >0) {\n    global.set('driver', Value - 1)\n    global.set(\"check\",true)\n    global.set(\"driverf\",false)\n}\nValue = global.get(\"driver\");\nmsg.payload = Value\n\nreturn msg","outputs":1,"noerr":0,"x":830,"y":1220,"wires":[["264262d3.11472e"]]},{"id":"50e7dd97.de5ab4","type":"function","z":"2b9d19c4.0b3436","name":"down \"driver\"","func":"var data = global.get(\"driver\")\ndata = data - 1\nmsg.payload = data\nglobal.set(\"driver\",msg.payload)\n//global.set(\"driverf\",false)\nglobal.set(\"driverg\",false)\nreturn msg;","outputs":1,"noerr":0,"x":250,"y":2220,"wires":[[]]},{"id":"918886b4.e82f78","type":"function","z":"2b9d19c4.0b3436","name":"up \"driver\"","func":"var data = global.get(\"driver\")\ndata = data + 1\nmsg.payload = data\nglobal.set(\"driver\",msg.payload)\n//global.set(\"driverf\",false)\nglobal.set(\"driverg\",true)\nreturn msg;","outputs":1,"noerr":0,"x":250,"y":2180,"wires":[[]]},{"id":"c2533a06.b5b028","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"check","payloadType":"global","repeat":"4","crontab":"","once":false,"onceDelay":0.1,"x":840,"y":1300,"wires":[["eba702b8.95873"]]},{"id":"75b4f44d.690d4c","type":"function","z":"2b9d19c4.0b3436","name":"","func":"var data = msg.payload\nif (data === true) {\n    msg.payload = global.get(\"driver\")\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1110,"y":1300,"wires":[["dc2deb27.1e72e8"]]},{"id":"eba702b8.95873","type":"switch","z":"2b9d19c4.0b3436","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":990,"y":1300,"wires":[["75b4f44d.690d4c"]]},{"id":"a4f79e76.2357c","type":"function","z":"2b9d19c4.0b3436","name":"Set modbus1","func":"global.set(\"modbus1\", msg.payload)\n","outputs":1,"noerr":0,"x":1410,"y":1360,"wires":[[]]},{"id":"dc2deb27.1e72e8","type":"range","z":"2b9d19c4.0b3436","minin":"0","maxin":"50","minout":"0","maxout":"1000","action":"scale","round":false,"property":"payload","name":"","x":1240,"y":1300,"wires":[["a4f79e76.2357c","f3b712f.c6bc5f"]]},{"id":"81a1c1f3.75703","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1290,"y":2300,"wires":[["5ff76805.96e0f8"]]},{"id":"5ff76805.96e0f8","type":"function","z":"2b9d19c4.0b3436","name":"modbus 1-2-3   \"0\"","func":"global.set(\"modbus1\",0)\nglobal.set(\"modbus2\",0)\nglobal.set(\"modbus3\",0)\nglobal.set(\"modbus4\",0)\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":2300,"wires":[[]]},{"id":"e057da1.9971528","type":"function","z":"2b9d19c4.0b3436","name":"msg.payload.value","func":"global.set(\"value\",msg.payload.value)\nvar data = msg.payload.value\nvar modbus = global.get(\"modbus1\")\nif (data == modbus ) {\n    global.set(\"check\",false)\n    global.set(\"driverf\",true)\n    msg.payload = false\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1650,"y":1260,"wires":[[]]},{"id":"53001206.915e9c","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1290,"y":2380,"wires":[["98355b8a.c80018"]]},{"id":"98355b8a.c80018","type":"function","z":"2b9d19c4.0b3436","name":"","func":"global.set(\"value\", undefined)\nglobal.set(\"address\", 0)\nglobal.set(\"fc\", 6)\nreturn msg;","outputs":1,"noerr":0,"x":1450,"y":2380,"wires":[[]]},{"id":"f8ccfe67.fad7a","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1290,"y":2340,"wires":[["caab2954.dacec8"]]},{"id":"caab2954.dacec8","type":"function","z":"2b9d19c4.0b3436","name":"Global set \"false\"  checks","func":"global.set(\"check\",false);\nglobal.set(\"check1\",false);\nglobal.set(\"check2\",false);\nglobal.set(\"check3\",false);\n","outputs":1,"noerr":0,"x":1510,"y":2340,"wires":[[]]},{"id":"aad00931.c4bdf8","type":"function","z":"2b9d19c4.0b3436","name":"msg.payload.value","func":"global.set(\"value\",msg.payload.value)\nvar data = msg.payload.value\nvar modbus = global.get(\"modbus1\")\nif (data == modbus ) {\n    global.set(\"check\",false)\n    global.set(\"driverf\",true)\n    msg.payload = false\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1570,"y":1480,"wires":[[]]},{"id":"6892f612.6b39c8","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":1260,"y":1220,"wires":[["6462e74c.dc8fb8"]]},{"id":"6462e74c.dc8fb8","type":"function","z":"2b9d19c4.0b3436","name":"","func":"msg.payload = global.get(\"modbus1\")\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":1220,"wires":[["e057da1.9971528"]]},{"id":"ec2e1bc1.cfebd8","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"check1","payloadType":"global","repeat":"4","crontab":"","once":false,"onceDelay":0.1,"x":540,"y":220,"wires":[["2427d8e9.4fdae8"]]},{"id":"bc33ea69.427208","type":"function","z":"2b9d19c4.0b3436","name":"","func":"var data = msg.payload\nif (data === true) {\n    msg.payload = global.get(\"driver\")\n    return msg;\n}\n","outputs":1,"noerr":0,"x":810,"y":220,"wires":[["ec8eb6e9.490218"]]},{"id":"2427d8e9.4fdae8","type":"switch","z":"2b9d19c4.0b3436","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":690,"y":220,"wires":[["bc33ea69.427208"]]},{"id":"c8874e00.94018","type":"function","z":"2b9d19c4.0b3436","name":"Set modbus2","func":"global.set(\"modbus2\", msg.payload)\n","outputs":1,"noerr":0,"x":1110,"y":280,"wires":[[]]},{"id":"5e7f78f5.8ea4d8","type":"function","z":"2b9d19c4.0b3436","name":"","func":"msg.payload = global.get(\"modbus2\")\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":160,"wires":[["eb5bc748.0595f8"]]},{"id":"16dce301.32604d","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":980,"y":160,"wires":[["5e7f78f5.8ea4d8"]]},{"id":"eb5bc748.0595f8","type":"function","z":"2b9d19c4.0b3436","name":"msg.payload.value","func":"global.set(\"value1\",msg.payload.value)\nvar data = msg.payload.value\nvar modbus = global.get(\"modbus2\")\nif (data == modbus ) {\n    global.set(\"check1\",false)\n    msg.payload = true\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1330,"y":180,"wires":[["21e0c5.15953f3c"]]},{"id":"f3167655.615638","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"check2","payloadType":"global","repeat":"4","crontab":"","once":false,"onceDelay":0.1,"x":860,"y":760,"wires":[["69ceb751.14c5f8"]]},{"id":"69ceb751.14c5f8","type":"switch","z":"2b9d19c4.0b3436","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1030,"y":760,"wires":[["b52b3a60.324118"]]},{"id":"b52b3a60.324118","type":"function","z":"2b9d19c4.0b3436","name":"","func":"var data = msg.payload\nif (data === true) {\n    msg.payload = global.get(\"driver\")\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1150,"y":760,"wires":[["eccd6c60.6450f"]]},{"id":"eccd6c60.6450f","type":"range","z":"2b9d19c4.0b3436","minin":"0","maxin":"50","minout":"0","maxout":"1000","action":"scale","round":false,"property":"payload","name":"","x":1280,"y":760,"wires":[["9d70d389.8fe22","3956a5cf.4e53aa"]]},{"id":"9d70d389.8fe22","type":"function","z":"2b9d19c4.0b3436","name":"Set modbus3","func":"global.set(\"modbus3\", msg.payload)\n","outputs":1,"noerr":0,"x":1450,"y":820,"wires":[[]]},{"id":"fa53ff17.e29c","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":1320,"y":700,"wires":[["8f263dd0.7b1f8"]]},{"id":"8f263dd0.7b1f8","type":"function","z":"2b9d19c4.0b3436","name":"","func":"msg.payload = global.get(\"modbus3\")\nreturn msg;","outputs":1,"noerr":0,"x":1450,"y":700,"wires":[["2809b2bb.d08c0e"]]},{"id":"2809b2bb.d08c0e","type":"function","z":"2b9d19c4.0b3436","name":"msg.payload.value","func":"global.set(\"value2\",msg.payload.value)\nvar data = msg.payload.value\nvar modbus = global.get(\"modbus3\")\nif (data == modbus ) {\n    global.set(\"check2\",false)\n    //global.set(\"temp3\",true)\n    msg.payload = true\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1690,"y":760,"wires":[[]]},{"id":"84c90776.50e268","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1290,"y":2260,"wires":[["beadb658.de6078"]]},{"id":"beadb658.de6078","type":"function","z":"2b9d19c4.0b3436","name":"\"AS\" false","func":"global.set(\"AS\",false)\nreturn msg;","outputs":1,"noerr":0,"x":1460,"y":2260,"wires":[[]]},{"id":"25bc471.7c74bb8","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"check3","payloadType":"global","repeat":"4","crontab":"","once":false,"onceDelay":0.1,"x":860,"y":1100,"wires":[["11b1af5b.7d5461"]]},{"id":"11b1af5b.7d5461","type":"switch","z":"2b9d19c4.0b3436","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1010,"y":1100,"wires":[["5a9d4a93.93b344"]]},{"id":"5a9d4a93.93b344","type":"function","z":"2b9d19c4.0b3436","name":"","func":"var data = msg.payload\nif (data === true) {\n    msg.payload = global.get(\"driver\")\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1130,"y":1100,"wires":[["72c25074.6a5e2"]]},{"id":"72c25074.6a5e2","type":"range","z":"2b9d19c4.0b3436","minin":"0","maxin":"50","minout":"0","maxout":"1000","action":"scale","round":false,"property":"payload","name":"","x":1260,"y":1100,"wires":[["3fedc830.25a028","fcfa6dc.d9d349"]]},{"id":"3fedc830.25a028","type":"function","z":"2b9d19c4.0b3436","name":"Set modbus3","func":"global.set(\"modbus4\", msg.payload)\n","outputs":1,"noerr":0,"x":1430,"y":1160,"wires":[[]]},{"id":"5d0d2020.e830a","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":1300,"y":1040,"wires":[["d9d6ff76.92753"]]},{"id":"d9d6ff76.92753","type":"function","z":"2b9d19c4.0b3436","name":"","func":"msg.payload = global.get(\"modbus4\")\nreturn msg;","outputs":1,"noerr":0,"x":1430,"y":1040,"wires":[["3a60397e.3ce8a6"]]},{"id":"3a60397e.3ce8a6","type":"function","z":"2b9d19c4.0b3436","name":"msg.payload.value","func":"global.set(\"value3\",msg.payload.value)\nvar data = msg.payload.value\nvar modbus = global.get(\"modbus4\")\nif (data == modbus ) {\n    global.set(\"check3\",false)\n    global.set(\"AS\",true)\n    msg.payload = true\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1650,"y":1060,"wires":[[]]},{"id":"f5a50ec8.418be","type":"modbus-write","z":"2b9d19c4.0b3436","name":"","showStatusActivities":false,"showErrors":false,"unitid":"4","dataType":"HoldingRegister","adr":"3","quantity":"1","server":"c09ab54a.4f6978","x":1120,"y":220,"wires":[["e414f1a6.b2776","eb5bc748.0595f8"],[]]},{"id":"e414f1a6.b2776","type":"debug","z":"2b9d19c4.0b3436","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1310,"y":240,"wires":[]},{"id":"463dc62f.bcee18","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":550,"y":280,"wires":[["f5a50ec8.418be"]]},{"id":"f1f46775.5fc4f8","type":"inject","z":"2b9d19c4.0b3436","name":"On","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":430,"y":520,"wires":[["1ddb4844.4a0878"]]},{"id":"cd9cc0d3.1a9e1","type":"inject","z":"2b9d19c4.0b3436","name":"Off","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":430,"y":580,"wires":[["1ddb4844.4a0878"]]},{"id":"1ddb4844.4a0878","type":"function","z":"2b9d19c4.0b3436","name":"","func":"global.set(\"R1\",msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":540,"wires":[[]]},{"id":"f3b712f.c6bc5f","type":"modbus-write","z":"2b9d19c4.0b3436","name":"","showStatusActivities":false,"showErrors":false,"unitid":"4","dataType":"HoldingRegister","adr":"3","quantity":"1","server":"c09ab54a.4f6978","x":1420,"y":1300,"wires":[["e057da1.9971528","2f3266b1.8602ca"],[]]},{"id":"fcfa6dc.d9d349","type":"modbus-write","z":"2b9d19c4.0b3436","name":"","showStatusActivities":false,"showErrors":false,"unitid":"4","dataType":"HoldingRegister","adr":"3","quantity":"1","server":"c09ab54a.4f6978","x":1440,"y":1100,"wires":[["3a60397e.3ce8a6","d64de3ed.beb46"],[]]},{"id":"9be78046.52518","type":"comment","z":"2b9d19c4.0b3436","name":"Bızıklama","info":"","x":1380,"y":40,"wires":[]},{"id":"d64de3ed.beb46","type":"debug","z":"2b9d19c4.0b3436","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1650,"y":1140,"wires":[]},{"id":"3956a5cf.4e53aa","type":"modbus-write","z":"2b9d19c4.0b3436","name":"","showStatusActivities":false,"showErrors":false,"unitid":"4","dataType":"HoldingRegister","adr":"3","quantity":"1","server":"c09ab54a.4f6978","x":1460,"y":760,"wires":[["2809b2bb.d08c0e","ae949854.193318"],[]]},{"id":"ae949854.193318","type":"debug","z":"2b9d19c4.0b3436","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1670,"y":840,"wires":[]},{"id":"9c5aa12.c3fa46","type":"function","z":"2b9d19c4.0b3436","name":"","func":"var data = global.get(\"P2\")\nif (data >= 15) {\n    msg.payload = true\n    return msg;\n}\nelse if (data < 15) {\n    msg.payload = false\n    return msg;\n    \n}","outputs":1,"noerr":0,"x":1230,"y":80,"wires":[["965f073e.bcd288","c21909ce.8f9848"]]},{"id":"c21909ce.8f9848","type":"switch","z":"2b9d19c4.0b3436","name":"","property":"payload","propertyType":"msg","rules":[{"t":"false"}],"checkall":"true","repair":false,"outputs":1,"x":1170,"y":20,"wires":[["21e0c5.15953f3c"]]},{"id":"37e4bd1.68fb442","type":"function","z":"2b9d19c4.0b3436","name":"msg.payload = P2","func":"var data    =   global.get(\"P2\");\nmsg.payload =   data\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":1120,"wires":[["828f2693.ab6a28"]]},{"id":"db3f8024.9c98f","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"pres3","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":180,"y":1120,"wires":[["10263f91.bf0aa"]]},{"id":"10263f91.bf0aa","type":"switch","z":"2b9d19c4.0b3436","name":"is true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":330,"y":1120,"wires":[["37e4bd1.68fb442"]]},{"id":"828f2693.ab6a28","type":"switch","z":"2b9d19c4.0b3436","name":"P2 <= 12","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"12","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":660,"y":1120,"wires":[["50039e33.41c77"]]},{"id":"85de18f.b3075e8","type":"debug","z":"2b9d19c4.0b3436","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":840,"y":1160,"wires":[]},{"id":"19a70828.7b8448","type":"comment","z":"2b9d19c4.0b3436","name":"Sorunlu Koşul","info":"","x":690,"y":860,"wires":[]},{"id":"8645fb3b.59c948","type":"function","z":"2b9d19c4.0b3436","name":"","func":"msg.reset = true\nreturn msg;","outputs":1,"noerr":0,"x":640,"y":720,"wires":[[]]},{"id":"d92dbb22.c2fa18","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"temp4","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":560,"y":940,"wires":[["b6323ed4.a6fe4"]]},{"id":"b6323ed4.a6fe4","type":"switch","z":"2b9d19c4.0b3436","name":"is true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":710,"y":940,"wires":[["efe7ab02.004af8"]]},{"id":"efe7ab02.004af8","type":"function","z":"2b9d19c4.0b3436","name":"T3 > 50","func":"var data = global.get(\"T3\")\nif (data > 50) {\n    global.set(\"temp4\",false)\n    //global.set(\"temp1\",true)\n    msg.payload = true\n    return msg;\n}","outputs":1,"noerr":0,"x":860,"y":940,"wires":[["c593bef4.810f"]]},{"id":"e73819f3.547d58","type":"ui_button","z":"2b9d19c4.0b3436","name":"","group":"f5a88132.5df79","order":0,"width":0,"height":0,"passthru":false,"label":"button","tooltip":"","color":"","bgcolor":"","icon":"","payload":"true","payloadType":"bool","topic":"","x":990,"y":2460,"wires":[["2592698a.4be616","4b4485b8.0415dc","f9e1e78c.4d9058","6dd77d2b.23ffa4","a618b6fe.c82678","187fac08.e30724","b1255ef4.ff781","beadb658.de6078","5ff76805.96e0f8","caab2954.dacec8","98355b8a.c80018","d63f6819.6b5948","b1ce37e1.3153b8","5bdc93c5.b4615c"]]},{"id":"d63f6819.6b5948","type":"function","z":"2b9d19c4.0b3436","name":"","func":"msg.reset = true\nreturn msg;","outputs":1,"noerr":0,"x":1190,"y":2540,"wires":[["dc613178.8c895","b5f98861.526678"]]},{"id":"7b209701.f978d8","type":"link in","z":"2b9d19c4.0b3436","name":"","links":["dc613178.8c895"],"x":535,"y":160,"wires":[["4daf11a0.1dc0f","21e0c5.15953f3c","29efb77f.f84778"]]},{"id":"dc613178.8c895","type":"link out","z":"2b9d19c4.0b3436","name":"","links":["7b209701.f978d8"],"x":1295,"y":2540,"wires":[]},{"id":"8e9aabbe.9aeae8","type":"link in","z":"2b9d19c4.0b3436","name":"","links":["b5f98861.526678"],"x":835,"y":980,"wires":[["562df81a.52dac8"]]},{"id":"b5f98861.526678","type":"link out","z":"2b9d19c4.0b3436","name":"","links":["8e9aabbe.9aeae8"],"x":1295,"y":2580,"wires":[]},{"id":"b1ce37e1.3153b8","type":"function","z":"2b9d19c4.0b3436","name":"","func":"msg.payload = 0\nreturn msg;","outputs":1,"noerr":0,"x":1040,"y":1440,"wires":[["f3b712f.c6bc5f","fcfa6dc.d9d349","3956a5cf.4e53aa","f5a50ec8.418be"]]},{"id":"c0ab73ad.19976","type":"rpi-gpio out","z":"2b9d19c4.0b3436","name":"R4","pin":"15","set":"","level":"0","freq":"","out":"out","x":1310,"y":1700,"wires":[]},{"id":"a7095746.228f28","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"R4","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":1150,"y":1700,"wires":[["c0ab73ad.19976","2cc3bc7.1c5e044"]]},{"id":"2cc3bc7.1c5e044","type":"function","z":"2b9d19c4.0b3436","name":"","func":"var data = msg.payload\nif (data === true) {\n    msg.payload = \"Kapalı\"\n    return msg;\n}\nelse if (data === false) {\n    msg.payload = \"Açık\"\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1310,"y":1760,"wires":[["4d982b66.f41794"]]},{"id":"4d982b66.f41794","type":"ui_text","z":"2b9d19c4.0b3436","group":"ec20d83b.3318d8","order":2,"width":"5","height":"1","name":"","label":"R4","format":"{{msg.payload}}","layout":"row-spread","x":1430,"y":1760,"wires":[]},{"id":"baffc0f3.70ad6","type":"delay","z":"2b9d19c4.0b3436","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":200,"wires":[["12b6ed19.14bcf3"]]},{"id":"12b6ed19.14bcf3","type":"function","z":"2b9d19c4.0b3436","name":"","func":"var data = msg.payload\nif (data === true) {\n    global.set(\"R4\",false)\n    msg.payload = true\n    return msg;\n    \n}","outputs":1,"noerr":0,"x":1620,"y":280,"wires":[[]]},{"id":"617d085b.2fa5e8","type":"inject","z":"2b9d19c4.0b3436","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1290,"y":2420,"wires":[["3826d83a.f67958"]]},{"id":"3826d83a.f67958","type":"function","z":"2b9d19c4.0b3436","name":"","func":"global.set(\"value\", undefined)\nglobal.set(\"value1\", undefined)\nglobal.set(\"value2\", undefined)\nglobal.set(\"value3\", undefined)\nreturn msg;","outputs":1,"noerr":0,"x":1450,"y":2420,"wires":[[]]},{"id":"5bdc93c5.b4615c","type":"function","z":"2b9d19c4.0b3436","name":"","func":"var v   =   global.get(\"value\")\nvar v1  =   global.get(\"value1\")\nvar v2  =   global.get(\"value2\")\nvar v3  =   global.get(\"value3\")\nif (v === 0 && v1 === 0 && v2 === 0 && v3 === 0) {\n    msg.payload = true\n    return msg;\n}\n// else {\n//     msg.payload = false\n//     return msg;\n// }","outputs":1,"noerr":0,"x":890,"y":2580,"wires":[["9ab61ba4.2df9e8","82a08ee1.fb424"]]},{"id":"9ab61ba4.2df9e8","type":"function","z":"2b9d19c4.0b3436","name":"","func":"var data = msg.payload\nif (data === true) {\n    msg.payload = \"Reset Başarılı\"\n    return msg;\n}\nelse {\n    msg.payload = \"Reset Başarısız!\"\n    return msg;\n}","outputs":1,"noerr":0,"x":1010,"y":2580,"wires":[["7a6ccfd0.2996e"]]},{"id":"7a6ccfd0.2996e","type":"ui_text","z":"2b9d19c4.0b3436","group":"ec20d83b.3318d8","order":2,"width":"5","height":"1","name":"","label":"Reset","format":"{{msg.payload}}","layout":"row-spread","x":1130,"y":2580,"wires":[]},{"id":"82a08ee1.fb424","type":"debug","z":"2b9d19c4.0b3436","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1040,"y":2660,"wires":[]},{"id":"ec20d83b.3318d8","type":"ui_group","z":"","name":"Röle Durumları","tab":"6bd10b69.bd7934","order":2,"disp":true,"width":"5","collapse":false},{"id":"fbbf5187.4b2fe","type":"ui_group","z":"","name":"Sensör Verileri","tab":"6bd10b69.bd7934","order":1,"disp":true,"width":"24","collapse":false},{"id":"2c910beb.23eac4","type":"ui_group","z":"","name":"Group 4","tab":"6bd10b69.bd7934","order":4,"disp":false,"width":"4","collapse":false},{"id":"24fa9067.a529c","type":"ui_group","z":"","name":"İnput Girişi (P2)","tab":"6bd10b69.bd7934","order":3,"disp":true,"width":"6","collapse":false},{"id":"c09ab54a.4f6978","type":"modbus-client","z":"","name":"","clienttype":"simpleser","bufferCommands":true,"stateLogEnabled":false,"tcpHost":"127.0.0.1","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB0","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"3000","reconnectTimeout":"2000"},{"id":"f5a88132.5df79","type":"ui_group","z":"","name":"Reset","tab":"6bd10b69.bd7934","order":5,"disp":true,"width":"5","collapse":false},{"id":"6bd10b69.bd7934","type":"ui_tab","name":"Tab 1","icon":"dashboard","order":1}]