[{"id":"20d4d665.bb882a","type":"function","z":"c8db3a2c.35ba68","name":"65<T1<80","func":"var data = global.get(\"temp\")\nif (data>65 && data<80) {\n    msg.payload = 15\n    global.set(\"driver\",msg.payload)\n    return msg;\n}\n","outputs":1,"noerr":0,"x":720,"y":500,"wires":[["34b2174c.3c7fa8"]]},{"id":"ec43d7f2.267298","type":"debug","z":"c8db3a2c.35ba68","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":490,"y":300,"wires":[]},{"id":"ec2754bd.2b1d68","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"75","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":130,"y":460,"wires":[["69af0e93.94f1e"]]},{"id":"8fdb011f.ef29b","type":"function","z":"c8db3a2c.35ba68","name":"temp>70","func":"var temp =global.get(\"temp\")\nvar pres    =   global.get(\"pressure\")\nvar button  =   global.get(\"button\")\nif (temp > 70 && temp < 100 && pres < 25 && button === true) {\n    msg.payload = true\n    global.set(\"refresh\",false)\n    global.set(\"start\",false)\n    global.set(\"R4\" , false)\n    return msg;\n}\n\nelse {\n    //global.set(\"refresh\",true)\n}\n","outputs":1,"noerr":0,"x":480,"y":140,"wires":[["16a89089.00547f"]]},{"id":"a7e03b88.90dfa8","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"60","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":130,"y":500,"wires":[["69af0e93.94f1e"]]},{"id":"73631cb7.3d0104","type":"rpi-gpio out","z":"c8db3a2c.35ba68","name":"R1","pin":"7","set":"","level":"0","freq":"","out":"out","x":1210,"y":220,"wires":[]},{"id":"21c0dbeb.656c34","type":"rpi-gpio out","z":"c8db3a2c.35ba68","name":"R4","pin":"15","set":"","level":"0","freq":"","out":"out","x":1210,"y":80,"wires":[]},{"id":"16a89089.00547f","type":"switch","z":"c8db3a2c.35ba68","name":"","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":610,"y":140,"wires":[["3678de02.eaa4c2"]]},{"id":"3678de02.eaa4c2","type":"delay","z":"c8db3a2c.35ba68","name":"","pauseType":"delay","timeout":"10","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":140,"wires":[["b1a77253.c1758","5b716e20.99104"]]},{"id":"69af0e93.94f1e","type":"function","z":"c8db3a2c.35ba68","name":"temp set","func":"global.set(\"temp\",msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":500,"y":460,"wires":[[]]},{"id":"7901584e.344cf8","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"temp","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":170,"y":840,"wires":[["eab191a6.50ae4"]]},{"id":"b03be741.7b37b8","type":"function","z":"c8db3a2c.35ba68","name":"","func":"var data = msg.payload;\n\nif ( data === true) {\n    msg.payload = true\n    return msg;\n}\n\nelse {\n    msg.payload = false\n    return msg;\n}","outputs":1,"noerr":0,"x":930,"y":320,"wires":[["23ae578d.bcca58"]]},{"id":"a28116d7.d519b8","type":"comment","z":"c8db3a2c.35ba68","name":"Start","info":"","x":330,"y":100,"wires":[]},{"id":"f1971ce7.93a3c","type":"function","z":"c8db3a2c.35ba68","name":"80<T1<90","func":"var data = global.get(\"temp\")\nif (data>80 && data<90) {\n    msg.payload = 17\n    global.set(\"driver\",msg.payload)\n    return msg;\n}\n","outputs":1,"noerr":0,"x":720,"y":540,"wires":[["34b2174c.3c7fa8"]]},{"id":"353b35c9.bbf46a","type":"function","z":"c8db3a2c.35ba68","name":"90<T1<100","func":"var data = global.get(\"temp\")\nif (data>90 && data<100) {\n    msg.payload = 20\n    global.set(\"driver\",msg.payload)\n    return msg;\n}\n","outputs":1,"noerr":0,"x":710,"y":580,"wires":[["34b2174c.3c7fa8"]]},{"id":"4b903242.cfd90c","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"85","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":130,"y":420,"wires":[["69af0e93.94f1e"]]},{"id":"a4f511b0.1556b","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"driver","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":180,"y":900,"wires":[["1070447b.71f4dc"]]},{"id":"ab6d3a88.6570b8","type":"function","z":"c8db3a2c.35ba68","name":"100<T1    -   T1<65","func":"var data = global.get(\"temp\")\nif (data>100 || data<65) {\n    //global.set(\"driver\",0)\n    msg.payload = true\n    return msg;\n}\n","outputs":1,"noerr":0,"x":720,"y":620,"wires":[["652ff0d6.0a883"]]},{"id":"652ff0d6.0a883","type":"function","z":"c8db3a2c.35ba68","name":"","func":"if (msg.payload ===true){\n    msg.payload = false\n    global.set(\"R4\",true)\n    global.set(\"R1\",true)\n    return msg;\n}\n","outputs":1,"noerr":0,"x":690,"y":660,"wires":[["a8f778cd.c2b3d8"]]},{"id":"a8f778cd.c2b3d8","type":"switch","z":"c8db3a2c.35ba68","name":"","property":"payload","propertyType":"msg","rules":[{"t":"false"}],"checkall":"true","repair":false,"outputs":1,"x":690,"y":780,"wires":[["39fdbfe9.10a4a"]]},{"id":"39fdbfe9.10a4a","type":"delay","z":"c8db3a2c.35ba68","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":820,"y":780,"wires":[["f6fe600f.b15a"]]},{"id":"34b2174c.3c7fa8","type":"function","z":"c8db3a2c.35ba68","name":"","func":"var data = msg.payload ;\nif (data > 14) {\n    global.set(\"drv\",true)\n    msg.payload = true\n    return msg;\n}\nelse {\n    global.set(\"drv\",false)\n    msg.payload = false\n    return msg;\n}\n","outputs":1,"noerr":0,"x":870,"y":540,"wires":[["9ab2326a.199d7"]]},{"id":"acaca744.1965e8","type":"function","z":"c8db3a2c.35ba68","name":"65<T1<100","func":"var temp = global.get(\"temp\")\nif (65<temp && temp<100) {\n    msg.payload = false\n    global.set(\"flow\",true)\n    global.set(\"check\", true)\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1030,"y":480,"wires":[[]]},{"id":"b1a77253.c1758","type":"delay","z":"c8db3a2c.35ba68","name":"","pauseType":"delay","timeout":"10","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":800,"y":320,"wires":[["b03be741.7b37b8"]]},{"id":"584e1c8b.334044","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"95","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":130,"y":380,"wires":[["69af0e93.94f1e"]]},{"id":"f6265e3f.a861a","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"105","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":130,"y":340,"wires":[["69af0e93.94f1e"]]},{"id":"9ab2326a.199d7","type":"switch","z":"c8db3a2c.35ba68","name":"","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":990,"y":540,"wires":[["acaca744.1965e8","b8fcb812.d71ed8"]]},{"id":"eadd310c.a7f93","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"start","payloadType":"global","repeat":"3","crontab":"","once":false,"onceDelay":0.1,"x":150,"y":140,"wires":[["275a5d19.7d07d2"]]},{"id":"7af84a83.84a684","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"drv","payloadType":"global","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":160,"y":960,"wires":[[]]},{"id":"23ae578d.bcca58","type":"switch","z":"c8db3a2c.35ba68","name":"","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":930,"y":360,"wires":[["20d4d665.bb882a","f1971ce7.93a3c","353b35c9.bbf46a","ab6d3a88.6570b8"]]},{"id":"d2846317.d2211","type":"debug","z":"c8db3a2c.35ba68","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":490,"y":780,"wires":[]},{"id":"f6fe600f.b15a","type":"function","z":"c8db3a2c.35ba68","name":"","func":"if (msg.payload === false) {\n    global.set(\"refresh\",true)\n    global.set(\"rly\",false)\n    \n}\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":800,"wires":[[]]},{"id":"f831a5b8.9f3798","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"refresh","payloadType":"global","repeat":"2","crontab":"","once":false,"onceDelay":0.1,"x":160,"y":240,"wires":[["b2c9d578.596548"]]},{"id":"b2c9d578.596548","type":"switch","z":"c8db3a2c.35ba68","name":"","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":310,"y":240,"wires":[["4e7f6809.bffbc8","8fdb011f.ef29b","ec43d7f2.267298"]]},{"id":"4e7f6809.bffbc8","type":"function","z":"c8db3a2c.35ba68","name":"","func":"//global.set(\"rly\",false)\n//global.set(\"flow\",false)","outputs":1,"noerr":0,"x":450,"y":240,"wires":[[]]},{"id":"d8b38a48.31df58","type":"ui_text","z":"c8db3a2c.35ba68","group":"81af866a.1d46c8","order":6,"width":"5","height":"7","name":"","label":"R4","format":"{{msg.payload}}","layout":"col-center","x":1330,"y":140,"wires":[]},{"id":"e11fa8ef.c4e448","type":"ui_text","z":"c8db3a2c.35ba68","group":"81af866a.1d46c8","order":5,"width":"5","height":"7","name":"","label":"R1","format":"{{msg.payload}}","layout":"col-center","x":1370,"y":180,"wires":[]},{"id":"eab191a6.50ae4","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"","group":"374ecd64.9e1ff2","order":2,"width":"6","height":"7","gtype":"gage","title":"Sýcaklýk","label":"°C","format":"{{value}}","min":0,"max":"250","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":340,"y":840,"wires":[]},{"id":"e65da784.bcfd88","type":"function","z":"c8db3a2c.35ba68","name":"","func":"if (msg.payload===true) {\n    msg.payload= \"Kapalý\"\n    return msg;\n}\nelse if (msg.payload === false) {\n    msg.payload = \"Açýk\"\n    return msg;\n}","outputs":1,"noerr":0,"x":1210,"y":140,"wires":[["d8b38a48.31df58"]]},{"id":"cb6cc7c7.4e8e38","type":"function","z":"c8db3a2c.35ba68","name":"","func":"if (msg.payload===true) {\n    msg.payload= \"Kapalý\"\n    return msg;\n}\nelse if (msg.payload === false) {\n    msg.payload = \"Açýk\"\n    return msg;\n}","outputs":1,"noerr":0,"x":1210,"y":180,"wires":[["e11fa8ef.c4e448"]]},{"id":"1070447b.71f4dc","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"","group":"374ecd64.9e1ff2","order":1,"width":"5","height":"7","gtype":"gage","title":"Sürücü","label":"Hz","format":"{{value}}","min":0,"max":"50","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":340,"y":900,"wires":[]},{"id":"f0f9a457.d99b18","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"rly","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":510,"y":920,"wires":[["414d4944.4864d8"]]},{"id":"414d4944.4864d8","type":"switch","z":"c8db3a2c.35ba68","name":"","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":610,"y":860,"wires":[["ab6d3a88.6570b8"]]},{"id":"b8fcb812.d71ed8","type":"function","z":"c8db3a2c.35ba68","name":"100<T1    -   T1<65","func":"var data = global.get(\"temp\")\nif (data>100 || data<65) {\n    global.set(\"driver\",0)\n    msg.payload = true\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1180,"y":680,"wires":[["3a14e788.10bf58"]]},{"id":"3a14e788.10bf58","type":"link out","z":"c8db3a2c.35ba68","name":"","links":["911cde28.5864b"],"x":1315,"y":680,"wires":[]},{"id":"911cde28.5864b","type":"link in","z":"c8db3a2c.35ba68","name":"","links":["3a14e788.10bf58"],"x":555,"y":660,"wires":[["652ff0d6.0a883"]]},{"id":"275a5d19.7d07d2","type":"switch","z":"c8db3a2c.35ba68","name":"","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":250,"y":180,"wires":[["3bbf671c.b7bea8","2e28af5b.b5371"]]},{"id":"3bbf671c.b7bea8","type":"delay","z":"c8db3a2c.35ba68","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":340,"y":140,"wires":[["8fdb011f.ef29b"]]},{"id":"bdad0942.d2cd68","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"30","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":150,"y":640,"wires":[["ac45108d.04b5d"]]},{"id":"57b011a3.ecc9a","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"15","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":150,"y":680,"wires":[["ac45108d.04b5d"]]},{"id":"ac45108d.04b5d","type":"function","z":"c8db3a2c.35ba68","name":" pressure set","func":"global.set(\"pressure\",msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":660,"wires":[[]]},{"id":"9256e0d3.b4e17","type":"function","z":"c8db3a2c.35ba68","name":"","func":"var data = global.get(\"pressure\")\nif (data == 30) {\n    msg.payload = true\n    return msg;\n}\n\n","outputs":1,"noerr":0,"x":430,"y":700,"wires":[["d2846317.d2211"]]},{"id":"75444e97.39ff7","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":740,"wires":[["9256e0d3.b4e17"]]},{"id":"38f0ddc0.8b0ff2","type":"function","z":"c8db3a2c.35ba68","name":"Modbus Giriþi","func":"var data = msg.payload[0] ;\nmsg.payload = data /10 ;\nreturn msg;","outputs":1,"noerr":0,"x":440,"y":360,"wires":[["69af0e93.94f1e"]]},{"id":"3749bad4.76a1c6","type":"function","z":"c8db3a2c.35ba68","name":"","func":"msg.reset = true\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":540,"wires":[["3678de02.eaa4c2","b1a77253.c1758","39fdbfe9.10a4a","3bbf671c.b7bea8"]]},{"id":"1d17fc7c.299824","type":"debug","z":"c8db3a2c.35ba68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1390,"y":340,"wires":[]},{"id":"99053d28.46905","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":170,"y":1060,"wires":[["f0696ae9.0769c8"]]},{"id":"f0696ae9.0769c8","type":"function","z":"c8db3a2c.35ba68","name":"Global relay","func":"global.set(\"R1\", true);\nglobal.set(\"R4\", true);\n","outputs":1,"noerr":0,"x":350,"y":1060,"wires":[[]]},{"id":"6db1bc0a.4e0cd4","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"R4","payloadType":"global","repeat":"1","crontab":"","once":true,"onceDelay":0.1,"x":1050,"y":100,"wires":[["21c0dbeb.656c34","e65da784.bcfd88"]]},{"id":"f01f1cdb.9eea7","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"R1","payloadType":"global","repeat":"1","crontab":"","once":true,"onceDelay":0.1,"x":1050,"y":200,"wires":[["73631cb7.3d0104","cb6cc7c7.4e8e38"]]},{"id":"a4941872.d15878","type":"debug","z":"c8db3a2c.35ba68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":940,"y":1080,"wires":[]},{"id":"5b716e20.99104","type":"function","z":"c8db3a2c.35ba68","name":"","func":"global.set(\"R1\",false)\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":140,"wires":[[]]},{"id":"2e28af5b.b5371","type":"debug","z":"c8db3a2c.35ba68","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":560,"y":180,"wires":[]},{"id":"bf25c776.f51188","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":570,"y":1020,"wires":[["21a3cd62.3c37f2"]]},{"id":"21a3cd62.3c37f2","type":"function","z":"c8db3a2c.35ba68","name":"","func":"global.set(\"temp\", 0);\nglobal.set(\"pressure\",0);\nreturn msg;","outputs":1,"noerr":0,"x":740,"y":960,"wires":[[]]},{"id":"54ac5d94.ff8534","type":"switch","z":"c8db3a2c.35ba68","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":390,"y":1300,"wires":[["f71acd04.33b3f","c613bacb.84e3b8","5de9a6a.aa0b858","8247cd61.8b2da"]]},{"id":"f71acd04.33b3f","type":"function","z":"c8db3a2c.35ba68","name":"65<T1<79","func":"var data = global.get(\"temp\")\nif (data>65 && data<79) {\n    msg.payload = 15\n    global.set(\"driver\",msg.payload)\n    return msg;\n}\n","outputs":1,"noerr":0,"x":590,"y":1240,"wires":[["98fe8246.1041b"]]},{"id":"c613bacb.84e3b8","type":"function","z":"c8db3a2c.35ba68","name":"79<T1<91","func":"var data = global.get(\"temp\")\nif (data>79 && data<91) {\n    msg.payload = 17\n    global.set(\"driver\",msg.payload)\n    return msg;\n}\n","outputs":1,"noerr":0,"x":590,"y":1280,"wires":[["98fe8246.1041b"]]},{"id":"5de9a6a.aa0b858","type":"function","z":"c8db3a2c.35ba68","name":"91<T1<100","func":"var data = global.get(\"temp\")\nif (data>91 && data<100) {\n    msg.payload = 20\n    global.set(\"driver\",msg.payload)\n    return msg;\n}\n","outputs":1,"noerr":0,"x":590,"y":1320,"wires":[["98fe8246.1041b"]]},{"id":"36bacdeb.b85e82","type":"comment","z":"c8db3a2c.35ba68","name":"Üretim","info":"","x":190,"y":1180,"wires":[]},{"id":"b4952110.2e494","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"flow","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":210,"y":1300,"wires":[["54ac5d94.ff8534"]]},{"id":"98fe8246.1041b","type":"debug","z":"c8db3a2c.35ba68","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":830,"y":1260,"wires":[]},{"id":"8247cd61.8b2da","type":"function","z":"c8db3a2c.35ba68","name":"100<T1    -   T1<65","func":"var data = global.get(\"temp\")\nvar pres    =   global.get(\"pressure\")\nvar button  =   global.get(\"button\")\nif (data>100 || data<65 || pres > 29 || button === false ) {\n    global.set(\"check\", false)\n    global.set(\"driver\",0)\n    //global.set(\"rly\",true)\n    global.set(\"flow\",false)\n    msg.payload = true\n    return msg;\n}\n","outputs":1,"noerr":0,"x":600,"y":1360,"wires":[["5ed316c7.974a38"]]},{"id":"9cfbe778.b81e68","type":"function","z":"c8db3a2c.35ba68","name":"","func":"var data = msg.payload.value\nmsg.payload = data\nreturn msg;","outputs":1,"noerr":0,"x":710,"y":1980,"wires":[[]]},{"id":"f7bf4d93.ac45c","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":850,"y":1300,"wires":[["53e8e472.050d1c"]]},{"id":"53e8e472.050d1c","type":"function","z":"c8db3a2c.35ba68","name":"","func":"\nlet obj = {};\n\n    \n    obj[\"rly\"] = global.get( \"rly\" )\n    obj[\"flow\"] = global.get( \"flow\" )\n    obj[\"temp\"] = global.get( \"temp\" )\n    obj[\"driver\"] = global.get( \"driver\" )\n    obj[\"refresh\"] = global.get( \"refresh\" )\n    obj[\"start\"] = global.get( \"start\" )\n    obj[\"modbus1\"] = global.get( \"modbus1\" )\n    obj[\"modbus2\"] = global.get( \"modbus2\" )\n\nmsg.payload = obj;\n\nreturn msg;","outputs":1,"noerr":0,"x":1030,"y":1300,"wires":[["754469a2.b1e088"]]},{"id":"754469a2.b1e088","type":"debug","z":"c8db3a2c.35ba68","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":1210,"y":1300,"wires":[]},{"id":"e1b73faa.4c69c","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"check","payloadType":"global","repeat":"4","crontab":"","once":false,"onceDelay":0.1,"x":160,"y":1440,"wires":[["c9a0e412.aba108"]]},{"id":"212d1b03.db23c4","type":"function","z":"c8db3a2c.35ba68","name":"","func":"var data = msg.payload\nif (data === true) {\n    msg.payload = global.get(\"driver\")\n    return msg;\n}\n","outputs":1,"noerr":0,"x":430,"y":1440,"wires":[["df080d31.b2952"]]},{"id":"c9a0e412.aba108","type":"switch","z":"c8db3a2c.35ba68","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":310,"y":1440,"wires":[["212d1b03.db23c4"]]},{"id":"891a035.4404b","type":"debug","z":"c8db3a2c.35ba68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":670,"y":1400,"wires":[]},{"id":"43747006.905f4","type":"debug","z":"c8db3a2c.35ba68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":1130,"y":1340,"wires":[]},{"id":"c0aa5f7b.e96ce","type":"function","z":"c8db3a2c.35ba68","name":"set check true","func":"global.set(\"check\", true)\nreturn msg;","outputs":1,"noerr":0,"x":720,"y":1920,"wires":[[]]},{"id":"a6b290b0.80a2f","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":890,"y":1800,"wires":[["6372b40b.711f0c"]]},{"id":"6372b40b.711f0c","type":"function","z":"c8db3a2c.35ba68","name":"","func":"global.set(\"value\", undefined)\nglobal.set(\"address\", 0)\nglobal.set(\"fc\", 6)\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":1800,"wires":[[]]},{"id":"f649a267.1d7ea","type":"function","z":"c8db3a2c.35ba68","name":"Set modbus1","func":"global.set(\"modbus1\", msg.payload)\n","outputs":1,"noerr":0,"x":630,"y":1640,"wires":[[]]},{"id":"df080d31.b2952","type":"range","z":"c8db3a2c.35ba68","minin":"0","maxin":"50","minout":"0","maxout":"1000","action":"scale","round":false,"property":"payload","name":"","x":560,"y":1440,"wires":[["f649a267.1d7ea","891a035.4404b","9cd137c8.266948"]]},{"id":"d5bda28e.ef256","type":"function","z":"c8db3a2c.35ba68","name":"Modbus False","func":"var driver =  msg.payload;\nvar modbus1 = global.get(\"modbus1\")\nvar modbus2 = global.get(\"modbus2\")\n\nif ( modbus1 == modbus2 )  {\n    msg.payload = false\n    global.set(\"check\", true)\n    return msg;\n}","outputs":1,"noerr":0,"x":680,"y":1760,"wires":[[]]},{"id":"b2cb4f7b.1b341","type":"range","z":"c8db3a2c.35ba68","minin":"0","maxin":"50","minout":"0","maxout":"1000","action":"scale","round":false,"property":"payload","name":"","x":720,"y":1860,"wires":[["e008e111.c7163"]]},{"id":"e008e111.c7163","type":"function","z":"c8db3a2c.35ba68","name":"set modbus3","func":"global.set(\"modbus3\",msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":1800,"wires":[[]]},{"id":"95e74a70.02fb28","type":"function","z":"c8db3a2c.35ba68","name":"","func":"global.set(\"value\",msg.payload.value)\nvar data = msg.payload.value\nvar modbus = global.get(\"modbus1\")\nvar button = global.get(\"button\")\nif (data == modbus && data === 0 ) {\n    //global.set(\"rly\",true)\n    global.set(\"check\",false)\n    msg.payload = false\n    return msg;\n}\nelse if (data == modbus ) {\n    global.set(\"mq\",true)\n    msg.payload = true\n    return msg;\n}\n","outputs":1,"noerr":0,"x":950,"y":1520,"wires":[["5b752d1e.3c17f4","545c3d53.1f4214","cb04d58c.fc3298","79d913a.a25d8ec"]]},{"id":"9cd137c8.266948","type":"modbus-write","z":"c8db3a2c.35ba68","name":"","showStatusActivities":false,"showErrors":false,"unitid":"4","dataType":"HoldingRegister","adr":"3","quantity":"1","server":"4ba5fe40.24c05","x":760,"y":1440,"wires":[["43747006.905f4","1f7f543e.0c433c","95e74a70.02fb28","832fc077.15921"],[]]},{"id":"496fb681.6a2f68","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":470,"y":1480,"wires":[["9cd137c8.266948"]]},{"id":"5b752d1e.3c17f4","type":"switch","z":"c8db3a2c.35ba68","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1270,"y":1460,"wires":[["d70c5f8a.568db"]]},{"id":"d70c5f8a.568db","type":"delay","z":"c8db3a2c.35ba68","name":"","pauseType":"delay","timeout":"30","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1440,"y":1520,"wires":[["6911fa2e.df4474"]]},{"id":"2a69d34c.f765cc","type":"function","z":"c8db3a2c.35ba68","name":"","func":"global.set(\"R4\",true)\nmsg.payload = global.get (\"R4\")\n//global.set(\"refresh\", true)\n//global.set(\"start\", true)\n\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":1600,"wires":[[]]},{"id":"545c3d53.1f4214","type":"debug","z":"c8db3a2c.35ba68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1070,"y":1580,"wires":[]},{"id":"6911fa2e.df4474","type":"delay","z":"c8db3a2c.35ba68","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"31","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1280,"y":1620,"wires":[["2a69d34c.f765cc"]]},{"id":"6476b2b3.12602c","type":"function","z":"c8db3a2c.35ba68","name":"","func":"msg.reset = true\nreturn msg;","outputs":1,"noerr":0,"x":1250,"y":1520,"wires":[["d70c5f8a.568db","6911fa2e.df4474"]]},{"id":"cb04d58c.fc3298","type":"switch","z":"c8db3a2c.35ba68","name":"false","property":"payload","propertyType":"msg","rules":[{"t":"false"}],"checkall":"true","repair":false,"outputs":1,"x":1130,"y":1520,"wires":[["6476b2b3.12602c"]]},{"id":"6448b797.10c588","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":890,"y":1720,"wires":[["ff0196a0.9c4468"]]},{"id":"ff0196a0.9c4468","type":"function","z":"c8db3a2c.35ba68","name":"Global set \"0\"","func":"global.set(\"driver\", 0);\nglobal.set(\"modbus\",0);\nglobal.set(\"modbus1\",0);\nglobal.set(\"modbus2\",0);\nglobal.set(\"modbus3\",0);\nglobal.set(\"rly\",false);\nglobal.set(\"flow\",false);\nglobal.set(\"check\",false);\nglobal.set(\"refresh\",false);\nglobal.set(\"start\",true)\nreturn msg;","outputs":1,"noerr":0,"x":1080,"y":1720,"wires":[[]]},{"id":"79d913a.a25d8ec","type":"switch","z":"c8db3a2c.35ba68","name":"false","property":"payload","propertyType":"msg","rules":[{"t":"false"}],"checkall":"true","repair":false,"outputs":1,"x":910,"y":1660,"wires":[["ff0196a0.9c4468","6372b40b.711f0c"]]},{"id":"95fca2db.2bb57","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":890,"y":1760,"wires":[["5dd737a0.0ec398"]]},{"id":"5dd737a0.0ec398","type":"function","z":"c8db3a2c.35ba68","name":"Global relay","func":"global.set(\"R1\", true);\nglobal.set(\"R4\", true);\n","outputs":1,"noerr":0,"x":1070,"y":1760,"wires":[[]]},{"id":"7c1b6133.ba25e","type":"comment","z":"c8db3a2c.35ba68","name":"button","info":"","x":210,"y":2020,"wires":[]},{"id":"ce5fee89.bc3bc","type":"ui_button","z":"c8db3a2c.35ba68","name":"","group":"40f4f3f.3f2670c","order":4,"width":"11","height":"4","passthru":false,"label":"Auto - OFF","color":"","bgcolor":"","icon":"","payload":"false","payloadType":"bool","topic":"","x":830,"y":2100,"wires":[["f725fbab.70f6a8","24a44f2d.fc739","ebd9f6bf.21d148"]]},{"id":"d84eecd4.3c26","type":"function","z":"c8db3a2c.35ba68","name":"Enable / Disable","func":"if( msg.payload == \"on\") {\n    msg.enabled = true;\n} else {\n    msg.enabled = false;\n}\nreturn msg;","outputs":1,"noerr":0,"x":660,"y":2100,"wires":[["ce5fee89.bc3bc"]]},{"id":"da9dbb99.3ec838","type":"ui_button","z":"c8db3a2c.35ba68","name":"","group":"40f4f3f.3f2670c","order":3,"width":"11","height":"4","passthru":false,"label":"Auto - ON","color":"","bgcolor":"","icon":"","payload":"true","payloadType":"bool","topic":"","x":820,"y":2140,"wires":[["e4d4ed03.7786c"]]},{"id":"b0ceed64.8aa7f","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":470,"y":2060,"wires":[["925f09f0.867508"]]},{"id":"925f09f0.867508","type":"function","z":"c8db3a2c.35ba68","name":"Creating Button Status","func":"var buttonStatus = {\n    \n    \"r1\" : \"off\",\n}\n\nglobal.set(\"buttonStatus\", buttonStatus);\nreturn msg;","outputs":1,"noerr":0,"x":680,"y":2060,"wires":[[]]},{"id":"f725fbab.70f6a8","type":"function","z":"c8db3a2c.35ba68","name":"Button Status Set","func":"var buttonStatus = global.get(\"buttonStatus\");\n\nbuttonStatus.r1 = \"off\";\n\nglobal.set(\"buttonStatus\", buttonStatus)\n\nreturn msg;","outputs":1,"noerr":0,"x":1030,"y":2100,"wires":[[]]},{"id":"e4d4ed03.7786c","type":"function","z":"c8db3a2c.35ba68","name":"Button Status Set","func":"var buttonStatus = global.get(\"buttonStatus\");\n\nbuttonStatus.r1 = \"on\";\n\nglobal.set(\"buttonStatus\", buttonStatus)\n\nreturn msg;","outputs":1,"noerr":0,"x":1030,"y":2140,"wires":[[]]},{"id":"830b3b22.713d58","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"buttonStatus.r1","payloadType":"global","repeat":"0.2","crontab":"","once":false,"onceDelay":0.1,"x":430,"y":2100,"wires":[["d84eecd4.3c26"]]},{"id":"5876707f.fab4b","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"buttonStatus.r1","payloadType":"global","repeat":"0.2","crontab":"","once":false,"onceDelay":0.1,"x":430,"y":2140,"wires":[["8ff4a4a9.831008"]]},{"id":"8ff4a4a9.831008","type":"function","z":"c8db3a2c.35ba68","name":"Enable / Disable","func":"if( msg.payload == \"off\") {\n    msg.enabled = true;\n} else {\n    msg.enabled = false;\n}\nreturn msg;","outputs":1,"noerr":0,"x":660,"y":2140,"wires":[["da9dbb99.3ec838"]]},{"id":"7dc9b155.18531","type":"debug","z":"c8db3a2c.35ba68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":970,"y":2220,"wires":[]},{"id":"ed2e9fa.d03716","type":"function","z":"c8db3a2c.35ba68","name":"global button","func":"var data    =   global.get(\"buttonStatus.r1\")\nif (data === 'off') {\n    global.set(\"button\",false)\n    return msg;\n}\nelse if (data === 'on') {\n    global.set(\"button\",true)\n    return msg;\n}","outputs":1,"noerr":0,"x":650,"y":2220,"wires":[[]]},{"id":"9f0da357.8f928","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":430,"y":2220,"wires":[["ed2e9fa.d03716"]]},{"id":"24a44f2d.fc739","type":"switch","z":"c8db3a2c.35ba68","name":"false","property":"payload","propertyType":"msg","rules":[{"t":"false"}],"checkall":"true","repair":false,"outputs":1,"x":370,"y":560,"wires":[["3749bad4.76a1c6"]]},{"id":"425266f.e8fc598","type":"delay","z":"c8db3a2c.35ba68","name":"","pauseType":"delay","timeout":"35","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1060,"y":1140,"wires":[["25707d7f.c8a852"]]},{"id":"5ed316c7.974a38","type":"switch","z":"c8db3a2c.35ba68","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":750,"y":1360,"wires":[["5dd737a0.0ec398","425266f.e8fc598"]]},{"id":"25707d7f.c8a852","type":"function","z":"c8db3a2c.35ba68","name":"","func":"global.set(\"check\", true)\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":1140,"wires":[[]]},{"id":"ebd9f6bf.21d148","type":"function","z":"c8db3a2c.35ba68","name":"","func":"var data    =   msg.payload;\nif (data === false) {\n    msg.payload = true\n    return msg;\n}","outputs":1,"noerr":0,"x":1000,"y":1980,"wires":[["8247cd61.8b2da","7dc9b155.18531"]]},{"id":"318e016b.5afc9e","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":1380,"wires":[["8247cd61.8b2da"]]},{"id":"b395b7.7e779a48","type":"inject","z":"c8db3a2c.35ba68","name":"OFF","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":870,"y":240,"wires":[["831ebfb8.0bb51"]]},{"id":"34e7acb1.de8d74","type":"inject","z":"c8db3a2c.35ba68","name":"ON","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":870,"y":280,"wires":[["75840418.b3580c"]]},{"id":"75840418.b3580c","type":"function","z":"c8db3a2c.35ba68","name":"","func":"global.set(\"R1\",false) ;\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":280,"wires":[[]]},{"id":"831ebfb8.0bb51","type":"function","z":"c8db3a2c.35ba68","name":"","func":"global.set(\"R1\",true) ;\nreturn msg;","outputs":1,"noerr":0,"x":1040,"y":240,"wires":[[]]},{"id":"53b88e56.2f3d4","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"","group":"fb3b7fc9.96651","order":3,"width":"4","height":"6","gtype":"gage","title":"T","label":"A","format":"{{payload.repg_c3}}","min":0,"max":"10","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2520,"wires":[]},{"id":"a55b9100.d250e","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"","group":"21ac6e31.b69fc2","order":0,"width":"11","height":"5","gtype":"gage","title":"Güç LT","label":"VA","format":"{{payload.repg_t_p}}","min":0,"max":"15000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":800,"y":2700,"wires":[]},{"id":"2b5279bc.36e8e6","type":"ui_button","z":"c8db3a2c.35ba68","name":"","group":"a7bb66a4.b67018","order":1,"width":"11","height":"3","passthru":false,"label":"R1-ON","color":"","bgcolor":"","icon":"","payload":"false","payloadType":"bool","topic":"","x":770,"y":3340,"wires":[["6412061f.4520b8","c416583.16aeda8"]]},{"id":"a96b864f.1ae868","type":"function","z":"c8db3a2c.35ba68","name":"Enable / Disable","func":"if( msg.payload == \"on\") {\n    msg.enabled = false;\n} else {\n    msg.enabled = true;\n}\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":3340,"wires":[["2b5279bc.36e8e6"]]},{"id":"c5e98a8f.da7f08","type":"rpi-gpio out","z":"c8db3a2c.35ba68","name":"Relay-2","pin":"11","set":"","level":"0","freq":"","out":"out","x":1130,"y":3420,"wires":[]},{"id":"67313a17.fed004","type":"rpi-gpio out","z":"c8db3a2c.35ba68","name":"Relay-3","pin":"13","set":"","level":"0","freq":"","out":"out","x":1130,"y":3520,"wires":[]},{"id":"2f3a891c.959756","type":"ui_button","z":"c8db3a2c.35ba68","name":"","group":"a7bb66a4.b67018","order":2,"width":"11","height":"3","passthru":false,"label":"R1-OFF","color":"","bgcolor":"","icon":"","payload":"true","payloadType":"bool","topic":"","x":780,"y":3380,"wires":[["de90be3a.86ab1","3826aca8.a20264"]]},{"id":"2477eed9.d47bc2","type":"ui_button","z":"c8db3a2c.35ba68","name":"","group":"3a3790c.64c1f7","order":1,"width":"11","height":"3","passthru":false,"label":"R2-ON","color":"","bgcolor":"","icon":"","payload":"false","payloadType":"bool","topic":"","x":770,"y":3440,"wires":[["61938e31.8391a","c5e98a8f.da7f08"]]},{"id":"d4e7d5bf.8087c8","type":"ui_button","z":"c8db3a2c.35ba68","name":"","group":"3a3790c.64c1f7","order":2,"width":"11","height":"3","passthru":false,"label":"R2-OFF","color":"","bgcolor":"","icon":"","payload":"true","payloadType":"bool","topic":"","x":780,"y":3480,"wires":[["e1deae2f.3aece","c5e98a8f.da7f08"]]},{"id":"744e310a.4895f","type":"ui_button","z":"c8db3a2c.35ba68","name":"","group":"27a56d08.529bd2","order":1,"width":"11","height":"3","passthru":false,"label":"R3-ON","color":"","bgcolor":"","icon":"","payload":"false","payloadType":"bool","topic":"","x":770,"y":3540,"wires":[["ef00c2de.ac44f","67313a17.fed004"]]},{"id":"cbcb08d6.f9ad48","type":"ui_button","z":"c8db3a2c.35ba68","name":"","group":"27a56d08.529bd2","order":2,"width":"11","height":"3","passthru":false,"label":"R3-OFF","color":"","bgcolor":"","icon":"","payload":"true","payloadType":"bool","topic":"","x":780,"y":3580,"wires":[["d606ddb1.db654","67313a17.fed004"]]},{"id":"df0a02c1.3fbfd","type":"ui_button","z":"c8db3a2c.35ba68","name":"","group":"2491b802.0aea48","order":1,"width":"11","height":"3","passthru":false,"label":"R4-ON","color":"","bgcolor":"","icon":"","payload":"false","payloadType":"bool","topic":"","x":770,"y":3640,"wires":[["5e357acf.08bca4","678ae84d.408928"]]},{"id":"685f88f9.d4b1e8","type":"ui_button","z":"c8db3a2c.35ba68","name":"","group":"2491b802.0aea48","order":2,"width":"11","height":"3","passthru":false,"label":"R4-OFF","color":"","bgcolor":"","icon":"","payload":"true","payloadType":"bool","topic":"","x":780,"y":3680,"wires":[["28e8df42.8d8f8","aada935e.f0b51"]]},{"id":"ccf6eef7.7988","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":440,"y":3280,"wires":[["a7b04406.8b3088"]]},{"id":"a7b04406.8b3088","type":"function","z":"c8db3a2c.35ba68","name":"Creating Button Status","func":"var buttonStatuses = {\n    \n    \"r1\" : \"off\",\n    \"r2\" : \"off\",\n    \"r3\" : \"off\",\n    \"r4\" : \"off\",\n    \"r5\" : \"off\",\n    \"r6\" : \"off\",\n    \"r7\" : \"off\",\n    \"r8\" : \"off\"\n}\n\nglobal.set(\"buttonStatuses\", buttonStatuses);\nreturn msg;","outputs":1,"noerr":0,"x":660,"y":3280,"wires":[[]]},{"id":"6412061f.4520b8","type":"function","z":"c8db3a2c.35ba68","name":"Relay Status Set","func":"var buttonStatuses = global.get(\"buttonStatuses\");\n\nbuttonStatuses.r1 = \"on\";\n\nglobal.set(\"buttonStatuses\", buttonStatuses)\n\nreturn msg;","outputs":1,"noerr":0,"x":1360,"y":3340,"wires":[[]]},{"id":"de90be3a.86ab1","type":"function","z":"c8db3a2c.35ba68","name":"Relay Status Set","func":"var buttonStatuses = global.get(\"buttonStatuses\");\n\nbuttonStatuses.r1 = \"off\";\n\nglobal.set(\"buttonStatuses\", buttonStatuses)\n\nreturn msg;","outputs":1,"noerr":0,"x":1360,"y":3380,"wires":[[]]},{"id":"f4b2e29c.6b5cb","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"buttonStatuses.r1","payloadType":"global","repeat":"0.2","crontab":"","once":false,"onceDelay":0.1,"x":330,"y":3340,"wires":[["a96b864f.1ae868"]]},{"id":"95036d7e.ad467","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"buttonStatuses.r1","payloadType":"global","repeat":"0.2","crontab":"","once":false,"onceDelay":0.1,"x":330,"y":3380,"wires":[["5333b665.b0df38"]]},{"id":"5333b665.b0df38","type":"function","z":"c8db3a2c.35ba68","name":"Enable / Disable","func":"if( msg.payload == \"off\") {\n    msg.enabled = false;\n} else {\n    msg.enabled = true;\n}\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":3380,"wires":[["2f3a891c.959756"]]},{"id":"962726a0.991638","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"buttonStatuses.r2","payloadType":"global","repeat":"0.2","crontab":"","once":false,"onceDelay":0.1,"x":330,"y":3440,"wires":[["cb989097.0703"]]},{"id":"27a1dbc6.42b174","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"buttonStatuses.r2","payloadType":"global","repeat":"0.2","crontab":"","once":false,"onceDelay":0.1,"x":330,"y":3480,"wires":[["dbd3f595.c1a188"]]},{"id":"a9f20231.3f5d3","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"buttonStatuses.r3","payloadType":"global","repeat":"0.2","crontab":"","once":false,"onceDelay":0.1,"x":330,"y":3540,"wires":[["463b20ad.9a605"]]},{"id":"80a2d0d.ab5dc3","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"buttonStatuses.r3","payloadType":"global","repeat":"0.2","crontab":"","once":false,"onceDelay":0.1,"x":330,"y":3580,"wires":[["50693f9b.b2df4"]]},{"id":"ee221e9f.c6a09","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"buttonStatuses.r4","payloadType":"global","repeat":"0.2","crontab":"","once":false,"onceDelay":0.1,"x":330,"y":3640,"wires":[["494098be.dbd8c8"]]},{"id":"97c33ee4.3f397","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"buttonStatuses.r4","payloadType":"global","repeat":"0.2","crontab":"","once":false,"onceDelay":0.1,"x":330,"y":3680,"wires":[["4edb78b0.96ca98"]]},{"id":"61938e31.8391a","type":"function","z":"c8db3a2c.35ba68","name":"Relay Status Set","func":"var buttonStatuses = global.get(\"buttonStatuses\");\n\nbuttonStatuses.r2 = \"on\";\n\nglobal.set(\"buttonStatuses\", buttonStatuses)\n\nreturn msg;","outputs":1,"noerr":0,"x":1360,"y":3440,"wires":[[]]},{"id":"e1deae2f.3aece","type":"function","z":"c8db3a2c.35ba68","name":"Relay Status Set","func":"var buttonStatuses = global.get(\"buttonStatuses\");\n\nbuttonStatuses.r2 = \"off\";\n\nglobal.set(\"buttonStatuses\", buttonStatuses)\n\nreturn msg;","outputs":1,"noerr":0,"x":1360,"y":3480,"wires":[[]]},{"id":"ef00c2de.ac44f","type":"function","z":"c8db3a2c.35ba68","name":"Relay Status Set","func":"var buttonStatuses = global.get(\"buttonStatuses\");\n\nbuttonStatuses.r3 = \"on\";\n\nglobal.set(\"buttonStatuses\", buttonStatuses)\n\nreturn msg;","outputs":1,"noerr":0,"x":1360,"y":3540,"wires":[[]]},{"id":"d606ddb1.db654","type":"function","z":"c8db3a2c.35ba68","name":"Relay Status Set","func":"var buttonStatuses = global.get(\"buttonStatuses\");\n\nbuttonStatuses.r3 = \"off\";\n\nglobal.set(\"buttonStatuses\", buttonStatuses)\n\nreturn msg;","outputs":1,"noerr":0,"x":1360,"y":3580,"wires":[[]]},{"id":"5e357acf.08bca4","type":"function","z":"c8db3a2c.35ba68","name":"Relay Status Set","func":"var buttonStatuses = global.get(\"buttonStatuses\");\n\nbuttonStatuses.r4 = \"on\";\n\nglobal.set(\"buttonStatuses\", buttonStatuses)\n\nreturn msg;","outputs":1,"noerr":0,"x":1360,"y":3640,"wires":[[]]},{"id":"28e8df42.8d8f8","type":"function","z":"c8db3a2c.35ba68","name":"Relay Status Set","func":"var buttonStatuses = global.get(\"buttonStatuses\");\n\nbuttonStatuses.r4 = \"off\";\n\nglobal.set(\"buttonStatuses\", buttonStatuses)\n\nreturn msg;","outputs":1,"noerr":0,"x":1360,"y":3680,"wires":[[]]},{"id":"cb989097.0703","type":"function","z":"c8db3a2c.35ba68","name":"Enable / Disable","func":"if( msg.payload == \"on\") {\n    msg.enabled = false;\n} else {\n    msg.enabled = true;\n}\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":3440,"wires":[["2477eed9.d47bc2"]]},{"id":"dbd3f595.c1a188","type":"function","z":"c8db3a2c.35ba68","name":"Enable / Disable","func":"if( msg.payload == \"off\") {\n    msg.enabled = false;\n} else {\n    msg.enabled = true;\n}\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":3480,"wires":[["d4e7d5bf.8087c8"]]},{"id":"463b20ad.9a605","type":"function","z":"c8db3a2c.35ba68","name":"Enable / Disable","func":"if( msg.payload == \"on\") {\n    msg.enabled = false;\n} else {\n    msg.enabled = true;\n}\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":3540,"wires":[["744e310a.4895f"]]},{"id":"50693f9b.b2df4","type":"function","z":"c8db3a2c.35ba68","name":"Enable / Disable","func":"if( msg.payload == \"off\") {\n    msg.enabled = false;\n} else {\n    msg.enabled = true;\n}\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":3580,"wires":[["cbcb08d6.f9ad48"]]},{"id":"494098be.dbd8c8","type":"function","z":"c8db3a2c.35ba68","name":"Enable / Disable","func":"if( msg.payload == \"on\") {\n    msg.enabled = false;\n} else {\n    msg.enabled = true;\n}\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":3640,"wires":[["df0a02c1.3fbfd"]]},{"id":"4edb78b0.96ca98","type":"function","z":"c8db3a2c.35ba68","name":"Enable / Disable","func":"if( msg.payload == \"off\") {\n    msg.enabled = false;\n} else {\n    msg.enabled = true;\n}\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":3680,"wires":[["685f88f9.d4b1e8"]]},{"id":"461ee083.c3e7b","type":"function","z":"c8db3a2c.35ba68","name":"","func":"let array = msg.payload\n\n\nlet array1 = [];\nlet start = 0;\nlet end = 2;\n\nfor(i = 0; i <= array.length /2 -1; i++){\n    array1.push(array.slice(start, end));\n    start += 2;\n    end  = start + 2;\n}\n\n\nlet array2 = [];\nfor(var item of array1){\n    for(var j of item){\n        array2.push(j.toString(16))\n    }\n}\n\nlet array3 = [];\nstart = 0;\nend = 2;\nfor(i = 0; i <= array.length /2 -1; i++){\n    array3.push(\"0x\"+array2.slice(start, end).join(\"\"));\n    start += 2;\n    end  = start + 2;\n}\n\nvar array4 = []\nfor(var k of array3){\n    var v = new DataView(new ArrayBuffer(4))\n    v.setUint32(0, k)\n    array4.push(String(v.getFloat32(0)).slice(0,5));\n}\n\nlet array5 = array4.map( y => ( isNaN(y) ? null : parseFloat(y)  ) )\n\nmsg = {\n    \"payload\" : array5\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":440,"y":2580,"wires":[["fb8507e6.85b268","8671e2fd.dd9f1","38a0e7ee.c12708"]]},{"id":"fb8507e6.85b268","type":"function","z":"c8db3a2c.35ba68","name":"RePG","func":"var data = global.get('azure_data');\n\n\n\nmsg = {\n    \"payload\" : {\n        \n        \"repg_p1\"   :   parseFloat( ( (data[\"A1_v1\"]    /   1.73) * data[\"A1_c1\"]).toFixed(0) ),\n        \"repg_p2\"   :   parseFloat( ( (data[\"A1_v2\"]    /   1.73) * data[\"A1_c2\"]).toFixed(0) ) ,\n        \"repg_p3\"   :   parseFloat( ( (data[\"A1_v3\"]    /   1.73) * data[\"A1_c3\"]).toFixed(0) ) ,\n        \"repg_t_p\"  :   parseFloat( ( data[\"A1_p1\"] +  data[\"A1_p2\"] + data[\"A1_p3\"] ).toFixed(0) )\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":590,"y":2580,"wires":[["a4aae432.be1058","6207cc7a.edf854","9a8feeb8.aabb8","e7f9bbbd.1f1e98","a55b9100.d250e"]]},{"id":"a4aae432.be1058","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"","group":"3b621871.7237a8","order":0,"width":"4","height":"5","gtype":"gage","title":"R","label":"VA","format":"{{payload.repg_p1}}","min":0,"max":"5000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2580,"wires":[]},{"id":"6207cc7a.edf854","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"","group":"3b621871.7237a8","order":0,"width":"3","height":"5","gtype":"gage","title":"S","label":"VA","format":"{{payload.repg_p2}}","min":0,"max":"5000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2620,"wires":[]},{"id":"9a8feeb8.aabb8","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"","group":"3b621871.7237a8","order":0,"width":"4","height":"5","gtype":"gage","title":"T","label":"VA","format":"{{payload.repg_p3}}","min":0,"max":"5000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2660,"wires":[]},{"id":"876aaf00.3e76","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"","group":"fb3b7fc9.96651","order":2,"width":"3","height":"6","gtype":"gage","title":"S","label":"A","format":"{{payload.repg_c2}}","min":0,"max":"10","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2480,"wires":[]},{"id":"d7492b95.8180d8","type":"function","z":"c8db3a2c.35ba68","name":"RePG","func":"\nmsg = {\n    \"payload\" : {\n        //\"repg_v1\"   :   msg.payload[1]  /   10 ,\n        //\"repg_v2\"\t:   msg.payload[3]  /   10 ,\n        //\"repg_v3\"\t:   msg.payload[5]  /   10 ,\n        \"repg_v1_2\"\t:   (msg.payload[9]  /   10).toFixed(0) ,\n        \"repg_v2_3\"\t:   (msg.payload[11] /   10).toFixed(0) ,\n        \"repg_v3_1\"\t:   (msg.payload[13] /   10).toFixed(0) ,\n        \"repg_c1\"\t:   (msg.payload[15] /   1000).toFixed(1) ,\n        \"repg_c2\"\t:   (msg.payload[17] /   1000).toFixed(1) ,\n        \"repg_c3\"\t:   (msg.payload[19] /   1000).toFixed(1)\n        \n        \n    }\n}\n\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":2400,"wires":[["327ecec5.884842","792ff938.b7adf8","ebcb28c.cc84cd8","43cbb669.6dc068","876aaf00.3e76","53b88e56.2f3d4","64a7747a.f3e3ec"]]},{"id":"327ecec5.884842","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"","group":"d20b9e24.d3277","order":0,"width":"4","height":"6","gtype":"gage","title":"R","label":"V","format":"{{payload.repg_v1_2}}","min":0,"max":"400","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2300,"wires":[]},{"id":"792ff938.b7adf8","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"","group":"d20b9e24.d3277","order":0,"width":"3","height":"6","gtype":"gage","title":"S","label":"V","format":"{{payload.repg_v2_3}}","min":0,"max":"400","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2340,"wires":[]},{"id":"ebcb28c.cc84cd8","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"","group":"d20b9e24.d3277","order":0,"width":"4","height":"6","gtype":"gage","title":"T","label":"V","format":"{{payload.repg_v3_1}}","min":0,"max":"400","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2380,"wires":[]},{"id":"43cbb669.6dc068","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"","group":"fb3b7fc9.96651","order":1,"width":"4","height":"6","gtype":"gage","title":"R","label":"A","format":"{{payload.repg_c1}}","min":0,"max":"10","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2440,"wires":[]},{"id":"66b76058.19ccd","type":"debug","z":"c8db3a2c.35ba68","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":370,"y":2820,"wires":[]},{"id":"74ca4aa3.f85224","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"T1","group":"b2625f36.f2f28","order":0,"width":"7","height":"6","gtype":"gage","title":"Sýcak Su Giriþ","label":"°C","format":"{{payload.Temp1}}","min":"-25","max":"250","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2760,"wires":[]},{"id":"a83d9374.d923b","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"T2","group":"a663cb8c.6e1138","order":3,"width":"7","height":"6","gtype":"gage","title":"Sýcak Su Çýkýþ","label":"°C","format":"{{payload.Temp2}}","min":"-25","max":"250","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2800,"wires":[]},{"id":"a3969aff.1ec458","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"T3","group":"e16e13ea.fdace","order":0,"width":"7","height":"6","gtype":"gage","title":"Türbin Giriþ","label":"°C","format":"{{payload.Temp3}}","min":"-25","max":"250","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2840,"wires":[]},{"id":"96591f3c.4dcd7","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"T4","group":"6790b841.d2f678","order":0,"width":"7","height":"6","gtype":"gage","title":"Türbin Çýkýþ","label":"°C","format":"{{payload.Temp4}}","min":"-25","max":"250","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2880,"wires":[]},{"id":"b026030c.23121","type":"function","z":"c8db3a2c.35ba68","name":"Temperature Sensor","func":"\nmsg = {\n    \"payload\" : {\n        \"Temp1\" :   msg.payload[0]  /   10,\n        \"Temp2\"\t:   msg.payload[1]  /   10,\n        \"Temp3\"\t:   msg.payload[2]  /   10,\n        \"Temp4\"\t:   msg.payload[3]  /   10,\n        \"Temp5\"\t:   msg.payload[4]  /   10,\n        \"Temp6\"\t:   msg.payload[5]  /   10\n        \n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":400,"y":2860,"wires":[["74ca4aa3.f85224","a83d9374.d923b","a3969aff.1ec458","96591f3c.4dcd7","500b48ed.988448","c95db053.17b9b","86e95619.6cc708"]]},{"id":"500b48ed.988448","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"T5","group":"bada0278.8efb6","order":0,"width":"7","height":"6","gtype":"gage","title":"Pompa Çýkýþ","label":"°C","format":"{{payload.Temp5}}","min":"-25","max":"250","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2920,"wires":[]},{"id":"c95db053.17b9b","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"T6","group":"605d117a.cf2e8","order":0,"width":"7","height":"6","gtype":"gage","title":"Soðuk Su","label":"°C","format":"{{payload.Temp6}}","min":"-25","max":"250","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2960,"wires":[]},{"id":"536c0795.21fb58","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"P1","group":"9aabb338.bedd1","order":0,"width":"11","height":"6","gtype":"gage","title":"Türbin Çýkýþ","label":"bar","format":"{{payload}}","min":"0","max":"25","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":830,"y":3020,"wires":[]},{"id":"d2773090.bb1d8","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"P2","group":"93cf96df.e8ad68","order":3,"width":"11","height":"6","gtype":"gage","title":"Türbin Giriþ","label":"bar","format":"{{payload}}","min":"0","max":"50","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":830,"y":3060,"wires":[]},{"id":"1987c732.1fd949","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"P3","group":"9435b53b.0ef2d8","order":0,"width":"11","height":"6","gtype":"gage","title":"Tank Ýçi","label":"bar","format":"{{payload}}","min":"0","max":"25","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":830,"y":3100,"wires":[]},{"id":"fc44789.59e7588","type":"ui_gauge","z":"c8db3a2c.35ba68","name":"P4","group":"97b7b321.036e8","order":0,"width":"11","height":"6","gtype":"gage","title":"Rezerve","label":"bar","format":"{{payload}}","min":"0","max":"25","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":830,"y":3140,"wires":[]},{"id":"627cc0e9.1c1a2","type":"function","z":"c8db3a2c.35ba68","name":"Pressure Sensor","func":"\nvar msg = {\n    \"payload\" : {\n        \"P1\"    :   msg.payload[0]  /   100,\n        \"P2\"\t:   msg.payload[1]  /   100,\n        \"P3\"\t:   msg.payload[2]  /   100,\n        \"P4\"\t:   msg.payload[3]  /   100\n        \n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":3020,"wires":[["793b5e29.8ea3b","5ebd5b8.afe3ca4","1da2657f.6a231b","e1ce0ff3.2d982"]]},{"id":"793b5e29.8ea3b","type":"range","z":"c8db3a2c.35ba68","minin":"0","maxin":"10","minout":"0","maxout":"25","action":"scale","round":false,"property":"payload.P1","name":"","x":570,"y":3020,"wires":[["a70a0378.f416"]]},{"id":"a70a0378.f416","type":"function","z":"c8db3a2c.35ba68","name":"","func":"var data = (msg.payload.P1).toFixed(1)\nmsg.payload = Number(data)\nreturn msg;","outputs":1,"noerr":0,"x":690,"y":3020,"wires":[["536c0795.21fb58"]]},{"id":"5ebd5b8.afe3ca4","type":"range","z":"c8db3a2c.35ba68","minin":"0","maxin":"10","minout":"0","maxout":"50","action":"scale","round":false,"property":"payload.P2","name":"","x":570,"y":3060,"wires":[["d045a458.831c08"]]},{"id":"1da2657f.6a231b","type":"range","z":"c8db3a2c.35ba68","minin":"0","maxin":"10","minout":"0","maxout":"25","action":"scale","round":false,"property":"payload.P3","name":"","x":570,"y":3100,"wires":[["6ac852b7.1cfb7c"]]},{"id":"e1ce0ff3.2d982","type":"range","z":"c8db3a2c.35ba68","minin":"0","maxin":"10","minout":"0","maxout":"25","action":"scale","round":false,"property":"payload.P4","name":"","x":570,"y":3140,"wires":[["85091c7f.84667"]]},{"id":"d045a458.831c08","type":"function","z":"c8db3a2c.35ba68","name":"","func":"var data = (msg.payload.P2).toFixed(1)\nmsg.payload = Number(data)\nreturn msg;","outputs":1,"noerr":0,"x":690,"y":3060,"wires":[["d2773090.bb1d8"]]},{"id":"6ac852b7.1cfb7c","type":"function","z":"c8db3a2c.35ba68","name":"","func":"var data = (msg.payload.P3).toFixed(1)\nmsg.payload = Number(data)\nreturn msg;","outputs":1,"noerr":0,"x":690,"y":3100,"wires":[["1987c732.1fd949"]]},{"id":"85091c7f.84667","type":"function","z":"c8db3a2c.35ba68","name":"","func":"var data = (msg.payload.P4).toFixed(1)\nmsg.payload = Number(data)\nreturn msg;","outputs":1,"noerr":0,"x":690,"y":3140,"wires":[["fc44789.59e7588"]]},{"id":"b6c0ceb2.4d2ea","type":"debug","z":"c8db3a2c.35ba68","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":370,"y":3080,"wires":[]},{"id":"ead493b2.4fdcd","type":"modbus-read","z":"c8db3a2c.35ba68","name":"","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"3","dataType":"HoldingRegister","adr":"0","quantity":"6","rate":"3","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"bf3d4979.bf5fb8","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":200,"y":3040,"wires":[["b6c0ceb2.4d2ea","627cc0e9.1c1a2","9783e541.d80c38"],[]]},{"id":"6fca4268.4c985c","type":"modbus-read","z":"c8db3a2c.35ba68","name":"PT-100","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"2","dataType":"HoldingRegister","adr":"0","quantity":"6","rate":"3","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"bf3d4979.bf5fb8","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":190,"y":2860,"wires":[["66b76058.19ccd","b026030c.23121","629460f9.b54a9"],[]]},{"id":"d4f1e2a4.09f1e","type":"modbus-read","z":"c8db3a2c.35ba68","name":"Entes","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"1","dataType":"HoldingRegister","adr":"0","quantity":"30","rate":"4","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"bf3d4979.bf5fb8","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":240,"y":2400,"wires":[["d7492b95.8180d8","ee9307a7.a22f58"],[]]},{"id":"e9aa9aa5.3924f8","type":"modbus-read","z":"c8db3a2c.35ba68","name":"Entes","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"1","dataType":"HoldingRegister","adr":"26","quantity":"37","rate":"7","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"bf3d4979.bf5fb8","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":250,"y":2580,"wires":[["461ee083.c3e7b"],[]]},{"id":"ee9307a7.a22f58","type":"debug","z":"c8db3a2c.35ba68","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":390,"y":2500,"wires":[]},{"id":"eb0451d8.909aa","type":"debug","z":"c8db3a2c.35ba68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":390,"y":2720,"wires":[]},{"id":"aada935e.f0b51","type":"function","z":"c8db3a2c.35ba68","name":"","func":"global.set(\"R4\",true) ;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":3740,"wires":[[]]},{"id":"678ae84d.408928","type":"function","z":"c8db3a2c.35ba68","name":"","func":"global.set(\"R4\",false) ;\nreturn msg;","outputs":1,"noerr":0,"x":1160,"y":3780,"wires":[[]]},{"id":"c416583.16aeda8","type":"function","z":"c8db3a2c.35ba68","name":"","func":"global.set(\"R1\",false) ;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":3260,"wires":[[]]},{"id":"3826aca8.a20264","type":"function","z":"c8db3a2c.35ba68","name":"","func":"global.set(\"R1\",true) ;\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":3220,"wires":[[]]},{"id":"26392c25.97c544","type":"function","z":"c8db3a2c.35ba68","name":"temp set","func":"global.set(\"temp\",msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":2920,"wires":[[]]},{"id":"629460f9.b54a9","type":"function","z":"c8db3a2c.35ba68","name":"Modbus Giriþi","func":"var data = msg.payload[0] ;\nmsg.payload = data /10 ;\nreturn msg;","outputs":1,"noerr":0,"x":300,"y":2920,"wires":[["26392c25.97c544"]]},{"id":"55a05622.c4d108","type":"function","z":"c8db3a2c.35ba68","name":"pressure set","func":"global.set(\"pressure\",msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3200,"wires":[[]]},{"id":"9783e541.d80c38","type":"function","z":"c8db3a2c.35ba68","name":"Modbus Giriþi","func":"var data = msg.payload[1] ;\nmsg.payload = data /100 ;\nreturn msg;","outputs":1,"noerr":0,"x":360,"y":3200,"wires":[["520b85.e361947c"]]},{"id":"520b85.e361947c","type":"range","z":"c8db3a2c.35ba68","minin":"0","maxin":"10","minout":"0","maxout":"50","action":"scale","round":false,"property":"payload.P1","name":"","x":550,"y":3200,"wires":[["55a05622.c4d108"]]},{"id":"f8391b4b.1d1758","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"azure_data","payloadType":"global","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":190,"y":2260,"wires":[["528d2657.330a68"]]},{"id":"528d2657.330a68","type":"debug","z":"c8db3a2c.35ba68","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":380,"y":2340,"wires":[]},{"id":"630632fe.657fbc","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1030,"y":2420,"wires":[["b60299de.0480b8"]]},{"id":"b60299de.0480b8","type":"function","z":"c8db3a2c.35ba68","name":"Create Global Variable To Hold Azure Data","func":"var data = {\n    \"A1_v1\"     :undefined,\n    \"A1_v2\"     :undefined,\n    \"A1_v3\"     :undefined,\n    \"A1_c1\"     :undefined,\n    \"A1_c2\"     :undefined,\n    \"A1_c3\"     :undefined,\n    \"A1_p1\"     :undefined,\n    \"A1_p2\"     :undefined,\n    \"A1_p3\"     :undefined,\n    \"A1_t_p\"    :undefined,\n    \"T1\"        :undefined,\n    \"T2\"        :undefined,\n    \"T3\"        :undefined,\n    \"T4\"        :undefined,\n    \"T5\"        :undefined,\n    \"T6\"        :undefined,\n    \"P1\"        :undefined,\n    \"P2\"        :undefined,\n    \"P3\"        :undefined,\n    \"P4\"        :undefined\n    }\nglobal.set('azure_data', data)\nreturn msg;","outputs":1,"noerr":0,"x":1310,"y":2420,"wires":[[]]},{"id":"c9a3942b.3edf68","type":"debug","z":"c8db3a2c.35ba68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":1070,"y":2660,"wires":[]},{"id":"8671e2fd.dd9f1","type":"function","z":"c8db3a2c.35ba68","name":"","func":"msg.payload = {\n    \"r\"    :   parseInt( msg.payload[0] ),\n    \"s\"    :   parseInt( msg.payload[1] ),\n    \"t\"    :   parseInt( msg.payload[2] ),\n    \"g\"   :   parseInt( msg.payload[4] )\n    \n}\nreturn msg;","outputs":1,"noerr":0,"x":540,"y":2700,"wires":[[]]},{"id":"64a7747a.f3e3ec","type":"function","z":"c8db3a2c.35ba68","name":"Set Data To Azure_Global ","func":"var data = global.get('azure_data');\n\ndata[\"A1_v1\"]   =   msg.payload[\"repg_v1_2\"];\ndata[\"A1_v2\"]   =   msg.payload[\"repg_v2_3\"];\ndata[\"A1_v3\"]   =   msg.payload[\"repg_v3_1\"];\ndata[\"A1_c1\"]   =   msg.payload[\"repg_c1\"];\ndata[\"A1_c2\"]   =   msg.payload[\"repg_c2\"];\ndata[\"A1_c3\"]   =   msg.payload[\"repg_c3\"];\n\n\n  \n\n\nglobal.set('azure_data', data);\n\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":2440,"wires":[[]]},{"id":"e7f9bbbd.1f1e98","type":"function","z":"c8db3a2c.35ba68","name":"Set Data To Azure_Global ","func":"var data = global.get('azure_data');\n\n\ndata[\"A1_p1\"]   =   msg.payload[\"repg_p1\"];\ndata[\"A1_p2\"]   =   msg.payload[\"repg_p2\"];\ndata[\"A1_p3\"]   =   msg.payload[\"repg_p3\"];\ndata[\"A1_t_p\"]  =   msg.payload[\"repg_t_p\"];\n\n\n  \n\n\nglobal.set('azure_data', data);\n\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2560,"wires":[[]]},{"id":"38a0e7ee.c12708","type":"debug","z":"c8db3a2c.35ba68","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":190,"y":2640,"wires":[]},{"id":"86e95619.6cc708","type":"function","z":"c8db3a2c.35ba68","name":"Set Data To Azure_Global ","func":"var data = global.get('azure_data');\n\ndata[\"T1\"]    =  msg.payload[\"Temp1\"];\ndata[\"T2\"]    =  msg.payload[\"Temp2\"];\ndata[\"T3\"]    =  msg.payload[\"Temp3\"];\ndata[\"T4\"]    =  msg.payload[\"Temp4\"];\ndata[\"T5\"]    =  msg.payload[\"Temp5\"];\ndata[\"T6\"]    =  msg.payload[\"Temp6\"];\n\nglobal.set('azure_data', data);\n\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":2860,"wires":[[]]},{"id":"6d48dcef.1ae184","type":"function","z":"c8db3a2c.35ba68","name":"Set Data To Azure_Global ","func":"var data = global.get('azure_data');\n\ndata[\"P1\"]    =  msg.payload[\"P1\"];\ndata[\"P2\"]    =  msg.payload[\"P2\"];\ndata[\"P3\"]    =  msg.payload[\"P3\"];\ndata[\"P4\"]    =  msg.payload[\"P4\"];\n\nglobal.set('azure_data', data);\n\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":2960,"wires":[[]]},{"id":"1f7f543e.0c433c","type":"function","z":"c8db3a2c.35ba68","name":"","func":"var data    =   msg.payload.value\nvar button  =   global.get(\"button\")\nif (button === false) {\n    return msg\n}\n","outputs":1,"noerr":0,"x":770,"y":1520,"wires":[[]]},{"id":"832fc077.15921","type":"debug","z":"c8db3a2c.35ba68","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload.value","x":830,"y":1580,"wires":[]},{"id":"4f51a484.4744fc","type":"inject","z":"c8db3a2c.35ba68","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":1270,"y":1800,"wires":[[]]},{"id":"81af866a.1d46c8","type":"ui_group","z":"","name":"Röle Durumlarý","tab":"5eef7844.a9fb78","order":1,"disp":true,"width":"11","collapse":false},{"id":"374ecd64.9e1ff2","type":"ui_group","z":"","name":"Otomatik Panel","tab":"5eef7844.a9fb78","order":2,"disp":true,"width":"11","collapse":false},{"id":"4ba5fe40.24c05","type":"modbus-client","z":"","name":"","clienttype":"simpleser","bufferCommands":true,"stateLogEnabled":false,"tcpHost":"127.0.0.1","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB0","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"3000","reconnectTimeout":"2000"},{"id":"40f4f3f.3f2670c","type":"ui_group","z":"","name":"Auto Butonu","tab":"5eef7844.a9fb78","order":3,"disp":true,"width":"22","collapse":false},{"id":"fb3b7fc9.96651","type":"ui_group","z":"","name":"Akým","tab":"751652.ff7ba9b","order":3,"disp":true,"width":"11","collapse":false},{"id":"21ac6e31.b69fc2","type":"ui_group","z":"","name":"RePG","tab":"751652.ff7ba9b","order":5,"disp":true,"width":"11","collapse":false},{"id":"a7bb66a4.b67018","type":"ui_group","z":"","name":"Buton-1","tab":"7d117785.35dc98","order":3,"disp":false,"width":"11","collapse":false},{"id":"3a3790c.64c1f7","type":"ui_group","z":"","name":"Buton-2","tab":"7d117785.35dc98","order":4,"disp":false,"width":"11","collapse":false},{"id":"27a56d08.529bd2","type":"ui_group","z":"","name":"Buton-3","tab":"7d117785.35dc98","order":5,"disp":false,"width":"11","collapse":false},{"id":"2491b802.0aea48","type":"ui_group","z":"","name":"Buton-4","tab":"7d117785.35dc98","order":6,"disp":false,"width":"11","collapse":false},{"id":"3b621871.7237a8","type":"ui_group","z":"","name":"Güç","tab":"751652.ff7ba9b","order":4,"disp":true,"width":"11","collapse":false},{"id":"d20b9e24.d3277","type":"ui_group","z":"","name":"Gerilim","tab":"751652.ff7ba9b","order":1,"disp":true,"width":"11","collapse":false},{"id":"b2625f36.f2f28","type":"ui_group","z":"","name":"T1","tab":"8a5a0ec.7b597f","order":1,"disp":false,"width":"7","collapse":false},{"id":"a663cb8c.6e1138","type":"ui_group","z":"","name":"T2","tab":"8a5a0ec.7b597f","order":2,"disp":false,"width":"7","collapse":false},{"id":"e16e13ea.fdace","type":"ui_group","z":"","name":"T3","tab":"8a5a0ec.7b597f","order":3,"disp":false,"width":"7","collapse":false},{"id":"6790b841.d2f678","type":"ui_group","z":"","name":"T4","tab":"8a5a0ec.7b597f","order":4,"disp":false,"width":"7","collapse":false},{"id":"bada0278.8efb6","type":"ui_group","z":"","name":"T5","tab":"8a5a0ec.7b597f","order":5,"disp":false,"width":"7","collapse":false},{"id":"605d117a.cf2e8","type":"ui_group","z":"","name":"T6","tab":"8a5a0ec.7b597f","order":6,"disp":false,"width":"7","collapse":false},{"id":"9aabb338.bedd1","type":"ui_group","z":"","name":"P1","tab":"69e130c4.73705","order":1,"disp":false,"width":"11","collapse":false},{"id":"93cf96df.e8ad68","type":"ui_group","z":"","name":"P2","tab":"69e130c4.73705","order":2,"disp":false,"width":"11","collapse":false},{"id":"9435b53b.0ef2d8","type":"ui_group","z":"","name":"P3","tab":"69e130c4.73705","order":3,"disp":false,"width":"11","collapse":false},{"id":"97b7b321.036e8","type":"ui_group","z":"","name":"P4","tab":"69e130c4.73705","order":4,"disp":false,"width":"11","collapse":false},{"id":"bf3d4979.bf5fb8","type":"modbus-client","z":"","name":"","clienttype":"simpleser","bufferCommands":true,"stateLogEnabled":false,"tcpHost":"127.0.0.1","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB0","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"3000","reconnectTimeout":"2000"},{"id":"5eef7844.a9fb78","type":"ui_tab","z":"","name":"Otomatik Panel","icon":"dashboard","order":6},{"id":"751652.ff7ba9b","type":"ui_tab","z":"","name":"Elektrik","icon":"dashboard","order":1},{"id":"7d117785.35dc98","type":"ui_tab","z":"","name":"Kontrol","icon":"dashboard","order":2},{"id":"8a5a0ec.7b597f","type":"ui_tab","z":"","name":"Sýcaklýk Sensör","icon":"dashboard","order":4},{"id":"69e130c4.73705","type":"ui_tab","z":"","name":"Basýnç Sensör","icon":"dashboard","order":5}]