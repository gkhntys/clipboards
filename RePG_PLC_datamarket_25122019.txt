[{"id":"80869f25.6f31b","type":"function","z":"712c83b8.3e653c","name":"Create Global Variable To Hold Azure Data","func":"var data = {\n    \"V1\"        :0,\n    \"V2\"        :0,\n    \"V3\"        :0,\n    \"C1\"        :0,\n    \"C2\"        :0,\n    \"C3\"        :0,\n    \"WT\"        :0,\n    \"T1\"        :undefined,\n    \"T2\"        :undefined,\n    \"T3\"        :undefined,\n    \"T4\"        :undefined,\n    \"T5\"        :undefined,\n    \"T6\"        :undefined,\n    \"P1\"        :undefined,\n    \"P2\"        :undefined,\n    \"Hz\"        :undefined,\n    \"WE\"        :0,\n    \"R1\"        :undefined,\n    \"R2\"        :undefined,\n    \"R4\"        :undefined\n    }\nglobal.set('azure_data', data)\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":820,"wires":[[]]},{"id":"19884bf0.9f5dd4","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"1f5c07f.5de19f8","order":1,"width":3,"height":3,"gtype":"gage","title":"T1","label":"C","format":"{{payload.Temp1}}","min":0,"max":"250","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":530,"y":20,"wires":[]},{"id":"31073118.4b5c8e","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"ec332472.f38ab8","order":1,"width":4,"height":3,"gtype":"donut","title":"Start5dk","label":"Sn","format":"{{value}}","min":0,"max":"300","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1640,"y":260,"wires":[]},{"id":"ca4974cd.3b5868","type":"function","z":"712c83b8.3e653c","name":"","func":"msg.payload = false;\n\n\n\n\n\n\nreturn msg;","outputs":1,"noerr":0,"x":1250,"y":320,"wires":[["72930703.82f8d8"]]},{"id":"bfe19b20.645688","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"1f5c07f.5de19f8","order":2,"width":3,"height":3,"gtype":"gage","title":"T3","label":"C","format":"{{payload.Temp3}}","min":0,"max":"150","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":530,"y":100,"wires":[]},{"id":"5a0bc1c6.dff5","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"1f5c07f.5de19f8","order":4,"width":3,"height":3,"gtype":"gage","title":"P2 Sensör","label":"Bar","format":"{{value}}","min":0,"max":"150","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":440,"wires":[]},{"id":"9b7f24c3.a30fa8","type":"ui_text","z":"712c83b8.3e653c","group":"a6270679.548a68","order":1,"width":0,"height":0,"name":"","label":"R1","format":"{{msg.payload}}","layout":"row-spread","x":450,"y":920,"wires":[]},{"id":"184bc4f7.b350ab","type":"function","z":"712c83b8.3e653c","name":"","func":"deger = msg.payload[0];\n\nmsg.payload = deger;\n\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":920,"wires":[["9b7f24c3.a30fa8"]]},{"id":"b87712b1.22fcc","type":"ui_text","z":"712c83b8.3e653c","group":"a6270679.548a68","order":2,"width":0,"height":0,"name":"","label":"R2","format":"{{msg.payload}}","layout":"row-spread","x":450,"y":1000,"wires":[]},{"id":"6589129a.822c8c","type":"function","z":"712c83b8.3e653c","name":"","func":"deger = msg.payload[0];\n\nmsg.payload = deger;\n\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1000,"wires":[["b87712b1.22fcc"]]},{"id":"f8ec3e18.d8453","type":"debug","z":"712c83b8.3e653c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":450,"y":680,"wires":[]},{"id":"f8a9a4cb.a0e3d8","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"aa6dabc1.48ec28","order":2,"width":5,"height":3,"gtype":"gage","title":"Sürücü","label":"Hz","format":"{{value}}","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":440,"y":740,"wires":[]},{"id":"e1fd83c3.8e349","type":"debug","z":"712c83b8.3e653c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":450,"y":600,"wires":[]},{"id":"5d3da289.75d47c","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"1f5c07f.5de19f8","order":6,"width":2,"height":3,"gtype":"gage","title":"P2S","label":"Bar","format":"{{value}}","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":430,"y":640,"wires":[]},{"id":"f468b1c5.168f8","type":"ui_text","z":"712c83b8.3e653c","group":"aa6dabc1.48ec28","order":1,"width":4,"height":1,"name":"","label":"ÜRETİM DURUM","format":"{{msg.payload}}","layout":"row-spread","x":490,"y":1200,"wires":[]},{"id":"2d367fd.f55b18","type":"function","z":"712c83b8.3e653c","name":"","func":"\nvar uret = msg.payload;\n\nvar uretim = uret[0];\n\nmsg.payload = uretim;\n\n\n\n\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1200,"wires":[["f468b1c5.168f8"]]},{"id":"46373e6.ad598c","type":"ui_text","z":"712c83b8.3e653c","group":"aa6dabc1.48ec28","order":4,"width":4,"height":1,"name":"","label":"ACİL STOP","format":"{{msg.payload}}","layout":"row-spread","x":470,"y":1280,"wires":[]},{"id":"735760ec.5b97f","type":"function","z":"712c83b8.3e653c","name":"","func":"\nvar uret = msg.payload;\n\nvar uretim = uret[0];\n\nmsg.payload = uretim;\n\n\n\n\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1280,"wires":[["46373e6.ad598c"]]},{"id":"bf54cf91.02796","type":"debug","z":"712c83b8.3e653c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":370,"y":1400,"wires":[]},{"id":"61b2155c.0205fc","type":"debug","z":"712c83b8.3e653c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1630,"y":320,"wires":[]},{"id":"c28fe439.101348","type":"switch","z":"712c83b8.3e653c","name":"","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"1","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1110,"y":260,"wires":[["25fb6b11.352e74"]]},{"id":"f50ca2ac.6cf82","type":"switch","z":"712c83b8.3e653c","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1090,"y":320,"wires":[["ca4974cd.3b5868"]]},{"id":"12c620d1.12113f","type":"debug","z":"712c83b8.3e653c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":450,"y":520,"wires":[]},{"id":"5996114f.ea238","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"1f5c07f.5de19f8","order":5,"width":2,"height":3,"gtype":"gage","title":"P2","label":"Bar","format":"{{value}}","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":430,"y":560,"wires":[]},{"id":"d3af2932.2acaf8","type":"ui_text","z":"712c83b8.3e653c","group":"a6270679.548a68","order":3,"width":0,"height":0,"name":"","label":"R4","format":"{{msg.payload}}","layout":"row-spread","x":450,"y":1080,"wires":[]},{"id":"68264071.26344","type":"function","z":"712c83b8.3e653c","name":"","func":"deger = msg.payload[0];\n\nmsg.payload = deger;\n\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1080,"wires":[["d3af2932.2acaf8"]]},{"id":"81090ed6.41a5a","type":"debug","z":"712c83b8.3e653c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1570,"y":460,"wires":[]},{"id":"52636577.465b5c","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"ec332472.f38ab8","order":2,"width":5,"height":3,"gtype":"donut","title":"Mars5dk","label":"Sn","format":"{{value}}","min":0,"max":"300","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1640,"y":580,"wires":[]},{"id":"c35d2620.aaeb18","type":"function","z":"712c83b8.3e653c","name":"","func":"msg.payload = false;\n\n\n\n\n\n\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":700,"wires":[["e36e975e.746ea8"]]},{"id":"8871ea33.1751a8","type":"debug","z":"712c83b8.3e653c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1630,"y":700,"wires":[]},{"id":"1ce6f8b0.773b17","type":"switch","z":"712c83b8.3e653c","name":"","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"1","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1130,"y":640,"wires":[["3ed658d4.3d6878"]]},{"id":"243c8362.337adc","type":"switch","z":"712c83b8.3e653c","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1110,"y":700,"wires":[["c35d2620.aaeb18"]]},{"id":"50534ff5.b36fc","type":"debug","z":"712c83b8.3e653c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1610,"y":860,"wires":[]},{"id":"e4252fc8.c78","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"ec332472.f38ab8","order":3,"width":4,"height":3,"gtype":"donut","title":"3DK","label":"Sn","format":"{{value}}","min":0,"max":"180","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1750,"y":1080,"wires":[]},{"id":"2894e33a.9d1d1c","type":"function","z":"712c83b8.3e653c","name":"","func":"msg.payload = false;\n\n\n\n\n\n\nreturn msg;","outputs":1,"noerr":0,"x":1390,"y":1140,"wires":[["db3b6815.d92268"]]},{"id":"13af15bf.29cf1a","type":"debug","z":"712c83b8.3e653c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1710,"y":1160,"wires":[]},{"id":"3e96e80c.1b6f38","type":"switch","z":"712c83b8.3e653c","name":"","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"1","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1250,"y":1080,"wires":[["fa982639.6cf1e8"]]},{"id":"fc7203a2.9b5f","type":"switch","z":"712c83b8.3e653c","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1230,"y":1140,"wires":[["2894e33a.9d1d1c"]]},{"id":"83bb652f.e5ca98","type":"ui_button","z":"712c83b8.3e653c","name":"","group":"b8de8769.6f7b28","order":1,"width":5,"height":3,"passthru":false,"label":"START","tooltip":"","color":"","bgcolor":"green","icon":"","payload":"true","payloadType":"bool","topic":"","x":1120,"y":1320,"wires":[["f67f4871.b58d68"]]},{"id":"ef6d3361.55aeb","type":"ui_button","z":"712c83b8.3e653c","name":"","group":"b8de8769.6f7b28","order":2,"width":5,"height":3,"passthru":false,"label":"ACİL STOP","tooltip":"","color":"","bgcolor":"Crimson ","icon":"","payload":"true","payloadType":"bool","topic":"","x":1140,"y":1420,"wires":[["24537bd5.0b9274"]]},{"id":"f6928f34.934bc","type":"debug","z":"712c83b8.3e653c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1600,"y":1260,"wires":[]},{"id":"383ba644.4ff1fa","type":"debug","z":"712c83b8.3e653c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1580,"y":1380,"wires":[]},{"id":"f67f4871.b58d68","type":"modbus-write","z":"712c83b8.3e653c","name":"START","showStatusActivities":false,"showErrors":false,"unitid":"5","dataType":"Coil","adr":"96","quantity":"1","server":"766937a3.073d88","x":1310,"y":1320,"wires":[["f6928f34.934bc"],[]]},{"id":"24537bd5.0b9274","type":"modbus-write","z":"712c83b8.3e653c","name":"STOP","showStatusActivities":false,"showErrors":false,"unitid":"5","dataType":"Coil","adr":"114","quantity":"1","server":"766937a3.073d88","x":1300,"y":1420,"wires":[["383ba644.4ff1fa"],[]]},{"id":"7bc47923.7a2948","type":"function","z":"712c83b8.3e653c","name":"Timer Değişkenler","func":"global.set('Start5dk',0);\nglobal.set('Mars5dk',0);\nglobal.set('Dc2dk',0);\nglobal.set('Alarm3dk',0);\nglobal.set('sayac1',0);\nglobal.set('sayac2',0);\nglobal.set('sayac3',0);\nglobal.set('sayac4',0);\nreturn msg;","outputs":1,"noerr":0,"x":1690,"y":160,"wires":[[]]},{"id":"d612d01f.14ee8","type":"inject","z":"712c83b8.3e653c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1470,"y":160,"wires":[["7bc47923.7a2948"]]},{"id":"25fb6b11.352e74","type":"function","z":"712c83b8.3e653c","name":"","func":"msg.payload = true;\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":260,"wires":[["72930703.82f8d8"]]},{"id":"72930703.82f8d8","type":"function","z":"712c83b8.3e653c","name":"","func":"var timer1 = msg.payload;\nvar timer5dk1 = global.get('Start5dk');\nvar sayac=global.get('sayac2');\nif (timer1 === true){\n    \n sayac=sayac+ 1;\n\n global.set('Start5dk',sayac);\n    \n    \n}else if(timer1 === false){\n    \n    sayac=0;\n    global.set('Start5dk',sayac);\n}\nglobal.set('sayac2',sayac);\n\nmsg.payload = timer5dk1;\nreturn msg;","outputs":1,"noerr":0,"x":1430,"y":280,"wires":[["31073118.4b5c8e","61b2155c.0205fc"]]},{"id":"3ed658d4.3d6878","type":"function","z":"712c83b8.3e653c","name":"","func":"msg.payload = true;\nreturn msg;","outputs":1,"noerr":0,"x":1310,"y":640,"wires":[["e36e975e.746ea8"]]},{"id":"e36e975e.746ea8","type":"function","z":"712c83b8.3e653c","name":"","func":"var timer1 = msg.payload;\nvar timer5dk1 = global.get('Mars5dk');\nvar sayac=global.get('sayac1');\nif (timer1 === true){\n    \n sayac=sayac+ 1;\n\n global.set('Mars5dk',sayac);\n    \n    \n}else if(timer1 === false){\n    \n    sayac=0;\n    global.set('Mars5dk',sayac);\n}\nglobal.set('sayac1',sayac);\n\nmsg.payload = timer5dk1;\nreturn msg;\n","outputs":1,"noerr":0,"x":1440,"y":680,"wires":[["52636577.465b5c","8871ea33.1751a8"]]},{"id":"fa982639.6cf1e8","type":"function","z":"712c83b8.3e653c","name":"","func":"msg.payload = true;\nreturn msg;","outputs":1,"noerr":0,"x":1410,"y":1060,"wires":[["db3b6815.d92268"]]},{"id":"db3b6815.d92268","type":"function","z":"712c83b8.3e653c","name":"","func":"var timer1 = msg.payload;\nvar timer5dk1 = global.get('Alarm3dk');\nvar sayac=global.get('sayac4');\nif (timer1 === true){\n    \n sayac=sayac+ 1;\n\n global.set('Alarm3dk',sayac);\n    \n    \n}else if(timer1 === false){\n    \n    sayac=0;\n    global.set('Alarm3dk',sayac);\n}\nglobal.set('sayac4',sayac);\n\nmsg.payload = timer5dk1;\nreturn msg;\n","outputs":1,"noerr":0,"x":1570,"y":1100,"wires":[["13af15bf.29cf1a","e4252fc8.c78"]]},{"id":"c18d9f3f.530e4","type":"modbus-read","z":"712c83b8.3e653c","name":"Sürücü","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"5","dataType":"HoldingRegister","adr":"121","quantity":"1","rate":"2","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"766937a3.073d88","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":150,"y":700,"wires":[["f8ec3e18.d8453","f8a9a4cb.a0e3d8","afdfa93d.082078"],[]]},{"id":"8ba0c8ac.3bbe48","type":"modbus-read","z":"712c83b8.3e653c","name":"R1 DURUM","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"5","dataType":"Coil","adr":"39","quantity":"1","rate":"2","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"766937a3.073d88","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":170,"y":940,"wires":[["184bc4f7.b350ab","784f36c0.986498"],[]]},{"id":"bfe821eb.cabe7","type":"modbus-read","z":"712c83b8.3e653c","name":"R2 DURUM","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"5","dataType":"Coil","adr":"40","quantity":"1","rate":"2","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"766937a3.073d88","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":170,"y":1020,"wires":[["6589129a.822c8c","eb42c370.d44f1"],[]]},{"id":"94e49941.c3ef78","type":"modbus-read","z":"712c83b8.3e653c","name":"R4 DURUM","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"5","dataType":"Coil","adr":"41","quantity":"1","rate":"2","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"766937a3.073d88","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":170,"y":1100,"wires":[["68264071.26344","b7a53649.996f48"],[]]},{"id":"acb2850f.cf9d78","type":"modbus-read","z":"712c83b8.3e653c","name":"ÜRETİM","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"5","dataType":"Coil","adr":"0","quantity":"1","rate":"2","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"766937a3.073d88","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":180,"y":1220,"wires":[["2d367fd.f55b18"],[]]},{"id":"888e0162.27745","type":"modbus-read","z":"712c83b8.3e653c","name":"ACİL STOP DURUM","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"5","dataType":"Coil","adr":"113","quantity":"1","rate":"2","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"766937a3.073d88","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":150,"y":1300,"wires":[["735760ec.5b97f","bf54cf91.02796"],[]]},{"id":"db566bfe.faa4e8","type":"modbus-read","z":"712c83b8.3e653c","name":"StartTimer5dk","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"5","dataType":"HoldingRegister","adr":"122","quantity":"1","rate":"1","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"766937a3.073d88","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":1010,"y":100,"wires":[["c28fe439.101348","f50ca2ac.6cf82"],[]]},{"id":"bd2163de.351fd","type":"modbus-read","z":"712c83b8.3e653c","name":"StartTimer5dkMars","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"5","dataType":"HoldingRegister","adr":"115","quantity":"1","rate":"1","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"766937a3.073d88","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":1110,"y":440,"wires":[["1ce6f8b0.773b17","243c8362.337adc","81090ed6.41a5a"],[]]},{"id":"6520a6f8.c7fb78","type":"modbus-read","z":"712c83b8.3e653c","name":"3dk","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"5","dataType":"HoldingRegister","adr":"183","quantity":"1","rate":"1","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"766937a3.073d88","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":1010,"y":880,"wires":[["3e96e80c.1b6f38","fc7203a2.9b5f","50534ff5.b36fc"],[]]},{"id":"8101f3f3.12d0e","type":"modbus-read","z":"712c83b8.3e653c","name":"P2","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"5","dataType":"HoldingRegister","adr":"120","quantity":"2","rate":"2","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"766937a3.073d88","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":150,"y":540,"wires":[["12c620d1.12113f","5996114f.ea238"],[]]},{"id":"b41664ed.d64a38","type":"modbus-read","z":"712c83b8.3e653c","name":"P2S","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"5","dataType":"HoldingRegister","adr":"181","quantity":"1","rate":"2","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"766937a3.073d88","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":150,"y":620,"wires":[["e1fd83c3.8e349","5d3da289.75d47c"],[]]},{"id":"f66c0910.3805c8","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"d0f91511.142e08","order":2,"width":6,"height":4,"gtype":"gage","title":"T2","label":"units","format":"{{payload.Temp2}}","min":0,"max":"250","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":530,"y":60,"wires":[]},{"id":"75053c4e.74ba74","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"d0f91511.142e08","order":5,"width":6,"height":4,"gtype":"gage","title":"T4","label":"C","format":"{{payload.Temp4}}","min":0,"max":"250","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":530,"y":220,"wires":[]},{"id":"1576a30d.2b7f1d","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"1f5c07f.5de19f8","order":3,"width":3,"height":3,"gtype":"gage","title":"T5","label":"C","format":"{{payload.Temp5}}","min":0,"max":"250","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":530,"y":260,"wires":[]},{"id":"5d85dedb.dcc16","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"d0f91511.142e08","order":6,"width":6,"height":4,"gtype":"gage","title":"T6","label":"C","format":"{{payload.Temp6}}","min":0,"max":"250","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":530,"y":300,"wires":[]},{"id":"310dafce.2ff51","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"d0f91511.142e08","order":1,"width":6,"height":4,"gtype":"gage","title":"T1","label":"C","format":"{{payload.Temp1}}","min":0,"max":"250","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":690,"y":20,"wires":[]},{"id":"6c3c5d24.820544","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"d0f91511.142e08","order":3,"width":6,"height":4,"gtype":"gage","title":"T3","label":"C","format":"{{payload.Temp3}}","min":0,"max":"150","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":690,"y":100,"wires":[]},{"id":"e3c70d51.5fdd9","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"d0f91511.142e08","order":4,"width":6,"height":4,"gtype":"gage","title":"T5","label":"C","format":"{{payload.Temp5}}","min":0,"max":"250","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":690,"y":260,"wires":[]},{"id":"a6e56af0.b29328","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"fb6bbd3a.43b32","order":1,"width":5,"height":5,"gtype":"gage","title":"P1","label":"Bar","format":"{{value}}","min":0,"max":"50","colors":["#00b500","#e6e600","#ca3838"],"seg1":"10","seg2":"11","x":850,"y":400,"wires":[]},{"id":"5e4bc9ca.2916f8","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"fb6bbd3a.43b32","order":2,"width":5,"height":5,"gtype":"gage","title":"P2 Sensör","label":"Bar","format":"{{value}}","min":0,"max":"50","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":870,"y":480,"wires":[]},{"id":"483b14f5.7851ec","type":"function","z":"712c83b8.3e653c","name":"Temperature Sensor","func":"\nmsg = {\n    \"payload\" : {\n        \"Temp1\" :   msg.payload[0] /   10,\n        \"Temp2\"\t:   msg.payload[2]  /   10,\n        \"Temp3\"\t:   msg.payload[4]  /   10,\n        \"Temp4\"\t:   msg.payload[6]  /   10,\n        \"Temp5\"\t:   msg.payload[17]  /   10,\n        \"Temp6\"\t:   msg.payload[19]  /   10\n        \n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":340,"y":160,"wires":[["d5948da7.9110c","19884bf0.9f5dd4","f66c0910.3805c8","bfe19b20.645688","75053c4e.74ba74","1576a30d.2b7f1d","5d85dedb.dcc16","310dafce.2ff51","6c3c5d24.820544","e3c70d51.5fdd9"]]},{"id":"d5948da7.9110c","type":"function","z":"712c83b8.3e653c","name":"Set Data To Azure_Global ","func":"var data = global.get('azure_data');\n\ndata[\"T1\"]    =  msg.payload[\"Temp1\"];\ndata[\"T2\"]    =  msg.payload[\"Temp2\"];\ndata[\"T3\"]    =  msg.payload[\"Temp3\"];\ndata[\"T4\"]    =  msg.payload[\"Temp4\"];\ndata[\"T5\"]    =  msg.payload[\"Temp5\"];\ndata[\"T6\"]    =  msg.payload[\"Temp6\"];\n\nglobal.set('azure_data', data);\n\nreturn msg;","outputs":1,"noerr":0,"x":590,"y":160,"wires":[[]]},{"id":"5744f93e.dce508","type":"modbus-read","z":"712c83b8.3e653c","name":"Temperature","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"5","dataType":"HoldingRegister","adr":"128","quantity":"20","rate":"2","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"766937a3.073d88","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":150,"y":160,"wires":[["6da1b2b1.e8a12c","483b14f5.7851ec"],[]]},{"id":"6da1b2b1.e8a12c","type":"debug","z":"712c83b8.3e653c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":270,"y":80,"wires":[]},{"id":"e2a65a68.ab63e8","type":"inject","z":"712c83b8.3e653c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":190,"y":820,"wires":[["80869f25.6f31b"]]},{"id":"af85e19b.9aa5e","type":"debug","z":"712c83b8.3e653c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":350,"y":860,"wires":[]},{"id":"e7065990.235aa8","type":"inject","z":"712c83b8.3e653c","name":"","topic":"","payload":"azure_data","payloadType":"global","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":170,"y":860,"wires":[["af85e19b.9aa5e"]]},{"id":"27383c0a.8f6b04","type":"inject","z":"712c83b8.3e653c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":930,"y":220,"wires":[["8ca19504.c5d668"]]},{"id":"8ca19504.c5d668","type":"function","z":"712c83b8.3e653c","name":"","func":"global.set(\"T1\",50);\nreturn msg;","outputs":1,"noerr":0,"x":880,"y":40,"wires":[[]]},{"id":"8ebba06a.baa24","type":"function","z":"712c83b8.3e653c","name":"Pressure Sensor","func":"\nmsg = {\n    \"payload\" : {\n        \"Pres1\" :   msg.payload[0],\n        \"Pres2\"\t:   msg.payload[2]\n        \n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":400,"wires":[["2cabb1f4.0f80fe","efb78bb8.36a618"]]},{"id":"d915bec4.92d87","type":"modbus-read","z":"712c83b8.3e653c","name":"Pres","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"5","dataType":"HoldingRegister","adr":"158","quantity":"4","rate":"4","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"766937a3.073d88","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":150,"y":400,"wires":[["8ebba06a.baa24"],[]]},{"id":"2cabb1f4.0f80fe","type":"range","z":"712c83b8.3e653c","minin":"0","maxin":"64000","minout":"0","maxout":"50","action":"scale","round":false,"property":"payload.Pres1","name":"","x":530,"y":360,"wires":[["92ef7c28.e0785"]]},{"id":"efb78bb8.36a618","type":"range","z":"712c83b8.3e653c","minin":"0","maxin":"64000","minout":"0","maxout":"50","action":"scale","round":false,"property":"payload.Pres2","name":"","x":530,"y":440,"wires":[["5a4c0eec.7c81c"]]},{"id":"92ef7c28.e0785","type":"function","z":"712c83b8.3e653c","name":"","func":"var data = parseFloat( (msg.payload.Pres1).toFixed(2));\nmsg.payload = Number(data)\n\nvar data1 = global.get('azure_data');\ndata1[\"P1\"]    =  data;\nglobal.set('azure_data', data1);\n\nreturn msg;\n","outputs":1,"noerr":0,"x":650,"y":360,"wires":[["52e3b1f2.69008","a6e56af0.b29328"]]},{"id":"5a4c0eec.7c81c","type":"function","z":"712c83b8.3e653c","name":"","func":"var data = parseFloat( (msg.payload.Pres2).toFixed(2));\nmsg.payload = Number(data)\n\nvar data1 = global.get('azure_data');\ndata1[\"P2\"]    =  data;\nglobal.set('azure_data', data1);\n\nreturn msg;\n","outputs":1,"noerr":0,"x":650,"y":440,"wires":[["5a0bc1c6.dff5","5e4bc9ca.2916f8"]]},{"id":"52e3b1f2.69008","type":"ui_gauge","z":"712c83b8.3e653c","name":"","group":"1f5c07f.5de19f8","order":7,"width":3,"height":3,"gtype":"gage","title":"P1","label":"Bar","format":"{{value}}","min":0,"max":"150","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":770,"y":360,"wires":[]},{"id":"784f36c0.986498","type":"function","z":"712c83b8.3e653c","name":"","func":"var glb = global.get(\"azure_data\");\n\nglb[ \"R1\" ] =  msg.payload[0];\n\n \n\nglobal.set('azure_data', glb);\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":960,"wires":[[]]},{"id":"eb42c370.d44f1","type":"function","z":"712c83b8.3e653c","name":"","func":"var glb = global.get(\"azure_data\");\n\nglb[ \"R2\" ] =  msg.payload[0];\n\n \n\nglobal.set('azure_data', glb);\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1040,"wires":[[]]},{"id":"b7a53649.996f48","type":"function","z":"712c83b8.3e653c","name":"","func":"var glb = global.get(\"azure_data\");\n\nglb[ \"R4\" ] =  msg.payload[0];\n\n \n\nglobal.set('azure_data', glb);\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1120,"wires":[[]]},{"id":"afdfa93d.082078","type":"function","z":"712c83b8.3e653c","name":"","func":"var glb = global.get(\"azure_data\");\n\nglb[ \"Hz\" ] =  msg.payload[0];\n\n \n\nglobal.set('azure_data', glb);\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":760,"wires":[[]]},{"id":"9bcf9f0d.9e9bd","type":"inject","z":"712c83b8.3e653c","name":"1 Minute","topic":"","payload":"","payloadType":"date","repeat":"59","crontab":"","once":false,"onceDelay":0.1,"x":200,"y":1560,"wires":[["d0450ad8.e37f28"]]},{"id":"80f652c3.9c4da","type":"azureiothub","z":"712c83b8.3e653c","name":"Azure IoT Hub","protocol":"mqtt","x":620,"y":1660,"wires":[["26569bca.a0f334"]]},{"id":"71db82d6.52a9bc","type":"function","z":"712c83b8.3e653c","name":"Changing Payload Format","func":"\n\nlet data = global.get( \"azure_data\" )\nlet res = {\n    \"Version\": \"1.0\",\n    \"SourceType\": \"INTEGRATED\",\n    \"Source\": \"REPG\",\n    \"deviceId\": \"RPG-SN-Pilot-3\",\n    \"key\": \"z0XTqYbkkzKOZuX/C5VHYxpfyuuJJfjfDETTdJa+XFk=\",\n    \"UniqueId\": \"\",\n    \"protocol\": \"mqtt\",\n    \"data\": {\n        \"Messages\": []\n    }\n  }\n\n\nfor( let i of Object.entries( data ) ) {\n    \n    if(   i[0]    &&  i[1] !== undefined ) {\n\n\n\n      data.Data.Messages.push(   {\n                          \"Timestamp\": new Date(),\n                          \"Parameters\": [\n                                {\n                                  \"Key\": i[0],\n                                  \"Value\": String( i[1] )\n                                }\n                                        ]\n                                  }\n                        \n                            )\n      \n    } // end of if   \n    \n    \n    \n    \n} // end of loop\n\n\n\n\nmsg.payload = res;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":1460,"wires":[["b36edc84.d3795"]]},{"id":"b36edc84.d3795","type":"debug","z":"712c83b8.3e653c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":790,"y":1560,"wires":[]},{"id":"26569bca.a0f334","type":"debug","z":"712c83b8.3e653c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":810,"y":1660,"wires":[]},{"id":"a48e3863.c7dd38","type":"inject","z":"712c83b8.3e653c","name":"1 Hour","topic":"","payload":"","payloadType":"date","repeat":"3600","crontab":"","once":false,"onceDelay":0.1,"x":200,"y":1760,"wires":[["26964f49.76c4f"]]},{"id":"26964f49.76c4f","type":"function","z":"712c83b8.3e653c","name":"Changing Payload Format","func":"let exclude = [\"T1\",\"T2\",\"T3\",\"T4\",\"T5\",\"T6\",\"P1\",\"P2\",\"R1\",\"R2\",\"R4\",\"Hz\",];\nlet data = global.get( \"azure_data\" )\nlet res = {\n    \"Version\": \"1.0\",\n    \"SourceType\": \"INTEGRATED\",\n    \"Source\": \"REPG\",\n    \"deviceId\": \"RPG-SN-Pilot-3\",\n    \"key\": \"z0XTqYbkkzKOZuX/C5VHYxpfyuuJJfjfDETTdJa+XFk=\",\n    \"UniqueId\": \"\",\n    \"protocol\": \"mqtt\",\n    \"data\": {\n        \"Messages\": []\n    }\n  }\n\n\nfor( let i of Object.entries( data ) ) {\n    \n    if( !exclude.includes(  i[0] )   &&  i[1] !== undefined ) {\n\n\n\n      data.Data.Messages.push(   {\n                          \"Timestamp\": new Date(),\n                          \"Parameters\": [\n                                {\n                                  \"Key\": i[0],\n                                  \"Value\": String( i[1] )\n                                }\n                                        ]\n                                  }\n                        \n                            )\n      \n    } // end of if   \n    \n    \n    \n    \n} // end of loop\n\n\n\n\nmsg.payload = res;\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":1760,"wires":[["a62dac48.c5071","80f652c3.9c4da"]]},{"id":"a62dac48.c5071","type":"debug","z":"712c83b8.3e653c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":790,"y":1760,"wires":[]},{"id":"d0450ad8.e37f28","type":"function","z":"712c83b8.3e653c","name":"Changing Payload Format","func":"let exclude = [\"V1\",\"V2\",\"V3\",\"C1\",\"C2\",\"C3\",\"WT\",\"WE\"]\n\nlet data = global.get( \"azure_data\" )\nlet res = {\n    \"Version\": \"1.0\",\n    \"SourceType\": \"INTEGRATED\",\n    \"Source\": \"REPG\",\n    \"deviceId\": \"RPG-SN-Pilot-3\",\n    \"key\": \"z0XTqYbkkzKOZuX/C5VHYxpfyuuJJfjfDETTdJa+XFk=\",\n    \"UniqueId\": \"\",\n    \"protocol\": \"mqtt\",\n    \"data\": {\n        \"Messages\": []\n    }\n  }\n\n\nfor( let i of Object.entries( data ) ) {\n    \n    if( !exclude.includes(  i[0] )   &&  i[1] !== undefined ) {\n\n\n\n      data.Data.Messages.push(   {\n                          \"Timestamp\": new Date(),\n                          \"Parameters\": [\n                                {\n                                  \"Key\": i[0],\n                                  \"Value\": String( i[1] )\n                                }\n                                        ]\n                                  }\n                        \n                            )\n      \n    } // end of if   \n    \n    \n    \n    \n} // end of loop\n\n\n\n\nmsg.payload = res;\nreturn msg;","outputs":1,"noerr":0,"x":430,"y":1560,"wires":[["80f652c3.9c4da","b36edc84.d3795"]]},{"id":"1f5c07f.5de19f8","type":"ui_group","z":"","name":"Değerler","tab":"b43366a8.126de8","order":1,"disp":false,"width":"19","collapse":false},{"id":"ec332472.f38ab8","type":"ui_group","z":"","name":"Zamanlayıcılar","tab":"b43366a8.126de8","order":5,"disp":false,"width":13,"collapse":false},{"id":"a6270679.548a68","type":"ui_group","z":"","name":"Röleler","tab":"b43366a8.126de8","order":2,"disp":false,"width":4,"collapse":false},{"id":"aa6dabc1.48ec28","type":"ui_group","z":"","name":"Sistem Durum","tab":"b43366a8.126de8","order":3,"disp":false,"width":9,"collapse":false},{"id":"b8de8769.6f7b28","type":"ui_group","z":"","name":"Start -Stop","tab":"b43366a8.126de8","order":4,"disp":false,"width":5,"collapse":false},{"id":"766937a3.073d88","type":"modbus-client","z":"","name":"TestRepG_IST","clienttype":"simpleser","bufferCommands":true,"stateLogEnabled":false,"tcpHost":"127.0.0.1","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB0","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"5","commandDelay":"1","clientTimeout":"1000","reconnectTimeout":"2000"},{"id":"d0f91511.142e08","type":"ui_group","z":"","name":"Sıcaklıklar","tab":"3b2aef36.4c66a","disp":false,"width":18,"collapse":false},{"id":"fb6bbd3a.43b32","type":"ui_group","z":"","name":"Basınçlar","tab":"fed8c03e.01bcf","disp":true,"width":10,"collapse":false},{"id":"b43366a8.126de8","type":"ui_tab","z":"","name":"ALGORİTMA TEST EKRANI","icon":"dashboard","order":1,"disabled":false,"hidden":false},{"id":"3b2aef36.4c66a","type":"ui_tab","z":"","name":"Sıcaklıklar","icon":"dashboard","disabled":false,"hidden":false},{"id":"fed8c03e.01bcf","type":"ui_tab","z":"","name":"Basınçlar","icon":"dashboard","disabled":false,"hidden":false}]