[{"id":"375f88a0.3a8008","type":"function","z":"af5cc7d3.add988","name":"Set Data To Azure_Global ","func":"var data = global.get('azure_data');\n\ndata[\"A4_v\"]    =  msg.payload[\"aku_donus_volt\"] ;\ndata[\"A4_c\"]    =  msg.payload[\"aku_current\"];\ndata[\"A4_p\"]    =  msg.payload[\"aku_donus\"];\n\nglobal.set('azure_data', data);\n\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":3920,"wires":[[]]},{"id":"6972940e.e950ec","type":"function","z":"af5cc7d3.add988","name":"Set modbus2","func":"global.set(\"modbus2\", msg.payload)\n","outputs":1,"noerr":0,"x":830,"y":260,"wires":[[]]},{"id":"8e94d61b.f1d6b8","type":"function","z":"af5cc7d3.add988","name":"T1>70 - T3<100 - P1<10 - P2<10 - R1-ON","func":"var t1  =   global.get(\"T1\");\nvar t3  =   global.get(\"T3\");\nvar p1  =   global.get(\"P1\");\nvar p2  =   global.get(\"P2\");\n\nif (t1>70 && t3<100 && p1<10 && p2<10) {\n    global.set(\"R1\",false);\n    msg.payload = true;\n    global.set(\"start\",false);\n    return msg;\n}\nelse {\n    msg.payload = false;\n    return msg;\n}","outputs":1,"noerr":0,"x":640,"y":100,"wires":[["b279853f.1c2618","b9effaaa.67a438"]]},{"id":"cd50ce55.a0ae5","type":"delay","z":"af5cc7d3.add988","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1580,"y":1700,"wires":[["19ab60a4.af814f","d110a6fd.946e18"]]},{"id":"b27c8de3.beec6","type":"function","z":"af5cc7d3.add988","name":"set driver  \"10\"","func":"var data = msg.payload\nif (data === true) {\n    global.set(\"driver\",5)\n    global.set(\"check1\",true)\n    msg.payload = true\n    return msg;\n    \n}","outputs":1,"noerr":0,"x":1060,"y":100,"wires":[[]]},{"id":"c698a573.a31a48","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload\nif (data === true) {\n    msg.payload = global.get(\"driver\")\n    return msg;\n}\n","outputs":1,"noerr":0,"x":510,"y":240,"wires":[["f946d2b6.f2fc5"]]},{"id":"bd7a1f93.7ea06","type":"debug","z":"af5cc7d3.add988","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1090,"y":2080,"wires":[]},{"id":"cb4cdf61.9163d","type":"switch","z":"af5cc7d3.add988","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":730,"y":2060,"wires":[["f911014a.796e2"]]},{"id":"9bc5c3dc.4aaa4","type":"switch","z":"af5cc7d3.add988","name":"false","property":"payload","propertyType":"msg","rules":[{"t":"false"}],"checkall":"true","repair":false,"outputs":1,"x":730,"y":2100,"wires":[["f911014a.796e2"]]},{"id":"34fa1ac9.b16206","type":"function","z":"af5cc7d3.add988","name":"T1","func":"global.set(\"T1\",msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":1100,"wires":[[]]},{"id":"747fbbb7.0beaa4","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"75","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":1140,"wires":[["34fa1ac9.b16206"]]},{"id":"cfbf251e.a58948","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"57","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":1300,"wires":[["b3a21f42.ce393"]]},{"id":"bcaa280f.192cb8","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"62","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":1340,"wires":[["b3a21f42.ce393"]]},{"id":"ae48d3bb.0d854","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"67","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":1380,"wires":[["b3a21f42.ce393"]]},{"id":"b3a21f42.ce393","type":"function","z":"af5cc7d3.add988","name":"T3","func":"global.set(\"T3\",msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":1380,"wires":[[]]},{"id":"9ebcc307.0d458","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"start","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":230,"y":80,"wires":[["58f08fe3.6449d"]]},{"id":"b279853f.1c2618","type":"delay","z":"af5cc7d3.add988","name":"","pauseType":"delay","timeout":"10","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":900,"y":100,"wires":[["b27c8de3.beec6"]]},{"id":"f40073b1.96471","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"65","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":1100,"wires":[["34fa1ac9.b16206"]]},{"id":"650dd447.82f5bc","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1370,"y":2820,"wires":[["1fa92992.428126"]]},{"id":"1fa92992.428126","type":"function","z":"af5cc7d3.add988","name":"Relay","func":"global.set(\"R1\",true)\nglobal.set(\"R2\",true)\nglobal.set(\"R4\",true)\nreturn msg;","outputs":1,"noerr":0,"x":1530,"y":2820,"wires":[[]]},{"id":"9a68be0b.69955","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1370,"y":2860,"wires":[["5802ffbc.2e52c"]]},{"id":"5802ffbc.2e52c","type":"function","z":"af5cc7d3.add988","name":"driver - driverf","func":"global.set(\"driver\",0)\nglobal.set(\"driver_min\",0)\nglobal.set(\"driver_max\",0)\nglobal.set(\"driverf\",false)\nreturn msg;","outputs":1,"noerr":0,"x":1560,"y":2860,"wires":[[]]},{"id":"f5c60e6f.6297e","type":"rpi-gpio out","z":"af5cc7d3.add988","name":"R1","pin":"7","set":"","level":"0","freq":"","out":"out","x":410,"y":2520,"wires":[]},{"id":"bce3e022.91aa7","type":"rpi-gpio out","z":"af5cc7d3.add988","name":"R2","pin":"11","set":"","level":"0","freq":"","out":"out","x":430,"y":2620,"wires":[]},{"id":"c0b12313.6922a","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"R1","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":250,"y":2580,"wires":[["5cd52f5f.9959f","f5c60e6f.6297e"]]},{"id":"bae2bd8d.a59e8","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"R2","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":250,"y":2680,"wires":[["bce3e022.91aa7","57aa0c71.4b4fd4"]]},{"id":"e9487b26.4e68f8","type":"function","z":"af5cc7d3.add988","name":"R2-ON","func":"var data    =   msg.payload\nif (data === true) {\n    global.set(\"R2\",false)\n    msg.payload = true\n    return msg;\n    \n}","outputs":1,"noerr":0,"x":670,"y":380,"wires":[["c0802926.950c98"]]},{"id":"c0802926.950c98","type":"delay","z":"af5cc7d3.add988","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":800,"y":380,"wires":[["332e6836.992f58"]]},{"id":"332e6836.992f58","type":"function","z":"af5cc7d3.add988","name":"R2-OFF","func":"var data = msg.payload\nif (data === true) {\n    global.set(\"R2\",true)\n    msg.payload = true\n    return msg;\n    \n}","outputs":1,"noerr":0,"x":940,"y":380,"wires":[["29c0e57a.d20e5a"]]},{"id":"5cd52f5f.9959f","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload\nif (data === true) {\n    msg.payload = \"Kapalı\"\n    return msg;\n}\nelse if (data === false) {\n    msg.payload = \"Açık\"\n    return msg;\n}\n","outputs":1,"noerr":0,"x":410,"y":2580,"wires":[["b817ad67.19001"]]},{"id":"57aa0c71.4b4fd4","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload\nif (data === true) {\n    msg.payload = \"Kapalı\"\n    return msg;\n}\nelse if (data === false) {\n    msg.payload = \"Açık\"\n    return msg;\n}\n","outputs":1,"noerr":0,"x":410,"y":2680,"wires":[["10c46dff.e2b1c2"]]},{"id":"b817ad67.19001","type":"ui_text","z":"af5cc7d3.add988","group":"cb9ec97e.b45568","order":1,"width":"7","height":"1","name":"","label":"R1","format":"{{msg.payload}}","layout":"row-spread","x":530,"y":2580,"wires":[]},{"id":"10c46dff.e2b1c2","type":"ui_text","z":"af5cc7d3.add988","group":"cb9ec97e.b45568","order":2,"width":"7","height":"1","name":"","label":"R2","format":"{{msg.payload}}","layout":"row-spread","x":530,"y":2680,"wires":[]},{"id":"cbb914c7.094748","type":"ui_gauge","z":"af5cc7d3.add988","name":"","group":"16477407.d9eabc","order":1,"width":"7","height":"7","gtype":"gage","title":"Sürücü","label":"units","format":"{{value}}","min":0,"max":"50","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":560,"y":3440,"wires":[]},{"id":"d0cd6017.901be","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"driver","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":320,"y":3500,"wires":[["cbb914c7.094748"]]},{"id":"a8bf624.f492fa","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1370,"y":3060,"wires":[["757abb5f.0305d4"]]},{"id":"757abb5f.0305d4","type":"function","z":"af5cc7d3.add988","name":"set \"0\" (T1 - T3 - P1 - P2 - P2S - PS )","func":"\n\nglobal.set(\"T1\",0)\nglobal.set(\"T2\",0)\nglobal.set(\"T3\",0)\nglobal.set(\"T4\",0)\nglobal.set(\"T5\",0)\nglobal.set(\"T6\",0)\nglobal.set(\"P1\",0)\nglobal.set(\"P2\",0)\nglobal.set(\"P2S\",0)\nglobal.set(\"PS\",0)\n\nreturn msg;","outputs":1,"noerr":0,"x":1630,"y":3060,"wires":[[]]},{"id":"1197ccdd.bbe4b3","type":"switch","z":"af5cc7d3.add988","name":"","property":"payload","propertyType":"msg","rules":[{"t":"btwn","v":"50.1","vt":"num","v2":"52.9","v2t":"num"},{"t":"btwn","v":"53","vt":"num","v2":"55.9","v2t":"num"},{"t":"btwn","v":"56","vt":"num","v2":"58.9","v2t":"num"},{"t":"btwn","v":"59","vt":"num","v2":"61.9","v2t":"num"},{"t":"btwn","v":"62","vt":"num","v2":"64.9","v2t":"num"},{"t":"btwn","v":"65","vt":"num","v2":"67.9","v2t":"num"},{"t":"btwn","v":"68","vt":"num","v2":"70.9","v2t":"num"},{"t":"btwn","v":"71","vt":"num","v2":"73.9","v2t":"num"},{"t":"btwn","v":"74","vt":"num","v2":"76.9","v2t":"num"},{"t":"btwn","v":"77","vt":"num","v2":"79.9","v2t":"num"},{"t":"btwn","v":"80","vt":"num","v2":"82.9","v2t":"num"},{"t":"btwn","v":"83","vt":"num","v2":"85.9","v2t":"num"},{"t":"btwn","v":"86","vt":"num","v2":"88.9","v2t":"num"},{"t":"btwn","v":"89","vt":"num","v2":"91.9","v2t":"num"},{"t":"btwn","v":"92","vt":"num","v2":"94.9","v2t":"num"},{"t":"btwn","v":"95","vt":"num","v2":"97.9","v2t":"num"},{"t":"btwn","v":"98","vt":"num","v2":"100.9","v2t":"num"},{"t":"btwn","v":"101","vt":"num","v2":"103.9","v2t":"num"},{"t":"btwn","v":"104","vt":"num","v2":"106.9","v2t":"num"},{"t":"btwn","v":"107","vt":"num","v2":"109.9","v2t":"num"},{"t":"btwn","v":"110","vt":"num","v2":"114.9","v2t":"num"}],"checkall":"true","repair":false,"outputs":21,"x":1790,"y":1020,"wires":[["8f27cd5d.b4a3f"],["8895f992.962728"],["588cbe79.6b6a5"],["a78d4bdd.84ae78"],["e889462f.290ef8"],["ae890020.49bf9"],["a913c1cc.86c34"],["4378788a.5126f8"],["e20d0c5c.c3b25"],["7ce8eb84.000ad4"],["367b3571.58507a"],["41662b69.6054d4"],["5414dd03.a935b4"],["511ee21.c113d1c"],["427282c8.35779c"],["8b2df9b4.c69628"],["9a43d3a2.060c3"],["bb8ab4ba.887518"],["858f45aa.faebe8"],["d245f457.a93788"],["828aa425.f8aa88"]]},{"id":"588cbe79.6b6a5","type":"function","z":"af5cc7d3.add988","name":"set \"12\" bar","func":"global.set(\"P2S\",12);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":700,"wires":[[]]},{"id":"a78d4bdd.84ae78","type":"function","z":"af5cc7d3.add988","name":"set \"13\" bar","func":"global.set(\"P2S\",13);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":740,"wires":[[]]},{"id":"e889462f.290ef8","type":"function","z":"af5cc7d3.add988","name":"set \"14\" bar","func":"global.set(\"P2S\",14);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":780,"wires":[[]]},{"id":"a913c1cc.86c34","type":"function","z":"af5cc7d3.add988","name":"set \"16\" bar","func":"global.set(\"P2S\",16);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":860,"wires":[[]]},{"id":"8895f992.962728","type":"function","z":"af5cc7d3.add988","name":"set \"11\" bar","func":"global.set(\"P2S\",11);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":660,"wires":[[]]},{"id":"8f27cd5d.b4a3f","type":"function","z":"af5cc7d3.add988","name":"set \"10\" bar","func":"global.set(\"P2S\",10);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":620,"wires":[[]]},{"id":"4378788a.5126f8","type":"function","z":"af5cc7d3.add988","name":"set \"17\" bar","func":"global.set(\"P2S\",17);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":900,"wires":[[]]},{"id":"e20d0c5c.c3b25","type":"function","z":"af5cc7d3.add988","name":"set \"18\" bar","func":"global.set(\"P2S\",18);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":940,"wires":[[]]},{"id":"ae890020.49bf9","type":"function","z":"af5cc7d3.add988","name":"set \"15\" bar","func":"global.set(\"P2S\",15);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":820,"wires":[[]]},{"id":"fa943b6c.258e48","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"72","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":1420,"wires":[["b3a21f42.ce393"]]},{"id":"ba9433dd.57b1","type":"function","z":"af5cc7d3.add988","name":"driver up down","func":"var p2s = global.get(\"P2S\");\nvar ps   = global.get(\"PS\");\n\nif (p2s > ps) {\n    msg.payload = true;\n    return msg;\n\n    \n}\nelse if (p2s < ps) {\n    msg.payload = false;\n    return msg;\n}\nelse if (p2s == ps) {\n    global.set(\"driverf\",false)\n    global.set(\"sensor\",false)\n    global.set(\"temp1\",true)\n}\n\n\n","outputs":1,"noerr":0,"x":560,"y":2080,"wires":[["cb4cdf61.9163d","9bc5c3dc.4aaa4"]]},{"id":"2e62badd.96c1c6","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"82","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":1500,"wires":[["b3a21f42.ce393"]]},{"id":"cab3b8bc.c043d8","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"87","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":1540,"wires":[["b3a21f42.ce393"]]},{"id":"fe212035.e27ef","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"driverf","payloadType":"global","repeat":"10","crontab":"","once":false,"onceDelay":0.1,"x":260,"y":2080,"wires":[["2b59f6fd.6bc09a"]]},{"id":"5d7eb2d4.7ae19c","type":"function","z":"af5cc7d3.add988","name":"msg.payload = T3","func":"global.set(\"diode\",true)\nvar data    =   global.get(\"T3\");\nmsg.payload =   data\nreturn msg;","outputs":1,"noerr":0,"x":1590,"y":1020,"wires":[["1197ccdd.bbe4b3"]]},{"id":"e0192286.adaa9","type":"switch","z":"af5cc7d3.add988","name":"is true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1430,"y":1020,"wires":[["5d7eb2d4.7ae19c"]]},{"id":"d6fdccd7.5d064","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"temp1","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":1280,"y":1020,"wires":[["e0192286.adaa9"]]},{"id":"57ebaac2.c6d3f4","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1370,"y":2900,"wires":[["fe45ecfe.a94ef"]]},{"id":"fe45ecfe.a94ef","type":"function","z":"af5cc7d3.add988","name":"start","func":"global.set(\"start\",false)\nreturn msg;","outputs":1,"noerr":0,"x":1530,"y":2900,"wires":[[]]},{"id":"58f08fe3.6449d","type":"switch","z":"af5cc7d3.add988","name":"is true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":410,"y":100,"wires":[["8e94d61b.f1d6b8"]]},{"id":"c6e962c0.f1bbc","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1370,"y":2940,"wires":[["8331463a.ce96f8"]]},{"id":"8331463a.ce96f8","type":"function","z":"af5cc7d3.add988","name":"temp1 - temp2 - temp3 - temp4","func":"global.set(\"temp1\",false)\nglobal.set(\"temp2\",false)\nglobal.set(\"temp3\",false)\nglobal.set(\"temp4\",false)\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":2940,"wires":[[]]},{"id":"a33655ce.397198","type":"function","z":"af5cc7d3.add988","name":"msg.payload = T3","func":"var data    =   global.get(\"T3\");\nmsg.payload =   data\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":1640,"wires":[["e5fa098c.141a98"]]},{"id":"e5fa098c.141a98","type":"switch","z":"af5cc7d3.add988","name":"T3 > 95","property":"payload","propertyType":"msg","rules":[{"t":"gt","v":"95","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":1260,"y":1640,"wires":[["1ee6973a.e34da9"]]},{"id":"a85761dd.8de62","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"temp2","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":780,"y":1640,"wires":[["9cc958.d62686a8"]]},{"id":"3209c9e.1883c36","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"77","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":1460,"wires":[["b3a21f42.ce393"]]},{"id":"9cc958.d62686a8","type":"switch","z":"af5cc7d3.add988","name":"is true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":930,"y":1640,"wires":[["a33655ce.397198"]]},{"id":"c96bfb95.e5f308","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1370,"y":2980,"wires":[["12a165b7.99c60a"]]},{"id":"12a165b7.99c60a","type":"function","z":"af5cc7d3.add988","name":"pres1 - pres2 - pres3","func":"global.set(\"pres1\",false)\nglobal.set(\"pres2\",false)\nglobal.set(\"pres3\",false)\nreturn msg;","outputs":1,"noerr":0,"x":1580,"y":2980,"wires":[[]]},{"id":"25bcf3fd.c6437c","type":"function","z":"af5cc7d3.add988","name":"msg.payload = P1","func":"var data    =   global.get(\"P1\");\nmsg.payload =   data\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":1720,"wires":[["7339a01.f5a8d6"]]},{"id":"929d534b.6f1fb","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"pres1","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":780,"y":1720,"wires":[["28cc0f40.b31c6"]]},{"id":"28cc0f40.b31c6","type":"switch","z":"af5cc7d3.add988","name":"is true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":930,"y":1720,"wires":[["25bcf3fd.c6437c"]]},{"id":"72e5bf91.f697c","type":"function","z":"af5cc7d3.add988","name":"msg.payload = P2","func":"var data    =   global.get(\"P2\");\nmsg.payload =   data\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":1760,"wires":[["a8bf856c.a62178"]]},{"id":"d54e891e.f8dae8","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"pres2","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":780,"y":1760,"wires":[["56a945e2.ad97cc"]]},{"id":"56a945e2.ad97cc","type":"switch","z":"af5cc7d3.add988","name":"is true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":930,"y":1760,"wires":[["72e5bf91.f697c"]]},{"id":"1ee6973a.e34da9","type":"function","z":"af5cc7d3.add988","name":"R1 - OFF","func":"global.set(\"R1\",true);\nglobal.set(\"R2\",true);\nglobal.set(\"driverf\",false)\nglobal.set(\"temp1\",false)\nglobal.set(\"temp2\",false)\nglobal.set(\"temp3\",false)\nglobal.set(\"temp4\",false)\nglobal.set(\"pres1\",false)\nglobal.set(\"pres2\",false)\nglobal.set(\"pres3\",false)\nglobal.set(\"sensor\",false)\nglobal.set(\"AS\",false)\nglobal.set(\"check\",false)\nglobal.set(\"check1\",false)\nglobal.set(\"check2\",false)\nglobal.set(\"check3\",false)\nglobal.set(\"diode\",false)\nglobal.set(\"trigger\",false)\nmsg.payload = true\nreturn msg;","outputs":1,"noerr":0,"x":1420,"y":1700,"wires":[["cd50ce55.a0ae5","d339d87c.a1bb68","30762144.86f21e"]]},{"id":"19ab60a4.af814f","type":"function","z":"af5cc7d3.add988","name":"set driver \"0\"","func":"global.set(\"driver\",0);\nglobal.set(\"check3\",true)\nreturn msg;","outputs":1,"noerr":0,"x":1730,"y":1700,"wires":[[]]},{"id":"7339a01.f5a8d6","type":"switch","z":"af5cc7d3.add988","name":"P1 > 13","property":"payload","propertyType":"msg","rules":[{"t":"gt","v":"13","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":1260,"y":1720,"wires":[["1ee6973a.e34da9"]]},{"id":"a8bf856c.a62178","type":"switch","z":"af5cc7d3.add988","name":"P2 > 28","property":"payload","propertyType":"msg","rules":[{"t":"gt","v":"28","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":1260,"y":1760,"wires":[["1ee6973a.e34da9"]]},{"id":"f392c6b8.4989a8","type":"switch","z":"af5cc7d3.add988","name":"","property":"payload","propertyType":"msg","rules":[{"t":"btwn","v":"5.1","vt":"num","v2":"10","v2t":"num"},{"t":"btwn","v":"10.1","vt":"num","v2":"11","v2t":"num"},{"t":"btwn","v":"11.1","vt":"num","v2":"12","v2t":"num"},{"t":"btwn","v":"12.1","vt":"num","v2":"13","v2t":"num"},{"t":"btwn","v":"13.1","vt":"num","v2":"14","v2t":"num"},{"t":"btwn","v":"14.1","vt":"num","v2":"15","v2t":"num"},{"t":"btwn","v":"15.1","vt":"num","v2":"16","v2t":"num"},{"t":"btwn","v":"16.1","vt":"num","v2":"17","v2t":"num"},{"t":"btwn","v":"17.1","vt":"num","v2":"18","v2t":"num"},{"t":"btwn","v":"18.1","vt":"num","v2":"19","v2t":"num"},{"t":"btwn","v":"19.1","vt":"num","v2":"20","v2t":"num"},{"t":"btwn","v":"20.1","vt":"num","v2":"21","v2t":"num"},{"t":"btwn","v":"21.1","vt":"num","v2":"22","v2t":"num"},{"t":"btwn","v":"22.1","vt":"num","v2":"23","v2t":"num"},{"t":"btwn","v":"23.1","vt":"num","v2":"24","v2t":"num"},{"t":"btwn","v":"24.1","vt":"num","v2":"25","v2t":"num"},{"t":"btwn","v":"25.1","vt":"num","v2":"26","v2t":"num"},{"t":"btwn","v":"26.1","vt":"num","v2":"27","v2t":"num"},{"t":"btwn","v":"27.1","vt":"num","v2":"28","v2t":"num"},{"t":"btwn","v":"28.1","vt":"num","v2":"29","v2t":"num"},{"t":"btwn","v":"29.1","vt":"num","v2":"30","v2t":"num"}],"checkall":"true","repair":false,"outputs":21,"x":730,"y":2400,"wires":[["77c538c5.cedec8"],["3ba97f0.178b282"],["5feef257.c2df8c"],["927b558.984a7a8"],["8f121788.c21178"],["bfd43274.03d2f"],["fea147f.48697b8"],["faa88295.33508"],["d5dbb441.5cd4a8"],["445ba687.782da8"],["35d17be8.d61ef4"],["80b69fe2.f83de"],["a69897f.1206368"],["1edf5328.e1225d"],["e4458fe2.027a4"],["f78e201a.31752"],["5a27b494.7dfdac"],["39b1f528.f6bcca"],["300d34a8.067c7c"],["9c8d072a.c6f7d8"],["34d43931.73e576"]]},{"id":"9694179b.dc5fa8","type":"function","z":"af5cc7d3.add988","name":"msg.payload = P2","func":"var data    =   global.get(\"P2\");\nmsg.payload =   data\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":2400,"wires":[["f392c6b8.4989a8"]]},{"id":"83f277ce.653618","type":"debug","z":"af5cc7d3.add988","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1730,"y":2160,"wires":[]},{"id":"77c538c5.cedec8","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",10);\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2160,"wires":[[]]},{"id":"3ba97f0.178b282","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",11);\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2200,"wires":[[]]},{"id":"5feef257.c2df8c","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",12);\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2240,"wires":[[]]},{"id":"927b558.984a7a8","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",13);\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2280,"wires":[[]]},{"id":"8f121788.c21178","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",14);\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2320,"wires":[[]]},{"id":"bfd43274.03d2f","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",15);\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2360,"wires":[[]]},{"id":"fea147f.48697b8","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",16);\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2400,"wires":[[]]},{"id":"faa88295.33508","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",17);\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2440,"wires":[[]]},{"id":"d5dbb441.5cd4a8","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",18);\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2480,"wires":[[]]},{"id":"80c9e55f.f4be18","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"sensor","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":220,"y":2280,"wires":[["df817df.97f0f8"]]},{"id":"2b59f6fd.6bc09a","type":"switch","z":"af5cc7d3.add988","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":410,"y":2080,"wires":[["ba9433dd.57b1"]]},{"id":"7000a9b7.b1def8","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1370,"y":3020,"wires":[["92aa3b94.53e898"]]},{"id":"92aa3b94.53e898","type":"function","z":"af5cc7d3.add988","name":"sensor","func":"global.set(\"sensor\",false)\nreturn msg;","outputs":1,"noerr":0,"x":1530,"y":3020,"wires":[[]]},{"id":"df817df.97f0f8","type":"switch","z":"af5cc7d3.add988","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":390,"y":2360,"wires":[["9694179b.dc5fa8"]]},{"id":"107a53d.aa860ac","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"52","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":1260,"wires":[["b3a21f42.ce393"]]},{"id":"8b48d50f.e37a48","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"92","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":1580,"wires":[["b3a21f42.ce393"]]},{"id":"34ed057e.0f738a","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"105","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":1620,"wires":[["b3a21f42.ce393"]]},{"id":"68c515af.586eec","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"40","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":1220,"wires":[["b3a21f42.ce393"]]},{"id":"f911014a.796e2","type":"function","z":"af5cc7d3.add988","name":"Up Down \"driver\"","func":"//var min = global.get(\"driver_min\")\n//var max = global.get(\"driver_max\")\nvar Value = global.get(\"driver\");\n\nif(msg.payload === true && Value <50){\n    global.set('driver', Value + 1)\n    global.set(\"check\",true)\n    global.set(\"driverf\",false)\n} \n\nif(msg.payload === false && Value >0) {\n    global.set('driver', Value - 1)\n    global.set(\"check\",true)\n    global.set(\"driverf\",false)\n}\nValue = global.get(\"driver\");\nmsg.payload = Value\n\nreturn msg","outputs":1,"noerr":0,"x":910,"y":2080,"wires":[["bd7a1f93.7ea06"]]},{"id":"4c5a95bb.d1387c","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"check","payloadType":"global","repeat":"4","crontab":"","once":false,"onceDelay":0.1,"x":920,"y":2120,"wires":[["90f681d9.242be"]]},{"id":"30f6bb0c.49f3d4","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload\nif (data === true) {\n    msg.payload = global.get(\"driver\")\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1190,"y":2120,"wires":[["5642978f.2838b8"]]},{"id":"90f681d9.242be","type":"switch","z":"af5cc7d3.add988","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1070,"y":2120,"wires":[["30f6bb0c.49f3d4"]]},{"id":"18b6344.1487fcc","type":"function","z":"af5cc7d3.add988","name":"Set modbus1","func":"global.set(\"modbus1\", msg.payload)\n","outputs":1,"noerr":0,"x":1490,"y":2180,"wires":[[]]},{"id":"5642978f.2838b8","type":"range","z":"af5cc7d3.add988","minin":"0","maxin":"50","minout":"0","maxout":"1000","action":"scale","round":false,"property":"payload","name":"","x":1320,"y":2120,"wires":[["18b6344.1487fcc","4fc150b4.7bf96"]]},{"id":"3c1236d8.7bc19a","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1370,"y":3140,"wires":[["c8ee1945.b42c58"]]},{"id":"c8ee1945.b42c58","type":"function","z":"af5cc7d3.add988","name":"modbus 1-2-3-4   \"0\"","func":"global.set(\"modbus1\",0)\nglobal.set(\"modbus2\",0)\nglobal.set(\"modbus3\",0)\nglobal.set(\"modbus4\",0)\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":3140,"wires":[[]]},{"id":"3c9f0591.8a018a","type":"function","z":"af5cc7d3.add988","name":"msg.payload.value","func":"global.set(\"value\",msg.payload.value)\nvar data = msg.payload.value\nvar modbus = global.get(\"modbus1\")\nif (data == modbus ) {\n    global.set(\"check\",false)\n    global.set(\"driverf\",true)\n    msg.payload = false\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1730,"y":2080,"wires":[[]]},{"id":"237863ae.ee922c","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1370,"y":3180,"wires":[["f10341dd.d74cf"]]},{"id":"f10341dd.d74cf","type":"function","z":"af5cc7d3.add988","name":"Global set \"false\"  checks","func":"global.set(\"check\",false);\nglobal.set(\"check1\",false);\nglobal.set(\"check2\",false);\nglobal.set(\"check3\",false);\n","outputs":1,"noerr":0,"x":1590,"y":3180,"wires":[[]]},{"id":"9b7b9292.66383","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"check1","payloadType":"global","repeat":"4","crontab":"","once":false,"onceDelay":0.1,"x":240,"y":240,"wires":[["394b30a7.2e62b"]]},{"id":"394b30a7.2e62b","type":"switch","z":"af5cc7d3.add988","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":390,"y":240,"wires":[["c698a573.a31a48"]]},{"id":"f946d2b6.f2fc5","type":"range","z":"af5cc7d3.add988","minin":"0","maxin":"50","minout":"0","maxout":"1000","action":"scale","round":false,"property":"payload","name":"","x":660,"y":200,"wires":[["6972940e.e950ec","44a54895.274888"]]},{"id":"4fd66520.67f7fc","type":"function","z":"af5cc7d3.add988","name":"msg.payload.value","func":"global.set(\"value1\",msg.payload.value);\nvar data = msg.payload.value;\nvar modbus = global.get(\"modbus2\");\nif (data == modbus ) {\n    global.set(\"check1\",false);\n    global.set(\"trigger\",true);\n    msg.payload = true;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1050,"y":200,"wires":[["27bf2877.e529f8","40eca1e3.bc41d"]]},{"id":"948cda44.a3e088","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1370,"y":3100,"wires":[["aee26ceb.c29a"]]},{"id":"aee26ceb.c29a","type":"function","z":"af5cc7d3.add988","name":"\"AS\"","func":"global.set(\"AS\",false)\nreturn msg;","outputs":1,"noerr":0,"x":1530,"y":3100,"wires":[[]]},{"id":"1eab824a.6ba86e","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"check3","payloadType":"global","repeat":"4","crontab":"","once":false,"onceDelay":0.1,"x":1000,"y":1960,"wires":[["408f169.7e86de8"]]},{"id":"408f169.7e86de8","type":"switch","z":"af5cc7d3.add988","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1150,"y":1960,"wires":[["bd99223.e9ff0e"]]},{"id":"bd99223.e9ff0e","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload\nif (data === true) {\n    msg.payload = global.get(\"driver\")\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1270,"y":1960,"wires":[["a6afd553.56b408"]]},{"id":"a6afd553.56b408","type":"range","z":"af5cc7d3.add988","minin":"0","maxin":"50","minout":"0","maxout":"1000","action":"scale","round":false,"property":"payload","name":"","x":1400,"y":1960,"wires":[["8cbcce44.09027","a18b641f.1a6b78"]]},{"id":"8cbcce44.09027","type":"function","z":"af5cc7d3.add988","name":"Set modbus4","func":"global.set(\"modbus4\", msg.payload)\n","outputs":1,"noerr":0,"x":1570,"y":2020,"wires":[[]]},{"id":"822c7750.fcc658","type":"function","z":"af5cc7d3.add988","name":"msg.payload.value","func":"global.set(\"value3\",msg.payload.value)\nvar data = msg.payload.value\nvar modbus = global.get(\"modbus4\")\nif (data == modbus ) {\n    global.set(\"check3\",false)\n    global.set(\"start\",true)\n    msg.payload = true\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1790,"y":1920,"wires":[[]]},{"id":"44a54895.274888","type":"modbus-write","z":"af5cc7d3.add988","name":"","showStatusActivities":false,"showErrors":false,"unitid":"4","dataType":"HoldingRegister","adr":"0","quantity":"1","server":"ea293a6f.f7aab8","x":840,"y":200,"wires":[["f7331e63.7d52c","4fd66520.67f7fc"],[]]},{"id":"f7331e63.7d52c","type":"debug","z":"af5cc7d3.add988","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1030,"y":260,"wires":[]},{"id":"e11798a5.2217a8","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":250,"y":320,"wires":[["44a54895.274888"]]},{"id":"4fc150b4.7bf96","type":"modbus-write","z":"af5cc7d3.add988","name":"","showStatusActivities":false,"showErrors":false,"unitid":"4","dataType":"HoldingRegister","adr":"0","quantity":"1","server":"ea293a6f.f7aab8","x":1500,"y":2120,"wires":[["3c9f0591.8a018a","83f277ce.653618"],[]]},{"id":"a18b641f.1a6b78","type":"modbus-write","z":"af5cc7d3.add988","name":"","showStatusActivities":false,"showErrors":false,"unitid":"4","dataType":"HoldingRegister","adr":"0","quantity":"1","server":"ea293a6f.f7aab8","x":1580,"y":1960,"wires":[["822c7750.fcc658","c341e219.843ff"],[]]},{"id":"6e692100.d85c2","type":"comment","z":"af5cc7d3.add988","name":"Marş - 1","info":"","x":800,"y":320,"wires":[]},{"id":"c341e219.843ff","type":"debug","z":"af5cc7d3.add988","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1790,"y":2000,"wires":[]},{"id":"c7af64d5.483368","type":"function","z":"af5cc7d3.add988","name":"P2 > 14.9","func":"var data = global.get(\"P2\");\nif (data > 10) {\n    global.set(\"trigger\",false);\n    msg.payload = true;\n    return msg;\n}\nelse if (data < 10) {\n    msg.payload = false;\n    return msg;\n    \n}","outputs":1,"noerr":0,"x":540,"y":380,"wires":[["e9487b26.4e68f8","14b5bcbf.97ff33"]]},{"id":"9223bb2e.085b88","type":"function","z":"af5cc7d3.add988","name":"msg.payload = P2","func":"var data    =   global.get(\"P2\");\nmsg.payload =   data\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":1800,"wires":[["77bdec02.b43384"]]},{"id":"416e8a2a.838fd4","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"pres3","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":780,"y":1800,"wires":[["37c6a5c9.e0344a"]]},{"id":"37c6a5c9.e0344a","type":"switch","z":"af5cc7d3.add988","name":"is true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":930,"y":1800,"wires":[["9223bb2e.085b88"]]},{"id":"77bdec02.b43384","type":"switch","z":"af5cc7d3.add988","name":"P2 < 5","property":"payload","propertyType":"msg","rules":[{"t":"lt","v":"5","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":1250,"y":1800,"wires":[["1ee6973a.e34da9"]]},{"id":"f9446b72.84c0c8","type":"debug","z":"af5cc7d3.add988","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":980,"y":2020,"wires":[]},{"id":"6d3ffbc8.1f37e4","type":"function","z":"af5cc7d3.add988","name":"","func":"msg.reset = true\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3160,"wires":[["1098e581.4783da"]]},{"id":"bd8b7854.23ba08","type":"link in","z":"af5cc7d3.add988","name":"","links":["1098e581.4783da","9555da57.8c2c38","3e7a19f3.f95c06"],"x":1395,"y":1620,"wires":[["cd50ce55.a0ae5","a19247c3.0402f8"]]},{"id":"1098e581.4783da","type":"link out","z":"af5cc7d3.add988","name":"","links":["bd8b7854.23ba08","36c236a3.10aa2a","8c62ae3a.4d3ff","2a3ec99c.4f0bc6","e9e9ed97.b4ed5","26176876.b11b08","f9c3a430.98fac8","36be4a75.f91cb6","37e00632.e7369a","a78626af.4299d8","c0e961b7.873df","60c2dd2.89b9624","11fb5191.c4035e","5ed9d17.f74ee3","2683aaa8.1e3d66"],"x":835,"y":3160,"wires":[]},{"id":"c5bb2cd1.8c13e","type":"rpi-gpio out","z":"af5cc7d3.add988","name":"R4","pin":"15","set":"","level":"0","freq":"","out":"out","x":430,"y":2820,"wires":[]},{"id":"213553e9.0caadc","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"R4","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":250,"y":2880,"wires":[["c5bb2cd1.8c13e","6cb72d11.058994"]]},{"id":"6cb72d11.058994","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload\nif (data === true) {\n    msg.payload = \"Kapalı\"\n    return msg;\n}\nelse if (data === false) {\n    msg.payload = \"Açık\"\n    return msg;\n}\n","outputs":1,"noerr":0,"x":410,"y":2880,"wires":[["f98a6568.16f028"]]},{"id":"f98a6568.16f028","type":"ui_text","z":"af5cc7d3.add988","group":"cb9ec97e.b45568","order":4,"width":"7","height":"1","name":"","label":"R4","format":"{{msg.payload}}","layout":"row-spread","x":530,"y":2880,"wires":[]},{"id":"29c0e57a.d20e5a","type":"delay","z":"af5cc7d3.add988","name":"","pauseType":"delay","timeout":"10","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1080,"y":380,"wires":[["741dcd30.89ada4"]]},{"id":"30cae1c1.cf490e","type":"function","z":"af5cc7d3.add988","name":"R4-ON","func":"var t3 = global.get(\"T3\")\nvar p2 = global.get(\"P2\")\n\nif (t3 > 50 && p2 > 8 ) {\n    global.set(\"R4\",false)\n    global.set(\"diode\",false)\n}\n","outputs":1,"noerr":0,"x":1050,"y":1900,"wires":[[]]},{"id":"b19f625.1ce22a","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1370,"y":3220,"wires":[["673300ba.58e26"]]},{"id":"673300ba.58e26","type":"function","z":"af5cc7d3.add988","name":"values","func":"global.set(\"value\", undefined)\nglobal.set(\"value1\", undefined)\nglobal.set(\"value2\", undefined)\nglobal.set(\"value3\", undefined)\nreturn msg;","outputs":1,"noerr":0,"x":1530,"y":3220,"wires":[[]]},{"id":"57587077.8e095","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload ;\nif (data === true) {\n    msg.payload = \"Sistem Hazır\" ;\n    return msg;\n}\nelse if (data === false){\n    msg.payload = \"Sistem Hazırlanıyor\" ;\n    return msg;\n}\nelse {\n    msg.payload = \" \" ;\n    return msg;\n}","outputs":1,"noerr":0,"x":950,"y":3380,"wires":[["ba7dabdb.7faf38","80402760.d65ee8"]]},{"id":"80402760.d65ee8","type":"ui_text","z":"af5cc7d3.add988","group":"cb9ec97e.b45568","order":5,"width":"7","height":"1","name":"","label":"Sistem Durumu","format":"{{msg.payload}}","layout":"row-spread","x":1180,"y":3320,"wires":[]},{"id":"6711425e.ef8e5c","type":"ui_toast","z":"af5cc7d3.add988","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"OK","cancel":"","topic":"","name":"","x":1230,"y":3400,"wires":[[]]},{"id":"d821bfb2.b3c22","type":"delay","z":"af5cc7d3.add988","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":740,"y":3080,"wires":[["d8609350.57a2c"]]},{"id":"2625bb33.040d24","type":"function","z":"af5cc7d3.add988","name":"","func":"var T1 = msg.payload[0] /10\nvar T2 = msg.payload[1] /10\nvar T3 = msg.payload[2] /10\nvar T4 = msg.payload[3] /10\nvar T5 = msg.payload[4] /10\nvar T6 = msg.payload[5] /10\n\nif (T1 != 850) {\n    global.set(\"T1\",T1)\n}\nif (T2 != 850) {\n    global.set(\"T2\",T2)\n    \n}\nif (T3 != 850) {\n    global.set(\"T3\",T3)\n    \n}\nif (T4 != 850) {\n    global.set(\"T4\",T4)\n    \n}\nif (T5 != 850) {\n    global.set(\"T5\",T5)\n    \n}\nif (T6 != 850) {\n    global.set(\"T6\",T6)\n    \n}\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":4100,"wires":[[]]},{"id":"99f71a2a.634b18","type":"function","z":"af5cc7d3.add988","name":"","func":"var P1 = msg.payload[0] /100\n\nmsg.payload = P1\n\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":4380,"wires":[["655488af.ba4638"]]},{"id":"655488af.ba4638","type":"range","z":"af5cc7d3.add988","minin":"0","maxin":"10","minout":"0","maxout":"25","action":"scale","round":false,"property":"payload","name":"","x":670,"y":4380,"wires":[["27dd074e.bd3a38"]]},{"id":"e53f6233.53de9","type":"function","z":"af5cc7d3.add988","name":"","func":"var P2 = msg.payload[1] /100\n\nmsg.payload = P2\n\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":4420,"wires":[["318e6164.9a097e"]]},{"id":"318e6164.9a097e","type":"range","z":"af5cc7d3.add988","minin":"0","maxin":"10","minout":"0","maxout":"50","action":"scale","round":false,"property":"payload","name":"","x":670,"y":4420,"wires":[["3be455bd.3cb68a"]]},{"id":"432aa12f.f465b","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"P1\",msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":910,"y":4380,"wires":[[]]},{"id":"c2056d61.81236","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"P2\",msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":910,"y":4420,"wires":[[]]},{"id":"27dd074e.bd3a38","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = parseFloat(msg.payload.toFixed(2));\nmsg.payload = data\nreturn msg;","outputs":1,"noerr":0,"x":790,"y":4380,"wires":[["432aa12f.f465b"]]},{"id":"3be455bd.3cb68a","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = parseFloat(msg.payload.toFixed(2));\nmsg.payload = data\nreturn msg;","outputs":1,"noerr":0,"x":790,"y":4420,"wires":[["c2056d61.81236"]]},{"id":"27bf2877.e529f8","type":"delay","z":"af5cc7d3.add988","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1380,"y":120,"wires":[["780294c9.3bcbac","c3ea6cda.67d27","25cf37df.774648"]]},{"id":"780294c9.3bcbac","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload;\nif (data === true) {\n    global.set(\"temp1\",true)\n    global.set(\"temp2\",true)\n    global.set(\"temp3\",true)\n    global.set(\"pres1\",true)\n    global.set(\"pres2\",true)\n    global.set(\"pres3\",true)\n    global.set(\"trigger\",false)\n    msg.payload = true\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1530,"y":120,"wires":[["9be1cd89.1cdc1"]]},{"id":"9be1cd89.1cdc1","type":"debug","z":"af5cc7d3.add988","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1750,"y":100,"wires":[]},{"id":"741dcd30.89ada4","type":"function","z":"af5cc7d3.add988","name":"P2 > 15.9","func":"var p2      =   global.get(\"P2\")\nif ( p2 > 11) {\n    msg.payload = true\n    return msg;\n}\nelse if (p2 < 11) {\n    global.set(\"temp1\",true)\n    global.set(\"temp2\",true)\n    global.set(\"temp3\",true)\n    global.set(\"pres1\",true)\n    global.set(\"pres2\",true)\n    global.set(\"pres3\",true)\n    msg.payload = false;\n    return msg;\n\n}","outputs":1,"noerr":0,"x":400,"y":540,"wires":[["e4058678.9d9508","421d168d.ae81b8","14b5bcbf.97ff33"]]},{"id":"b7a1a4b1.040638","type":"ui_button","z":"af5cc7d3.add988","name":"","group":"89993eec.6483d","order":2,"width":"4","height":"3","passthru":false,"label":"OFF","tooltip":"","color":"","bgcolor":"red","icon":"","payload":"false","payloadType":"bool","topic":"","x":290,"y":3240,"wires":[["b6a19aea.9bcbb8","d14029bc.0c01a8","8b1828b5.45c6a8"]]},{"id":"d88919d.5bab4e8","type":"ui_button","z":"af5cc7d3.add988","name":"","group":"89993eec.6483d","order":1,"width":"4","height":"3","passthru":false,"label":"ON","tooltip":"","color":"","bgcolor":"green","icon":"","payload":"true","payloadType":"bool","topic":"","x":210,"y":3040,"wires":[["b6a19aea.9bcbb8"]]},{"id":"dcf8becd.c6b52","type":"ui_toast","z":"af5cc7d3.add988","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"OK","cancel":"","topic":"","name":"","x":830,"y":3240,"wires":[[]]},{"id":"8b1828b5.45c6a8","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload;\nif (data === false) {\n    msg.payload = \"Kapatma Başarılı\"\n}\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":3240,"wires":[["8f6d2b7c.81f3e8"]]},{"id":"ba7dabdb.7faf38","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload ;\nif (data !== true) {\n    return msg;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":3400,"wires":[["6711425e.ef8e5c"]]},{"id":"8f6d2b7c.81f3e8","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload ;\nif (data !== true) {\n    return msg;\n}\n","outputs":1,"noerr":0,"x":690,"y":3240,"wires":[["dcf8becd.c6b52"]]},{"id":"6c935ab3.9aee14","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1370,"y":3260,"wires":[["231ad182.a6887e"]]},{"id":"231ad182.a6887e","type":"function","z":"af5cc7d3.add988","name":"diode","func":"global.set(\"diode\", false)\nglobal.set(\"trigger\",false)\nglobal.set(\"stop\",false)\n\n\nreturn msg;","outputs":1,"noerr":0,"x":1530,"y":3260,"wires":[[]]},{"id":"7987d86c.a36148","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"diode","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":790,"y":1900,"wires":[["ba0f15c1.6a53d8"]]},{"id":"ba0f15c1.6a53d8","type":"switch","z":"af5cc7d3.add988","name":"is true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":930,"y":1900,"wires":[["30cae1c1.cf490e"]]},{"id":"b6a19aea.9bcbb8","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"start\",msg.payload);\nvar data = msg.payload ;\nif (data === true) {\n    msg.payload = \"Start Verildi\"\n    return msg;\n}","outputs":1,"noerr":0,"x":390,"y":3040,"wires":[["9954cab2.e87978"]]},{"id":"d14029bc.0c01a8","type":"function","z":"af5cc7d3.add988","name":"","func":"var data    =   msg.payload;\nif (data === false) {\n    msg.payload =   true;\n    return msg;\n}","outputs":1,"noerr":0,"x":590,"y":3080,"wires":[["d821bfb2.b3c22","1fa92992.428126","6d3ffbc8.1f37e4","5802ffbc.2e52c","8331463a.ce96f8","12a165b7.99c60a","92aa3b94.53e898","757abb5f.0305d4","aee26ceb.c29a","c8ee1945.b42c58","f10341dd.d74cf","673300ba.58e26","231ad182.a6887e"]]},{"id":"36c236a3.10aa2a","type":"link in","z":"af5cc7d3.add988","name":"","links":["1098e581.4783da","9555da57.8c2c38","3e7a19f3.f95c06"],"x":775,"y":140,"wires":[["b279853f.1c2618"]]},{"id":"2a3ec99c.4f0bc6","type":"link in","z":"af5cc7d3.add988","name":"","links":["1098e581.4783da","9555da57.8c2c38","3e7a19f3.f95c06"],"x":975,"y":420,"wires":[["29c0e57a.d20e5a"]]},{"id":"26176876.b11b08","type":"link in","z":"af5cc7d3.add988","name":"","links":["1098e581.4783da","9555da57.8c2c38","3e7a19f3.f95c06"],"x":695,"y":420,"wires":[["c0802926.950c98"]]},{"id":"36be4a75.f91cb6","type":"link in","z":"af5cc7d3.add988","name":"","links":["1098e581.4783da","9555da57.8c2c38","3e7a19f3.f95c06"],"x":1295,"y":80,"wires":[["27bf2877.e529f8"]]},{"id":"fc34c1d9.3fa24","type":"link in","z":"af5cc7d3.add988","name":"","links":["7ff3c7b3.4029a8","3f52e993.ef0336"],"x":1355,"y":2160,"wires":[["4fc150b4.7bf96"]]},{"id":"72f38571.7fe3bc","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"trigger","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":260,"y":380,"wires":[["ff01c6e3.8e8898"]]},{"id":"ff01c6e3.8e8898","type":"switch","z":"af5cc7d3.add988","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":410,"y":380,"wires":[["c7af64d5.483368"]]},{"id":"b7564675.912ff8","type":"function","z":"af5cc7d3.add988","name":"R2-OFF","func":"var data = msg.payload\nif (data === true) {\n    global.set(\"R2\",true)\n    msg.payload = true\n    return msg;\n    \n}","outputs":1,"noerr":0,"x":940,"y":540,"wires":[["82e9fdfe.150ca"]]},{"id":"75fe8e7b.dc574","type":"delay","z":"af5cc7d3.add988","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":800,"y":540,"wires":[["b7564675.912ff8"]]},{"id":"850dc08f.c5c5d","type":"function","z":"af5cc7d3.add988","name":"R2-ON","func":"var data    =   msg.payload\nif (data === true) {\n    global.set(\"R2\",false)\n    msg.payload = true\n    return msg;\n    \n}","outputs":1,"noerr":0,"x":650,"y":540,"wires":[["75fe8e7b.dc574"]]},{"id":"a78626af.4299d8","type":"link in","z":"af5cc7d3.add988","name":"","links":["1098e581.4783da","9555da57.8c2c38","3e7a19f3.f95c06"],"x":695,"y":580,"wires":[["75fe8e7b.dc574"]]},{"id":"bccb593c.c49188","type":"comment","z":"af5cc7d3.add988","name":"Marş - 2","info":"","x":800,"y":480,"wires":[]},{"id":"c0e961b7.873df","type":"link in","z":"af5cc7d3.add988","name":"","links":["1098e581.4783da","9555da57.8c2c38","3e7a19f3.f95c06"],"x":995,"y":580,"wires":[["82e9fdfe.150ca"]]},{"id":"82e9fdfe.150ca","type":"delay","z":"af5cc7d3.add988","name":"","pauseType":"delay","timeout":"10","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1100,"y":540,"wires":[["1240b0a1.6ddadf"]]},{"id":"1240b0a1.6ddadf","type":"function","z":"af5cc7d3.add988","name":"P2 > 16.9","func":"var p2      =   global.get(\"P2\")\nif ( p2 > 12) {\n    msg.payload = true\n    return msg;\n}\nelse if (p2 < 12) {\n    global.set(\"temp1\",true)\n    global.set(\"temp2\",true)\n    global.set(\"temp3\",true)\n    global.set(\"pres1\",true)\n    global.set(\"pres2\",true)\n    global.set(\"pres3\",true)\n    msg.payload = false ;\n    return msg;\n \n}","outputs":1,"noerr":0,"x":420,"y":800,"wires":[["2287be5a.706fd2","421d168d.ae81b8","14b5bcbf.97ff33"]]},{"id":"f26526c5.a5e268","type":"function","z":"af5cc7d3.add988","name":"R2-OFF","func":"var data = msg.payload\nif (data === true) {\n    global.set(\"R2\",true)\n    msg.payload = true\n    return msg;\n    \n}","outputs":1,"noerr":0,"x":940,"y":800,"wires":[["c1554e1e.a5d96"]]},{"id":"c6907e4d.a49f8","type":"delay","z":"af5cc7d3.add988","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":800,"y":800,"wires":[["f26526c5.a5e268"]]},{"id":"285bc63a.34ae2a","type":"function","z":"af5cc7d3.add988","name":"R2-ON","func":"var data    =   msg.payload\nif (data === true) {\n    global.set(\"R2\",false)\n    msg.payload = true\n    return msg;\n    \n}","outputs":1,"noerr":0,"x":670,"y":800,"wires":[["c6907e4d.a49f8"]]},{"id":"60c2dd2.89b9624","type":"link in","z":"af5cc7d3.add988","name":"","links":["1098e581.4783da","9555da57.8c2c38","3e7a19f3.f95c06"],"x":695,"y":840,"wires":[["c6907e4d.a49f8"]]},{"id":"df9defe3.b4885","type":"comment","z":"af5cc7d3.add988","name":"Marş - 3","info":"","x":800,"y":740,"wires":[]},{"id":"11fb5191.c4035e","type":"link in","z":"af5cc7d3.add988","name":"","links":["1098e581.4783da","9555da57.8c2c38","3e7a19f3.f95c06"],"x":995,"y":840,"wires":[["c1554e1e.a5d96"]]},{"id":"c1554e1e.a5d96","type":"delay","z":"af5cc7d3.add988","name":"","pauseType":"delay","timeout":"10","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1100,"y":800,"wires":[["fdcd8c5a.ca29d"]]},{"id":"fdcd8c5a.ca29d","type":"function","z":"af5cc7d3.add988","name":"P2 > 17.9","func":"var p2      =   global.get(\"P2\")\nif ( p2 > 13) {\n    msg.payload = true\n    return msg;\n}\nelse if (p2 < 13) {\n    global.set(\"temp1\",true)\n    global.set(\"temp2\",true)\n    global.set(\"temp3\",true)\n    global.set(\"pres1\",true)\n    global.set(\"pres2\",true)\n    global.set(\"pres3\",true)\n    msg.payload = false\n    return msg;\n    \n}","outputs":1,"noerr":0,"x":1260,"y":840,"wires":[["421d168d.ae81b8","1a2de852.dc7d68","d37d8018.0c852","14b5bcbf.97ff33"]]},{"id":"61c9ccbb.405744","type":"link out","z":"af5cc7d3.add988","name":"","links":["f7bf62d7.7f18f"],"x":1515,"y":840,"wires":[]},{"id":"f7bf62d7.7f18f","type":"link in","z":"af5cc7d3.add988","name":"","links":["61c9ccbb.405744"],"x":1295,"y":1540,"wires":[["1ee6973a.e34da9"]]},{"id":"37ab2f44.83e92","type":"comment","z":"af5cc7d3.add988","name":"Acil Stop","info":"","x":1280,"y":780,"wires":[]},{"id":"9954cab2.e87978","type":"ui_toast","z":"af5cc7d3.add988","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"OK","cancel":"","topic":"","name":"","x":530,"y":3040,"wires":[[]]},{"id":"c3ea6cda.67d27","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload;\nif (data === true) {\n    msg.reset = true\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1510,"y":180,"wires":[["5fad7e0a.c83c9"]]},{"id":"5fad7e0a.c83c9","type":"link out","z":"af5cc7d3.add988","name":"","links":["38396149.c441ee","b8c8a9bf.0041c8","17450d30.51c603","d0ca06fe.bf2148","e48f1046.1c61b","e0ea4ba9.7da3c8"],"x":1640,"y":180,"wires":[]},{"id":"38396149.c441ee","type":"link in","z":"af5cc7d3.add988","name":"","links":["5fad7e0a.c83c9"],"x":695,"y":340,"wires":[["c0802926.950c98"]]},{"id":"b8c8a9bf.0041c8","type":"link in","z":"af5cc7d3.add988","name":"","links":["5fad7e0a.c83c9"],"x":975,"y":340,"wires":[["29c0e57a.d20e5a"]]},{"id":"17450d30.51c603","type":"link in","z":"af5cc7d3.add988","name":"","links":["5fad7e0a.c83c9"],"x":695,"y":500,"wires":[["75fe8e7b.dc574"]]},{"id":"d0ca06fe.bf2148","type":"link in","z":"af5cc7d3.add988","name":"","links":["5fad7e0a.c83c9"],"x":995,"y":500,"wires":[["82e9fdfe.150ca"]]},{"id":"e48f1046.1c61b","type":"link in","z":"af5cc7d3.add988","name":"","links":["5fad7e0a.c83c9"],"x":695,"y":760,"wires":[["c6907e4d.a49f8"]]},{"id":"e0ea4ba9.7da3c8","type":"link in","z":"af5cc7d3.add988","name":"","links":["5fad7e0a.c83c9"],"x":975,"y":760,"wires":[["c1554e1e.a5d96"]]},{"id":"421d168d.ae81b8","type":"switch","z":"af5cc7d3.add988","name":"false","property":"payload","propertyType":"msg","rules":[{"t":"false"}],"checkall":"true","repair":false,"outputs":1,"x":550,"y":620,"wires":[["85b5d1de.93e1d"]]},{"id":"e4058678.9d9508","type":"switch","z":"af5cc7d3.add988","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":530,"y":540,"wires":[["850dc08f.c5c5d"]]},{"id":"2287be5a.706fd2","type":"switch","z":"af5cc7d3.add988","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":550,"y":800,"wires":[["285bc63a.34ae2a"]]},{"id":"c7800002.3d36d","type":"function","z":"af5cc7d3.add988","name":"","func":"msg.reset = true\nreturn msg;","outputs":1,"noerr":0,"x":790,"y":620,"wires":[["f216162e.319f68"]]},{"id":"f216162e.319f68","type":"link out","z":"af5cc7d3.add988","name":"","links":["98af395a.d9bbc8"],"x":875,"y":620,"wires":[]},{"id":"98af395a.d9bbc8","type":"link in","z":"af5cc7d3.add988","name":"","links":["f216162e.319f68"],"x":1195,"y":80,"wires":[["27bf2877.e529f8","6c83c928.8591d8"]]},{"id":"85b5d1de.93e1d","type":"function","z":"af5cc7d3.add988","name":"","func":"var data    =   msg.payload;\nif (data === false) {\n    msg.payload =   true;\n    return msg;\n}","outputs":1,"noerr":0,"x":670,"y":620,"wires":[["c7800002.3d36d"]]},{"id":"32ee2860.b6aeb8","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"temp3","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":780,"y":1680,"wires":[["e2032aaa.cf0de8"]]},{"id":"e2032aaa.cf0de8","type":"switch","z":"af5cc7d3.add988","name":"is true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":930,"y":1680,"wires":[["348867c9.959278"]]},{"id":"348867c9.959278","type":"function","z":"af5cc7d3.add988","name":"msg.payload = T3","func":"var data    =   global.get(\"T3\");\nmsg.payload =   data\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":1680,"wires":[["1ae42599.c3233a"]]},{"id":"1ae42599.c3233a","type":"switch","z":"af5cc7d3.add988","name":"T3 < 30","property":"payload","propertyType":"msg","rules":[{"t":"lt","v":"30","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":1260,"y":1680,"wires":[["1ee6973a.e34da9"]]},{"id":"b78f4734.0e9558","type":"function","z":"af5cc7d3.add988","name":"P1","func":"global.set(\"P1\",msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":920,"wires":[[]]},{"id":"5b7001ec.dafbb","type":"function","z":"af5cc7d3.add988","name":"P2","func":"global.set(\"P2\",msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":1020,"wires":[[]]},{"id":"b9effaaa.67a438","type":"debug","z":"af5cc7d3.add988","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":900,"y":160,"wires":[]},{"id":"4f2a435c.1c68ac","type":"function","z":"af5cc7d3.add988","name":"","func":"msg.payload = 0\nglobal.set(\"stop\",false)\nreturn msg;","outputs":1,"noerr":0,"x":690,"y":3320,"wires":[["3f52e993.ef0336"]]},{"id":"3f52e993.ef0336","type":"link out","z":"af5cc7d3.add988","name":"","links":["1ba41dd8.f03492","87b4f24.3febe1","f0e38571.924db8","fc34c1d9.3fa24","838ce784.849f28","2fd23349.6d3b4c"],"x":775,"y":3320,"wires":[]},{"id":"d8609350.57a2c","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"stop\",true)\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":3080,"wires":[[]]},{"id":"b83b6abe.5a8c38","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"stop","payloadType":"global","repeat":"2","crontab":"","once":false,"onceDelay":0.1,"x":430,"y":3320,"wires":[["b8bfbdb2.1028f"]]},{"id":"b8bfbdb2.1028f","type":"switch","z":"af5cc7d3.add988","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":570,"y":3320,"wires":[["4f2a435c.1c68ac","ec47cb14.e60ca8"]]},{"id":"de916fbc.4ce04","type":"function","z":"af5cc7d3.add988","name":"","func":"var v   =   global.get(\"value\");\n//var v1  =   global.get(\"value1\");\n//var v2  =   global.get(\"value2\");\n//var v3  =   global.get(\"value3\");\nif (v === 0) {\n    msg.payload = true;\n    return msg;\n}\nelse {\n    global.set(\"stop\",true)\n    msg.payload = false;\n    return msg;\n}","outputs":1,"noerr":0,"x":830,"y":3380,"wires":[["57587077.8e095","f9c51a94.cf3b38"]]},{"id":"ec47cb14.e60ca8","type":"delay","z":"af5cc7d3.add988","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":700,"y":3380,"wires":[["de916fbc.4ce04"]]},{"id":"1a2de852.dc7d68","type":"debug","z":"af5cc7d3.add988","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1450,"y":800,"wires":[]},{"id":"5011c74d.a72ca8","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"15.5","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":900,"wires":[["5b7001ec.dafbb"]]},{"id":"9cf4fdad.f4fa7","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"8","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":860,"wires":[["b78f4734.0e9558","5b7001ec.dafbb"]]},{"id":"9282c6bd.3cb148","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"17.5","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":980,"wires":[["5b7001ec.dafbb"]]},{"id":"67928ad4.61db24","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"16.5","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":940,"wires":[["5b7001ec.dafbb"]]},{"id":"92e934d0.5f1b28","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"18.5","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":1020,"wires":[["5b7001ec.dafbb"]]},{"id":"2148f7a9.451d58","type":"function","z":"af5cc7d3.add988","name":"","func":"var data    =   msg.payload;\nif (data === true) {\n    msg.payload =   true;\n    return msg;\n}","outputs":1,"noerr":0,"x":1010,"y":3260,"wires":[["1fa92992.428126","5802ffbc.2e52c","8331463a.ce96f8","12a165b7.99c60a","92aa3b94.53e898","757abb5f.0305d4","aee26ceb.c29a","c8ee1945.b42c58","f10341dd.d74cf","673300ba.58e26","231ad182.a6887e"]]},{"id":"f9c51a94.cf3b38","type":"delay","z":"af5cc7d3.add988","name":"","pauseType":"delay","timeout":"0.5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":930,"y":3320,"wires":[["2148f7a9.451d58"]]},{"id":"d37d8018.0c852","type":"switch","z":"af5cc7d3.add988","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1430,"y":840,"wires":[["61c9ccbb.405744"]]},{"id":"1432c47e.00645c","type":"ui_gauge","z":"af5cc7d3.add988","name":"","group":"44ed6a4f.75d0f4","order":1,"width":"4","height":"3","gtype":"donut","title":"5 dk","label":"units","format":"{{value}}","min":0,"max":"300","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":490,"y":3540,"wires":[]},{"id":"b7e4799.5742588","type":"ui_gauge","z":"af5cc7d3.add988","name":"","group":"44ed6a4f.75d0f4","order":2,"width":"4","height":"3","gtype":"donut","title":"3 dk","label":"units","format":"{{value}}","min":0,"max":"180","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":490,"y":3580,"wires":[]},{"id":"9897bf10.1dced","type":"switch","z":"af5cc7d3.add988","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1390,"y":620,"wires":[["c7565cd3.fc1c4"]]},{"id":"eb9304f1.09d858","type":"switch","z":"af5cc7d3.add988","name":"false","property":"payload","propertyType":"msg","rules":[{"t":"false"}],"checkall":"true","repair":false,"outputs":1,"x":1390,"y":660,"wires":[["c7565cd3.fc1c4"]]},{"id":"9ee7f5dc.280738","type":"function","z":"af5cc7d3.add988","name":"driver up down","func":"msg.payload = global.get(\"trig\");\nreturn msg;\n","outputs":1,"noerr":0,"x":1440,"y":540,"wires":[["9897bf10.1dced","eb9304f1.09d858"]]},{"id":"3ab55aa0.486cf6","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"trig","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":1270,"y":480,"wires":[["9402e861.0c2718"]]},{"id":"9402e861.0c2718","type":"switch","z":"af5cc7d3.add988","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1410,"y":480,"wires":[["9ee7f5dc.280738"]]},{"id":"c7565cd3.fc1c4","type":"function","z":"af5cc7d3.add988","name":"Up Down \"driver\"","func":"\nvar Value = global.get(\"timer\");\n\nif(msg.payload === true && Value <300){\n    global.set('timer', Value + 1)\n\n} \n\nif(msg.payload === false && Value >0) {\n    global.set('timer', Value - 1)\n\n}\nValue = global.get(\"timer\");\nmsg.payload = Value\n\nreturn msg","outputs":1,"noerr":0,"x":1570,"y":640,"wires":[[]]},{"id":"3d8df0de.754df","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1350,"y":420,"wires":[["8d9de0ee.fec52"]]},{"id":"8d9de0ee.fec52","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"timer\",0)\nglobal.set(\"trig\",false)\nreturn msg;","outputs":1,"noerr":0,"x":1590,"y":420,"wires":[[]]},{"id":"86e1ae6e.5ceb3","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"timer","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":330,"y":3540,"wires":[["1432c47e.00645c"]]},{"id":"6662e1b.2e63d2","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"timer2","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":320,"y":3580,"wires":[["b7e4799.5742588"]]},{"id":"778d4bee.9d8a64","type":"switch","z":"af5cc7d3.add988","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1670,"y":1540,"wires":[["d559bb1.0b29348"]]},{"id":"a2029da8.317ed","type":"switch","z":"af5cc7d3.add988","name":"false","property":"payload","propertyType":"msg","rules":[{"t":"false"}],"checkall":"true","repair":false,"outputs":1,"x":1670,"y":1580,"wires":[["d559bb1.0b29348"]]},{"id":"3fb0cdd5.3f3212","type":"function","z":"af5cc7d3.add988","name":"driver up down","func":"msg.payload = global.get(\"trig2\");\nreturn msg;\n","outputs":1,"noerr":0,"x":1500,"y":1560,"wires":[["778d4bee.9d8a64","a2029da8.317ed"]]},{"id":"5f3e1f85.b8c42","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"trig2","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":1330,"y":1500,"wires":[["8a67d1d6.47ffd"]]},{"id":"8a67d1d6.47ffd","type":"switch","z":"af5cc7d3.add988","name":"true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1470,"y":1500,"wires":[["3fb0cdd5.3f3212"]]},{"id":"d559bb1.0b29348","type":"function","z":"af5cc7d3.add988","name":"Up Down \"driver\"","func":"\nvar Value = global.get(\"timer2\");\n\nif(msg.payload === true && Value <180){\n    global.set('timer2', Value + 1)\n\n} \n\nif(msg.payload === false && Value >0) {\n    global.set('timer2', Value - 1)\n\n}\nValue = global.get(\"timer2\");\nmsg.payload = Value\n\nreturn msg","outputs":1,"noerr":0,"x":1830,"y":1560,"wires":[[]]},{"id":"6dc789d6.7d38c8","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":1090,"y":300,"wires":[["40eca1e3.bc41d","27bf2877.e529f8"]]},{"id":"b60121ad.70061","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":1090,"y":340,"wires":[["40eca1e3.bc41d","7934fb9.a380c04","8a6d799a.9afb58"]]},{"id":"7934fb9.a380c04","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload;\nif (data === false) {\n    msg.reset = true;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1370,"y":280,"wires":[["27bf2877.e529f8"]]},{"id":"40eca1e3.bc41d","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"trig\",msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":1370,"y":320,"wires":[[]]},{"id":"8a6d799a.9afb58","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload;\nif (data === false) {\n    msg.payload = true;\n    return msg;\n}","outputs":1,"noerr":0,"x":1370,"y":360,"wires":[["8d9de0ee.fec52"]]},{"id":"25cf37df.774648","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload;\nif (data === true) {\n    msg.payload = true;\n    return msg;\n}","outputs":1,"noerr":0,"x":1550,"y":300,"wires":[["8d9de0ee.fec52"]]},{"id":"d110a6fd.946e18","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload;\nif (data === true) {\n    msg.payload = true;\n    return msg;\n}","outputs":1,"noerr":0,"x":1750,"y":1800,"wires":[[]]},{"id":"fcc3d410.3bbaf8","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":1190,"y":1860,"wires":[["d339d87c.a1bb68","cd50ce55.a0ae5"]]},{"id":"e2bd048.e33d1f8","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":1190,"y":1900,"wires":[["d339d87c.a1bb68","e3280423.9dc9f8","2c436439.78fd4c"]]},{"id":"e3280423.9dc9f8","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload;\nif (data === false) {\n    msg.reset = true;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1570,"y":1820,"wires":[["cd50ce55.a0ae5"]]},{"id":"d339d87c.a1bb68","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"trig2\",msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":1860,"wires":[[]]},{"id":"2c436439.78fd4c","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload;\nif (data === false) {\n    msg.payload = true;\n    return msg;\n}","outputs":1,"noerr":0,"x":1570,"y":1900,"wires":[["2e4f253a.d2469a"]]},{"id":"6c83c928.8591d8","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload\nif (data === true ) {\n    msg.payload = false\n    return msg;\n}","outputs":1,"noerr":0,"x":1310,"y":220,"wires":[["7934fb9.a380c04","40eca1e3.bc41d","8a6d799a.9afb58"]]},{"id":"a19247c3.0402f8","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload\nif (data === true ) {\n    msg.payload = false\n    return msg;\n}","outputs":1,"noerr":0,"x":1430,"y":1800,"wires":[["e3280423.9dc9f8","d339d87c.a1bb68","2c436439.78fd4c"]]},{"id":"12dd71c0.86567e","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1750,"y":1860,"wires":[["2e4f253a.d2469a"]]},{"id":"2e4f253a.d2469a","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"timer2\",0)\nglobal.set(\"trig2\",false)\nreturn msg;","outputs":1,"noerr":0,"x":1890,"y":1860,"wires":[[]]},{"id":"66750cb6.6817d4","type":"ui_button","z":"af5cc7d3.add988","name":"","group":"7fa90d66.3ad5c4","order":1,"width":8,"height":4,"passthru":false,"label":"ON","tooltip":"","color":"","bgcolor":"green","icon":"","payload":"true","payloadType":"bool","topic":"","x":530,"y":2940,"wires":[["1d40700d.39ece"]]},{"id":"2d17c80a.d97648","type":"ui_button","z":"af5cc7d3.add988","name":"","group":"7fa90d66.3ad5c4","order":2,"width":8,"height":4,"passthru":false,"label":"OFF","tooltip":"","color":"","bgcolor":"red","icon":"","payload":"false","payloadType":"bool","topic":"","x":530,"y":2980,"wires":[["1d40700d.39ece"]]},{"id":"6b9f5d0c.aa0884","type":"ui_text","z":"af5cc7d3.add988","group":"cb9ec97e.b45568","order":3,"width":"7","height":1,"name":"","label":"R3","format":"{{msg.payload}}","layout":"row-spread","x":530,"y":2780,"wires":[]},{"id":"d1159f2f.693d4","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"R3","payloadType":"global","repeat":"0.5","crontab":"","once":true,"onceDelay":0.1,"x":250,"y":2780,"wires":[["fc7a6995.006408","e71182bb.4f2a5"]]},{"id":"e71182bb.4f2a5","type":"rpi-gpio out","z":"af5cc7d3.add988","name":"R3 (Pin numarası Belirleyiniz)","pin":"29","set":"","level":"0","freq":"","out":"out","x":510,"y":2720,"wires":[]},{"id":"fc7a6995.006408","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload;\n\n\nif( data === true){\n    msg.payload = \"Kapalı\";\n\n    return msg;\n}else if( data === false ){\n    \n    msg.payload = \"Açık\";\n    return msg;\n}\n\n\n\n","outputs":1,"noerr":0,"x":410,"y":2780,"wires":[["6b9f5d0c.aa0884"]]},{"id":"1d40700d.39ece","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload;\n\n\nif( data === true ){\n    \n    global.set(\"R3\",false);\n    \n    \n}else if( data === false ){\n    \n    global.set(\"R3\",true);\n    \n    \n      \n}\n\n\n\n","outputs":1,"noerr":0,"x":670,"y":2960,"wires":[[]]},{"id":"f0569e22.e997a","type":"function","z":"af5cc7d3.add988","name":"","func":"\nvar data = msg.payload;\n\n\nif( data === false ){\n    msg.enabled = false\n    \n    return msg;\n    \n}else if( data === true ){\n    \n    msg.enabled = true;\n    return msg;\n     \n    \n}\n\n\n","outputs":1,"noerr":0,"x":410,"y":2940,"wires":[["66750cb6.6817d4"]]},{"id":"bd86cca1.6321a","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"R3","payloadType":"global","repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"x":250,"y":2960,"wires":[["f0569e22.e997a","bdb95fe1.149de"]]},{"id":"bdb95fe1.149de","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload;\n\n\nif( data === false ){\n    msg.enabled = true\n    \n    return msg;\n    \n}else if( data === true ){\n    \n    msg.enabled = false;\n    return msg;\n     \n    \n}\n","outputs":1,"noerr":0,"x":410,"y":2980,"wires":[["2d17c80a.d97648"]]},{"id":"a2799b44.e996c8","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1610,"y":3320,"wires":[["41bcc0bd.b65ae"]]},{"id":"41bcc0bd.b65ae","type":"function","z":"af5cc7d3.add988","name":"R3","func":"global.set(\"R3\",true)\nreturn msg;","outputs":1,"noerr":0,"x":1770,"y":3320,"wires":[[]]},{"id":"4e49b35b.cae8ec","type":"comment","z":"af5cc7d3.add988","name":"Röle","info":"","x":230,"y":2460,"wires":[]},{"id":"a4ecd356.8e61e","type":"comment","z":"af5cc7d3.add988","name":"Analizör","info":"","x":410,"y":3640,"wires":[]},{"id":"b3432cb4.19305","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1010,"y":4060,"wires":[["479008a1.386968"]]},{"id":"479008a1.386968","type":"function","z":"af5cc7d3.add988","name":"Create Global Variable To Hold Azure Data","func":"var data = {\n    \"A1_v1\"     :undefined,\n    \"A1_v2\"     :undefined,\n    \"A1_v3\"     :undefined,\n    \"A1_c1\"     :undefined,\n    \"A1_c2\"     :undefined,\n    \"A1_c3\"     :undefined,\n    \"A1_p1\"     :undefined,\n    \"A1_p2\"     :undefined,\n    \"A1_p3\"     :undefined,\n    \"A1_t_p\"    :undefined,\n    \"T1\"        :undefined,\n    \"T2\"        :undefined,\n    \"T3\"        :undefined,\n    \"T4\"        :undefined,\n    \"T5\"        :undefined,\n    \"T6\"        :undefined,\n    \"P1\"        :undefined,\n    \"P2\"        :undefined,\n    \"P3\"        :undefined,\n    \"P4\"        :undefined,\n    \"PT\"        :undefined\n    }\nglobal.set('azure_data', data)\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":4060,"wires":[[]]},{"id":"89c180fa.9bfba","type":"debug","z":"af5cc7d3.add988","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1170,"y":4100,"wires":[]},{"id":"65976958.277498","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"azure_data","payloadType":"global","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":990,"y":4100,"wires":[["89c180fa.9bfba"]]},{"id":"dfd4dc4.49a762","type":"function","z":"af5cc7d3.add988","name":"Temperature Sensor","func":"\nmsg = {\n    \"payload\" : {\n        \"Temp1\" :   msg.payload[0]  /   10,\n        \"Temp2\"\t:   msg.payload[1]  /   10,\n        \"Temp3\"\t:   msg.payload[2]  /   10,\n        \"Temp4\"\t:   msg.payload[3]  /   10,\n        \"Temp5\"\t:   msg.payload[4]  /   10,\n        \"Temp6\"\t:   msg.payload[5]  /   10\n        \n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":600,"y":4160,"wires":[["87deab1b.712068"]]},{"id":"9d7e05ea.8aac88","type":"debug","z":"af5cc7d3.add988","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":590,"y":4220,"wires":[]},{"id":"87deab1b.712068","type":"function","z":"af5cc7d3.add988","name":"Set Data To Azure_Global ","func":"var data = global.get('azure_data');\n\ndata[\"T1\"]    =  msg.payload[\"Temp1\"];\ndata[\"T2\"]    =  msg.payload[\"Temp2\"];\ndata[\"T3\"]    =  msg.payload[\"Temp3\"];\ndata[\"T4\"]    =  msg.payload[\"Temp4\"];\ndata[\"T5\"]    =  msg.payload[\"Temp5\"];\ndata[\"T6\"]    =  msg.payload[\"Temp6\"];\n\nglobal.set('azure_data', data);\n\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":4160,"wires":[[]]},{"id":"4f7244bf.90f4cc","type":"ui_level","z":"af5cc7d3.add988","group":"e9bad18e.4ef02","order":1,"width":"7","height":"6","name":"T1","label":"T1","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":"-25","max":"250","segWarn":"","segHigh":"","unit":"°C","layout":"sv","channelA":"","channelB":"","decimals":"1","animations":"soft","shape":2,"colorschema":"fixed","textoptions":"default","colorText":"#eeeeee","fontLabel":"","fontValue":"","fontSmall":"","colorFromTheme":true,"textAnimations":false,"hideValue":false,"peakmode":false,"peaktime":"3000","x":490,"y":4520,"wires":[]},{"id":"43f1f717.7707e8","type":"ui_level","z":"af5cc7d3.add988","group":"e9bad18e.4ef02","order":2,"width":"8","height":"6","name":"T2","label":"T2","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":"-25","max":"250","segWarn":"","segHigh":"","unit":"°C","layout":"sv","channelA":"","channelB":"","decimals":"1","animations":"soft","shape":2,"colorschema":"fixed","textoptions":"default","colorText":"#eeeeee","fontLabel":"","fontValue":"","fontSmall":"","colorFromTheme":true,"textAnimations":false,"hideValue":false,"peakmode":false,"peaktime":"3000","x":490,"y":4560,"wires":[]},{"id":"107dfa3a.ec2186","type":"ui_level","z":"af5cc7d3.add988","group":"e9bad18e.4ef02","order":3,"width":"7","height":"6","name":"T3","label":"T3","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":"-25","max":"250","segWarn":"","segHigh":"","unit":"°C","layout":"sv","channelA":"","channelB":"","decimals":"1","animations":"soft","shape":2,"colorschema":"fixed","textoptions":"default","colorText":"#eeeeee","fontLabel":"","fontValue":"","fontSmall":"","colorFromTheme":true,"textAnimations":false,"hideValue":false,"peakmode":false,"peaktime":"3000","x":490,"y":4600,"wires":[]},{"id":"b40653cf.60e7f","type":"ui_level","z":"af5cc7d3.add988","group":"e9bad18e.4ef02","order":4,"width":"7","height":"6","name":"T4","label":"T4","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":"-25","max":"250","segWarn":"","segHigh":"","unit":"°C","layout":"sv","channelA":"","channelB":"","decimals":"1","animations":"soft","shape":2,"colorschema":"fixed","textoptions":"default","colorText":"#eeeeee","fontLabel":"","fontValue":"","fontSmall":"","colorFromTheme":true,"textAnimations":false,"hideValue":false,"peakmode":false,"peaktime":"3000","x":490,"y":4640,"wires":[]},{"id":"d86df0f8.53a84","type":"ui_level","z":"af5cc7d3.add988","group":"e9bad18e.4ef02","order":5,"width":"8","height":"6","name":"T5","label":"T5","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":"-25","max":"250","segWarn":"","segHigh":"","unit":"°C","layout":"sv","channelA":"","channelB":"","decimals":"1","animations":"soft","shape":2,"colorschema":"fixed","textoptions":"default","colorText":"#eeeeee","fontLabel":"","fontValue":"","fontSmall":"","colorFromTheme":true,"textAnimations":false,"hideValue":false,"peakmode":false,"peaktime":"3000","x":490,"y":4680,"wires":[]},{"id":"7a8dda2e.521054","type":"ui_level","z":"af5cc7d3.add988","group":"e9bad18e.4ef02","order":6,"width":"7","height":"6","name":"T6","label":"T6","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":"-25","max":"250","segWarn":"","segHigh":"","unit":"°C","layout":"sv","channelA":"","channelB":"","decimals":"1","animations":"soft","shape":2,"colorschema":"fixed","textoptions":"default","colorText":"#eeeeee","fontLabel":"","fontValue":"","fontSmall":"","colorFromTheme":true,"textAnimations":false,"hideValue":false,"peakmode":false,"peaktime":"3000","x":490,"y":4720,"wires":[]},{"id":"b1c92a26.a0da08","type":"ui_level","z":"af5cc7d3.add988","group":"e951b6a3.dff978","order":1,"width":"5","height":"4","name":"T1","label":"T1","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":"-25","max":"250","segWarn":"","segHigh":"","unit":"°C","layout":"sv","channelA":"","channelB":"","decimals":"1","animations":"soft","shape":2,"colorschema":"fixed","textoptions":"default","colorText":"#eeeeee","fontLabel":"","fontValue":"","fontSmall":"","colorFromTheme":true,"textAnimations":false,"hideValue":false,"peakmode":false,"peaktime":"3000","x":630,"y":4520,"wires":[]},{"id":"5d20cf2d.6b948","type":"ui_level","z":"af5cc7d3.add988","group":"e951b6a3.dff978","order":2,"width":"6","height":"4","name":"T3","label":"T3","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":"-25","max":"250","segWarn":"","segHigh":"","unit":"°C","layout":"sv","channelA":"","channelB":"","decimals":"1","animations":"soft","shape":2,"colorschema":"fixed","textoptions":"default","colorText":"#eeeeee","fontLabel":"","fontValue":"","fontSmall":"","colorFromTheme":true,"textAnimations":false,"hideValue":false,"peakmode":false,"peaktime":"3000","x":630,"y":4600,"wires":[]},{"id":"13fb9bff.101584","type":"ui_level","z":"af5cc7d3.add988","group":"e951b6a3.dff978","order":3,"width":"5","height":"4","name":"T5","label":"T5","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":"-25","max":"250","segWarn":"","segHigh":"","unit":"°C","layout":"sv","channelA":"","channelB":"","decimals":"1","animations":"soft","shape":2,"colorschema":"fixed","textoptions":"default","colorText":"#eeeeee","fontLabel":"","fontValue":"","fontSmall":"","colorFromTheme":true,"textAnimations":false,"hideValue":false,"peakmode":false,"peaktime":"3000","x":630,"y":4680,"wires":[]},{"id":"46b7fc11.926754","type":"ui_level","z":"af5cc7d3.add988","group":"e9d1b9d2.8beba8","order":1,"width":"4","height":"5","name":"P1","label":"P1","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":"0","max":"40","segWarn":"","segHigh":"","unit":"bar","layout":"sv","channelA":"","channelB":"","decimals":"1","animations":"soft","shape":2,"colorschema":"fixed","textoptions":"default","colorText":"#eeeeee","fontLabel":"1.5","fontValue":"3","fontSmall":"1.5","colorFromTheme":true,"textAnimations":false,"hideValue":false,"peakmode":false,"peaktime":"3000","x":950,"y":4520,"wires":[]},{"id":"8817e3bb.2f45e","type":"ui_level","z":"af5cc7d3.add988","group":"e9d1b9d2.8beba8","order":2,"width":"4","height":"5","name":"P2","label":"P2","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":"0","max":"40","segWarn":"","segHigh":"","unit":"bar","layout":"sv","channelA":"","channelB":"","decimals":"1","animations":"soft","shape":2,"colorschema":"fixed","textoptions":"default","colorText":"#eeeeee","fontLabel":"","fontValue":"","fontSmall":"","colorFromTheme":true,"textAnimations":false,"hideValue":false,"peakmode":false,"peaktime":"3000","x":950,"y":4560,"wires":[]},{"id":"3783d3f3.0fd27c","type":"ui_level","z":"af5cc7d3.add988","group":"e9d1b9d2.8beba8","order":3,"width":"4","height":"5","name":"P2S","label":"P2S","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":"0","max":"40","segWarn":"","segHigh":"","unit":"bar","layout":"sv","channelA":"","channelB":"","decimals":"1","animations":"soft","shape":2,"colorschema":"fixed","textoptions":"default","colorText":"#eeeeee","fontLabel":"","fontValue":"","fontSmall":"","colorFromTheme":true,"textAnimations":false,"hideValue":false,"peakmode":false,"peaktime":"3000","x":950,"y":4600,"wires":[]},{"id":"472c73f2.290c7c","type":"ui_level","z":"af5cc7d3.add988","group":"e9d1b9d2.8beba8","order":4,"width":"4","height":"5","name":"PS","label":"PS","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":"0","max":"40","segWarn":"","segHigh":"","unit":"bar","layout":"sv","channelA":"","channelB":"","decimals":"1","animations":"soft","shape":2,"colorschema":"fixed","textoptions":"default","colorText":"#eeeeee","fontLabel":"","fontValue":"","fontSmall":"","colorFromTheme":true,"textAnimations":false,"hideValue":false,"peakmode":false,"peaktime":"3000","x":950,"y":4640,"wires":[]},{"id":"61097023.ecc75","type":"debug","z":"af5cc7d3.add988","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1470,"y":2480,"wires":[]},{"id":"5a847cf9.e853c4","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"T1","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":350,"y":4520,"wires":[["4f7244bf.90f4cc","b1c92a26.a0da08"]]},{"id":"163c585c.4c5648","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"T2","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":350,"y":4560,"wires":[["43f1f717.7707e8"]]},{"id":"7965926c.41bb8c","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"T3","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":350,"y":4600,"wires":[["107dfa3a.ec2186","5d20cf2d.6b948"]]},{"id":"27b73692.b5deea","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"T4","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":350,"y":4640,"wires":[["b40653cf.60e7f"]]},{"id":"62a59079.8b923","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"T5","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":350,"y":4680,"wires":[["d86df0f8.53a84","13fb9bff.101584"]]},{"id":"1d2eb8b1.5b4ad7","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"T6","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":350,"y":4720,"wires":[["7a8dda2e.521054"]]},{"id":"ae2b25a3.923a28","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"P1","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":810,"y":4520,"wires":[["46b7fc11.926754"]]},{"id":"ced3c0fb.dd34c","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"P2","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":810,"y":4560,"wires":[["8817e3bb.2f45e"]]},{"id":"76ec9e2c.b1a9d","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"P2S","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":810,"y":4600,"wires":[["3783d3f3.0fd27c"]]},{"id":"3a8bab06.2ec7f4","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"PS","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":810,"y":4640,"wires":[["472c73f2.290c7c"]]},{"id":"8eb6c186.14ee6","type":"function","z":"af5cc7d3.add988","name":"Pressure Sensor","func":"\nmsg = {\n    \"payload\" : {\n        \"P1\"    :   msg.payload[0]  /   100,\n        \"P2\"\t:   msg.payload[1]  /   100,\n        \"P3\"\t:   msg.payload[2]  /   100,\n        \"P4\"\t:   msg.payload[3]  /   100\n        \n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4280,"wires":[["edf4fcb3.a5a31","38e6e6b8.10ed4a"]]},{"id":"edf4fcb3.a5a31","type":"range","z":"af5cc7d3.add988","minin":"0","maxin":"10","minout":"0","maxout":"50","action":"scale","round":false,"property":"payload.P1","name":"","x":670,"y":4300,"wires":[["8e4aaab7.2369b8"]]},{"id":"38e6e6b8.10ed4a","type":"range","z":"af5cc7d3.add988","minin":"0","maxin":"10","minout":"0","maxout":"50","action":"scale","round":false,"property":"payload.P2","name":"","x":670,"y":4340,"wires":[["3cedef15.4702d"]]},{"id":"8e4aaab7.2369b8","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = parseFloat( (msg.payload.P1).toFixed(1));\nmsg.payload = Number(data)\n\nvar data1 = global.get('azure_data');\ndata1[\"P1\"]    =  data;\nglobal.set('azure_data', data1);\n\nreturn msg;\n","outputs":1,"noerr":0,"x":790,"y":4300,"wires":[[]]},{"id":"3cedef15.4702d","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = parseFloat( (msg.payload.P2).toFixed(1));\nmsg.payload = Number(data)\n\nvar data1 = global.get('azure_data');\ndata1[\"P2\"]    =  data;\nglobal.set('azure_data', data1);\n\nreturn msg;\n","outputs":1,"noerr":0,"x":790,"y":4340,"wires":[[]]},{"id":"c680fce8.893f2","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":1020,"y":4200,"wires":[[]]},{"id":"97f57e7.1af2d8","type":"azureiothub","z":"af5cc7d3.add988","name":"Azure IoT Hub","protocol":"mqtt","x":1220,"y":4360,"wires":[["e654f1b1.28209"]]},{"id":"37ac83f1.6ef17c","type":"function","z":"af5cc7d3.add988","name":"","func":"\n\n// Return a new message with the required data for the Hub.\nmsg= {\n    payload: {\n        \"deviceId\": \"2c61c9f2-4c98-4121-9782-e58a54533747\",\n        \"key\": \"dd/k0MTs70DG9kS/h0uuyTjmvDZa077IF+VVV+pKD/w=\",\n        \"data\": global.get(\"azure_data\")\n    }\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":1080,"y":4300,"wires":[["97f57e7.1af2d8"]]},{"id":"e654f1b1.28209","type":"debug","z":"af5cc7d3.add988","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1250,"y":4420,"wires":[]},{"id":"ee99507e.d3fca","type":"comment","z":"af5cc7d3.add988","name":"Set fonksiyonu iptali için","info":"","x":580,"y":2020,"wires":[]},{"id":"8dca1b0a.81b318","type":"ui_form","z":"af5cc7d3.add988","name":"","label":"","group":"16477407.d9eabc","order":0,"width":"0","height":"0","options":[{"label":"Minimum","value":"Min","type":"number","required":true},{"label":"Maksimum","value":"Max","type":"number","required":true}],"formValue":{"Min":"","Max":""},"payload":"","submit":"Gönder","cancel":"İptal","topic":"","x":170,"y":3380,"wires":[[]]},{"id":"5d92327e.24fecc","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"driver_min\",msg.payload.Min)\nglobal.set(\"driver_max\",msg.payload.Max)\nglobal.set(\"driver\",msg.payload.Min)\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":3360,"wires":[[]]},{"id":"c547a22a.7a7f2","type":"function","z":"af5cc7d3.add988","name":"","func":"\nmsg = {ui_control:{min:msg.payload.Min}};\nreturn msg;\n","outputs":1,"noerr":0,"x":350,"y":3400,"wires":[[]]},{"id":"ce9b00ac.cf1e4","type":"function","z":"af5cc7d3.add988","name":"","func":"\nmsg = {ui_control:{max:msg.payload.Max}};\nreturn msg;\n","outputs":1,"noerr":0,"x":350,"y":3440,"wires":[[]]},{"id":"25682e5e.43a9d2","type":"http in","z":"af5cc7d3.add988","name":"","url":"/data","method":"post","upload":false,"swaggerDoc":"","x":710,"y":4840,"wires":[["7d90cb2d.498f84","a34fcdf7.cab9f","320e63da.70061c"]]},{"id":"7d90cb2d.498f84","type":"debug","z":"af5cc7d3.add988","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":900,"y":4880,"wires":[]},{"id":"a34fcdf7.cab9f","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"azure_data\",msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":980,"y":4740,"wires":[[]]},{"id":"320e63da.70061c","type":"http response","z":"af5cc7d3.add988","name":"","statusCode":"200","headers":{},"x":940,"y":4980,"wires":[]},{"id":"ea4b44f6.2af998","type":"function","z":"af5cc7d3.add988","name":"","func":"var azure_data = global.get(\"azure_data\")\n\nglobal.set(\"T1\",0)\nglobal.set(\"T2\",0)\nglobal.set(\"T3\",0)\nglobal.set(\"T4\",0)\nglobal.set(\"T5\",0)\nglobal.set(\"T6\",0)\nglobal.set(\"P1\",0)\nglobal.set(\"P2\",azure_data.P2)\nglobal.set(\"P2S\",0)\nglobal.set(\"PS\",0)\n\nreturn msg;","outputs":1,"noerr":0,"x":1620,"y":3380,"wires":[[]]},{"id":"9820647b.986ef8","type":"delay","z":"af5cc7d3.add988","name":"","pauseType":"delay","timeout":"60","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":300,"y":140,"wires":[["ddb539aa.827248"]]},{"id":"ddb539aa.827248","type":"function","z":"af5cc7d3.add988","name":"","func":"var data = msg.payload;\n\nif (data === true) {\n    msg.reset = true;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":290,"y":200,"wires":[["9820647b.986ef8"]]},{"id":"e324874d.80cc38","type":"function","z":"af5cc7d3.add988","name":"magneto","func":"var data = {\n    \"A1_v\"      :undefined,\n    \"A1_c\"      :undefined,\n    \"A1_p\"      :undefined,\n    \"T1\"        :undefined,\n    \"T2\"        :undefined,\n    \"T3\"        :undefined,\n    \"T4\"        :undefined,\n    \"T5\"        :undefined,\n    \"T6\"        :undefined,\n    \"P1\"        :undefined,\n    \"P2\"        :undefined,\n    \"driver\"    :undefined\n    }\nglobal.set('azure_data', data)\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":3720,"wires":[[]]},{"id":"b3ed7f1b.45cf9","type":"function","z":"af5cc7d3.add988","name":"msg.payload = T1","func":"var data    =   global.get(\"T1\");\nmsg.payload =   data\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":1600,"wires":[["29805ef3.699d72"]]},{"id":"29805ef3.699d72","type":"switch","z":"af5cc7d3.add988","name":"T1 < 50","property":"payload","propertyType":"msg","rules":[{"t":"lt","v":"50","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":1260,"y":1600,"wires":[["1ee6973a.e34da9"]]},{"id":"b8fd4245.675fe","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"temp2","payloadType":"global","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":780,"y":1600,"wires":[["7c3f55db.07c49c"]]},{"id":"7c3f55db.07c49c","type":"switch","z":"af5cc7d3.add988","name":"is true","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":930,"y":1600,"wires":[["b3ed7f1b.45cf9"]]},{"id":"ed928852.b468d8","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"45","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":1060,"wires":[["34fa1ac9.b16206"]]},{"id":"30762144.86f21e","type":"delay","z":"af5cc7d3.add988","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1580,"y":1660,"wires":[["19f07189.0f7c4e"]]},{"id":"19f07189.0f7c4e","type":"function","z":"af5cc7d3.add988","name":"R4 OFF","func":"global.set(\"R4\",true);\nreturn msg;","outputs":1,"noerr":0,"x":1720,"y":1660,"wires":[[]]},{"id":"ced98bce.f0c5f8","type":"function","z":"af5cc7d3.add988","name":"Akım ve Gerilim","func":"global.set('dev1_gerilim', msg.payload[2])\nglobal.set('dev1_akim', msg.payload[8])\n","outputs":1,"noerr":0,"x":560,"y":3800,"wires":[[]]},{"id":"75a56145.a43be","type":"function","z":"af5cc7d3.add988","name":"","func":"\n","outputs":1,"noerr":0,"x":530,"y":3840,"wires":[[]]},{"id":"9bb62e41.f97ca","type":"function","z":"af5cc7d3.add988","name":"Data(akü)","func":"msg = {\n    \"payload\":{\n        \"aku_donus_volt\" : global.get('dev1_gerilim') / 100,\n        \"aku_current\"    : global.get('dev1_akim') / 100,\n        \"aku_donus\"      : parseFloat( (global.get('dev1_gerilim') / 100 * global.get('dev1_akim') / 100).toFixed(2) )\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":540,"y":3920,"wires":[["68fdbdac.bfb2d4","c5d9ed2b.0b5f2","bd3eb620.782148","613ab5d7.5661ec"]]},{"id":"86a55ed1.e6289","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"5","crontab":"","once":true,"onceDelay":"4","x":330,"y":3920,"wires":[["9bb62e41.f97ca"]]},{"id":"384ce44b.86e7fc","type":"debug","z":"af5cc7d3.add988","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":550,"y":3760,"wires":[]},{"id":"68fdbdac.bfb2d4","type":"ui_gauge","z":"af5cc7d3.add988","name":"","group":"f55201eb.aecbc","order":0,"width":"3","height":"3","gtype":"gage","title":"Gerilim","label":"V","format":"{{payload.aku_donus_volt}}","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":720,"y":3900,"wires":[]},{"id":"c5d9ed2b.0b5f2","type":"ui_gauge","z":"af5cc7d3.add988","name":"","group":"f55201eb.aecbc","order":0,"width":"3","height":"3","gtype":"compass","title":"Güç","label":"W","format":"{{payload.aku_donus}}","min":0,"max":"1000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":710,"y":3940,"wires":[]},{"id":"bd3eb620.782148","type":"ui_gauge","z":"af5cc7d3.add988","name":"","group":"f55201eb.aecbc","order":0,"width":"3","height":"3","gtype":"gage","title":"Akım","label":"A","format":"{{payload.aku_current}}","min":0,"max":"30","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":710,"y":3980,"wires":[]},{"id":"613ab5d7.5661ec","type":"debug","z":"af5cc7d3.add988","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":490,"y":3980,"wires":[]},{"id":"41662b69.6054d4","type":"function","z":"af5cc7d3.add988","name":"set \"21\" bar","func":"global.set(\"P2S\",21);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":1060,"wires":[[]]},{"id":"5414dd03.a935b4","type":"function","z":"af5cc7d3.add988","name":"set \"22\" bar","func":"global.set(\"P2S\",22);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":1100,"wires":[[]]},{"id":"511ee21.c113d1c","type":"function","z":"af5cc7d3.add988","name":"set \"23\" bar","func":"global.set(\"P2S\",23);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":1140,"wires":[[]]},{"id":"8b2df9b4.c69628","type":"function","z":"af5cc7d3.add988","name":"set \"25\" bar","func":"global.set(\"P2S\",25);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":1220,"wires":[[]]},{"id":"367b3571.58507a","type":"function","z":"af5cc7d3.add988","name":"set \"20\" bar","func":"global.set(\"P2S\",20);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":1020,"wires":[[]]},{"id":"7ce8eb84.000ad4","type":"function","z":"af5cc7d3.add988","name":"set \"19\" bar","func":"global.set(\"P2S\",19);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":980,"wires":[[]]},{"id":"9a43d3a2.060c3","type":"function","z":"af5cc7d3.add988","name":"set \"26\" bar","func":"global.set(\"P2S\",26);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":1260,"wires":[[]]},{"id":"bb8ab4ba.887518","type":"function","z":"af5cc7d3.add988","name":"set \"27\" bar","func":"global.set(\"P2S\",27);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":1300,"wires":[[]]},{"id":"427282c8.35779c","type":"function","z":"af5cc7d3.add988","name":"set \"24\" bar","func":"global.set(\"P2S\",24);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":1180,"wires":[[]]},{"id":"d245f457.a93788","type":"function","z":"af5cc7d3.add988","name":"set \"29\" bar","func":"global.set(\"P2S\",29);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":1380,"wires":[[]]},{"id":"828aa425.f8aa88","type":"function","z":"af5cc7d3.add988","name":"set \"30\" bar","func":"global.set(\"P2S\",30);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":1420,"wires":[[]]},{"id":"858f45aa.faebe8","type":"function","z":"af5cc7d3.add988","name":"set \"28\" bar","func":"global.set(\"P2S\",28);\nglobal.set(\"driverf\",true)\nglobal.set(\"sensor\",true)\nreturn msg;","outputs":1,"noerr":0,"x":2050,"y":1340,"wires":[[]]},{"id":"445ba687.782da8","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",19);\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2520,"wires":[[]]},{"id":"35d17be8.d61ef4","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",20);\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2560,"wires":[[]]},{"id":"80b69fe2.f83de","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",21);\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2600,"wires":[[]]},{"id":"a69897f.1206368","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",22);\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2640,"wires":[[]]},{"id":"1edf5328.e1225d","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",23);\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2680,"wires":[[]]},{"id":"e4458fe2.027a4","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",24);\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2720,"wires":[[]]},{"id":"f78e201a.31752","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",25);\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2760,"wires":[[]]},{"id":"5a27b494.7dfdac","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",26);\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2800,"wires":[[]]},{"id":"39b1f528.f6bcca","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",27);\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":2840,"wires":[[]]},{"id":"300d34a8.067c7c","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",28);\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":2860,"wires":[[]]},{"id":"9c8d072a.c6f7d8","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",29);\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":2900,"wires":[[]]},{"id":"34d43931.73e576","type":"function","z":"af5cc7d3.add988","name":"","func":"global.set(\"PS\",30);\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":2940,"wires":[[]]},{"id":"1967fd63.63c6b3","type":"function","z":"af5cc7d3.add988","name":"","func":"//var data = global.get(\"dev1_gerilim\")\nvar data = msg.payload;\n\nif ( data < 261 ) {\n    msg.payload = true;\n    return msg;\n}\n\nelse if ( data > 389) {\n    msg.payload = false;\n    return msg;\n}\n\nelse {\n    msg.payoad = null;\n}","outputs":1,"noerr":0,"x":1250,"y":3620,"wires":[["e059af82.758e7"]]},{"id":"d06e45fb.eac098","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"250","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":1000,"y":3620,"wires":[["1967fd63.63c6b3"]]},{"id":"b3af1ef5.99d69","type":"debug","z":"af5cc7d3.add988","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1660,"y":3640,"wires":[]},{"id":"6d902c1d.34fd84","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"300","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":980,"y":3680,"wires":[["1967fd63.63c6b3"]]},{"id":"4ce36726.6b9228","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"400","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":960,"y":3720,"wires":[["1967fd63.63c6b3"]]},{"id":"e059af82.758e7","type":"function","z":"af5cc7d3.add988","name":"Şebeke Ön Hazırlık","func":"//var min = global.get(\"driver_min\")\n//var max = global.get(\"driver_max\")\nvar Value = global.get(\"driver\");\n\nif(msg.payload === true && Value <50){\n    global.set('driver', Value + 1)\n    //global.set(\"check\",true)\n    //global.set(\"driverf\",false)\n} \n\nif(msg.payload === false && Value >0) {\n    global.set('driver', Value - 1)\n    //global.set(\"check\",true)\n    //global.set(\"driverf\",false)\n}\nValue = global.get(\"driver\");\nmsg.payload = Value\n\nreturn msg","outputs":1,"noerr":0,"x":1450,"y":3600,"wires":[["b3af1ef5.99d69"]]},{"id":"ff49547.8c226a8","type":"comment","z":"af5cc7d3.add988","name":"Sonra Eklenecek","info":"","x":1320,"y":3560,"wires":[]},{"id":"7d2b2b6a.a80354","type":"debug","z":"af5cc7d3.add988","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":350,"y":4200,"wires":[]},{"id":"8300476a.1aadb8","type":"debug","z":"af5cc7d3.add988","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":240,"y":4440,"wires":[]},{"id":"8238e358.39ca4","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"1000","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":1310,"y":2280,"wires":[["4fc150b4.7bf96"]]},{"id":"ae4ea8ef.04c618","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":1330,"y":2340,"wires":[["4fc150b4.7bf96"]]},{"id":"968eecb0.c7a0f","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":110,"y":2520,"wires":[["f5c60e6f.6297e"]]},{"id":"d1fb18bb.88bbc8","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":70,"y":2480,"wires":[["f5c60e6f.6297e"]]},{"id":"a313a975.69b3d8","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"400","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":1310,"y":2400,"wires":[["4fc150b4.7bf96"]]},{"id":"690f7d7f.055b94","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"200","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":1290,"y":2460,"wires":[["4fc150b4.7bf96"]]},{"id":"68d8609d.7705b","type":"modbus-getter","z":"af5cc7d3.add988","name":"","showStatusActivities":false,"showErrors":false,"logIOActivities":false,"unitid":"2","dataType":"HoldingRegister","adr":"0","quantity":"6","server":"9a0826ea.c84c88","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":320,"y":4060,"wires":[["dfd4dc4.49a762","2625bb33.040d24"],[]]},{"id":"5d77754.fcb778c","type":"inject","z":"af5cc7d3.add988","name":"","topic":"","payload":"","payloadType":"date","repeat":"3","crontab":"","once":false,"onceDelay":0.1,"x":110,"y":4060,"wires":[["68d8609d.7705b","3cfcad8b.824392","42a7ea9d.972844"]]},{"id":"cfeb3ca0.91f7","type":"modbus-getter","z":"af5cc7d3.add988","name":"","showStatusActivities":false,"showErrors":false,"logIOActivities":false,"unitid":"3","dataType":"HoldingRegister","adr":"0","quantity":"6","server":"9a0826ea.c84c88","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":300,"y":4300,"wires":[["99f71a2a.634b18","e53f6233.53de9"],[]]},{"id":"3cfcad8b.824392","type":"delay","z":"af5cc7d3.add988","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":180,"y":4180,"wires":[["cfeb3ca0.91f7"]]},{"id":"14b5bcbf.97ff33","type":"debug","z":"af5cc7d3.add988","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":500,"y":460,"wires":[]},{"id":"ddae68f6.ee45e8","type":"modbus-getter","z":"af5cc7d3.add988","name":"","showStatusActivities":false,"showErrors":false,"logIOActivities":false,"unitid":"1","dataType":"HoldingRegister","adr":"8192","quantity":"6","server":"9a0826ea.c84c88","useIOFile":false,"ioFile":"","useIOForPayload":false,"x":300,"y":3820,"wires":[["ced98bce.f0c5f8","384ce44b.86e7fc"],[]]},{"id":"42a7ea9d.972844","type":"delay","z":"af5cc7d3.add988","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":120,"y":3900,"wires":[["ddae68f6.ee45e8"]]},{"id":"cb9ec97e.b45568","type":"ui_group","z":"","name":"Röle Durumları","tab":"8570e3a7.5b0b5","order":2,"disp":false,"width":"7","collapse":false},{"id":"16477407.d9eabc","type":"ui_group","z":"","name":"Sürücü","tab":"8570e3a7.5b0b5","order":4,"disp":false,"width":"7","collapse":false},{"id":"ea293a6f.f7aab8","type":"modbus-client","z":"","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"tcpHost":"192.168.1.100","tcpPort":"1001","tcpType":"DEFAULT","serialPort":"COM3","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"3000","reconnectTimeout":"2000"},{"id":"89993eec.6483d","type":"ui_group","z":"","name":"Start - Stop","tab":"8570e3a7.5b0b5","order":5,"disp":false,"width":"8","collapse":false},{"id":"44ed6a4f.75d0f4","type":"ui_group","z":"","name":"Timer","tab":"8570e3a7.5b0b5","order":6,"disp":false,"width":"8","collapse":false},{"id":"7fa90d66.3ad5c4","type":"ui_group","z":"","name":"                              R3 ON/OFF","tab":"5b34defa.d27d4","order":1,"disp":true,"width":"16","collapse":false},{"id":"e9bad18e.4ef02","type":"ui_group","z":"","name":"Sıcaklıklar","tab":"847df4b4.eecfb8","order":1,"disp":false,"width":"22","collapse":false},{"id":"e951b6a3.dff978","type":"ui_group","z":"","name":"Sıcaklıklar","tab":"8570e3a7.5b0b5","order":1,"disp":false,"width":"16","collapse":false},{"id":"e9d1b9d2.8beba8","type":"ui_group","z":"","name":"Basınçlar","tab":"8570e3a7.5b0b5","order":3,"disp":false,"width":"16","collapse":false},{"id":"f55201eb.aecbc","type":"ui_group","z":"","name":"Akü","tab":"ea26366a.f4c108","order":10,"disp":true,"width":"9","collapse":false},{"id":"9a0826ea.c84c88","type":"modbus-client","z":"","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"tcpHost":"192.168.1.100","tcpPort":"1001","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB0","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"1000","reconnectTimeout":"2000"},{"id":"8570e3a7.5b0b5","type":"ui_tab","z":"","name":"Atık Isı","icon":"dashboard","order":1,"disabled":false,"hidden":false},{"id":"5b34defa.d27d4","type":"ui_tab","z":"","name":"Röle Kontrol","icon":"dashboard","order":4,"disabled":false,"hidden":false},{"id":"847df4b4.eecfb8","type":"ui_tab","z":"","name":"Sıcaklık Sensör","icon":"dashboard","order":3},{"id":"ea26366a.f4c108","type":"ui_tab","z":"","name":"Repg Home Type 3","icon":"dashboard","order":2}]